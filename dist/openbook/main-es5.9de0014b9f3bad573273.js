!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||c(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e){if(Array.isArray(e))return e}function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||s(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function v(e){var t=_();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){var t="function"==typeof Map?new Map:void 0;return(y=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return k(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,e)})(e)}function k(e,t,n){return(k=_()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&w(i,n.prototype),i}).apply(null,arguments)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkopenbook=self.webpackChunkopenbook||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},7716:function(e,n,r){"use strict";r.d(n,{deG:function(){return dn},tb:function(){return Cu},AFp:function(){return bu},ip1:function(){return _u},CZH:function(){return wu},hGG:function(){return kc},z2F:function(){return cc},sBO:function(){return Cs},Sil:function(){return Uu},_Vd:function(){return Ja},EJc:function(){return Au},SBq:function(){return ts},qLn:function(){return Pr},vpe:function(){return tu},gxx:function(){return wo},tBr:function(){return jn},XFs:function(){return B},OlP:function(){return fn},zs3:function(){return Fo},ZZ4:function(){return _s},aQg:function(){return bs},soG:function(){return Ru},YKP:function(){return Fs},v3s:function(){return hc},h0i:function(){return Ls},PXZ:function(){return ic},R0b:function(){return qu},FiY:function(){return Vn},Lbi:function(){return Eu},g9A:function(){return Tu},n_E:function(){return ru},Qsj:function(){return is},FYo:function(){return rs},JOm:function(){return Fr},Tiy:function(){return as},q3G:function(){return Tr},tp0:function(){return qn},EAV:function(){return pc},Rgc:function(){return Ps},dDg:function(){return Wu},DyG:function(){return pn},q4F:function(){return us},GfV:function(){return ss},s_b:function(){return Us},ifc:function(){return K},eFA:function(){return oc},G48:function(){return nc},Gpc:function(){return T},f3M:function(){return Nn},X6Q:function(){return tc},_c5:function(){return mc},VLi:function(){return Yu},c2e:function(){return Iu},zSh:function(){return xo},wAp:function(){return Ua},vHH:function(){return I},EiD:function(){return xr},mCW:function(){return sr},qzn:function(){return Yn},JVY:function(){return Xn},pB0:function(){return nr},eBb:function(){return er},L6k:function(){return $n},LAX:function(){return tr},cg1:function(){return La},Tjo:function(){return gc},kL8:function(){return Fa},yhl:function(){return Jn},dqk:function(){return J},sIi:function(){return Go},CqO:function(){return ua},QGY:function(){return aa},F4k:function(){return sa},RDi:function(){return Fe},AaK:function(){return w},z3N:function(){return Qn},qOj:function(){return Uo},TTD:function(){return Ie},_Bn:function(){return Wa},xp6:function(){return xi},uIk:function(){return Qo},ekj:function(){return wa},Suo:function(){return vu},Xpm:function(){return ue},lG2:function(){return ve},Yz7:function(){return P},cJS:function(){return N},oAB:function(){return fe},Yjl:function(){return ge},Y36:function(){return Jo},_UZ:function(){return na},BQk:function(){return ia},ynx:function(){return ra},qZA:function(){return ta},TgZ:function(){return ea},EpF:function(){return oa},n5z:function(){return sn},Ikx:function(){return Aa},LFG:function(){return Pn},$8M:function(){return cn},NdJ:function(){return ca},CRH:function(){return gu},kcU:function(){return Tt},O4$:function(){return St},oxw:function(){return pa},ALo:function(){return Xs},lcZ:function(){return $s},Hsn:function(){return ma},F$t:function(){return ga},Q6J:function(){return Xo},iGM:function(){return du},pYS:function(){return Dr},CHM:function(){return $e},LSH:function(){return Er},kYT:function(){return de},Udp:function(){return _a},WFA:function(){return la},d8E:function(){return Oa},YNc:function(){return Yo},_uU:function(){return Ca},Oqu:function(){return Ia},hij:function(){return Ra},Gf:function(){return pu}});var o=r(9359),s=r(9593),c=r(7241),l=r(1860),h=r(815);function g(e){for(var t in e)if(e[t]===g)return t;throw Error("Could not find renamed property on target object.")}function _(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function w(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(w).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function x(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var S=g({__forward_ref__:g});function T(e){return e.__forward_ref__=T,e.toString=function(){return w(this())},e}function E(e){return C(e)?e():e}function C(e){return"function"==typeof e&&e.hasOwnProperty(S)&&e.__forward_ref__===T}var I=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,r))).code=e,i}return f(n)}(y(Error));function R(e){return"string"==typeof e?e:null==e?"":String(e)}function A(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():R(e)}function O(e,t){var n=t?" in ".concat(t):"";throw new I("201","No provider for ".concat(A(e)," found").concat(n))}function P(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function N(e){return{providers:e.providers||[],imports:e.imports||[]}}function D(e){return L(e,U)||L(e,V)}function L(e,t){return e.hasOwnProperty(t)?e[t]:null}function F(e){return e&&(e.hasOwnProperty(j)||e.hasOwnProperty(q))?e[j]:null}var M,U=g({"\u0275prov":g}),j=g({"\u0275inj":g}),V=g({ngInjectableDef:g}),q=g({ngInjectorDef:g}),B=((B=B||{})[B.Default=0]="Default",B[B.Host=1]="Host",B[B.Self=2]="Self",B[B.SkipSelf=4]="SkipSelf",B[B.Optional=8]="Optional",B);function z(e){var t=M;return M=e,t}function Z(e,t,n){var r=D(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&B.Optional?null:void 0!==t?t:void O(w(e),"Injector")}function H(e){return{toString:e}.toString()}var G=((G=G||{})[G.OnPush=0]="OnPush",G[G.Default=1]="Default",G),K=((K=K||{})[K.Emulated=0]="Emulated",K[K.None=2]="None",K[K.ShadowDom=3]="ShadowDom",K),W="undefined"!=typeof globalThis&&globalThis,Q="undefined"!=typeof window&&window,Y="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,J=W||"undefined"!=typeof global&&global||Q||Y,X={},$=[],ee=g({"\u0275cmp":g}),te=g({"\u0275dir":g}),ne=g({"\u0275pipe":g}),re=g({"\u0275mod":g}),ie=g({"\u0275loc":g}),oe=g({"\u0275fac":g}),ae=g({__NG_ELEMENT_ID__:g}),se=0;function ue(e){return H(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===G.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||$,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||K.Emulated,id:"c",styles:e.styles||$,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=se++,n.inputs=pe(e.inputs,t),n.outputs=pe(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ce)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(le)}:null,n})}function ce(e){return me(e)||function(e){return e[te]||null}(e)}function le(e){return function(e){return e[ne]||null}(e)}var he={};function fe(e){return H(function(){var t={type:e.type,bootstrap:e.bootstrap||$,declarations:e.declarations||$,imports:e.imports||$,exports:e.exports||$,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(he[e.id]=e.type),t})}function de(e,t){return H(function(){var n=ye(e,!0);n.declarations=t.declarations||$,n.imports=t.imports||$,n.exports=t.exports||$})}function pe(e,t){if(null==e)return X;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var ve=ue;function ge(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function me(e){return e[ee]||null}function ye(e,t){var n=e[re]||null;if(!n&&!0===t)throw new Error("Type ".concat(w(e)," does not have '\u0275mod' property."));return n}function ke(e){return Array.isArray(e)&&"object"==typeof e[1]}function _e(e){return Array.isArray(e)&&!0===e[1]}function we(e){return 0!=(8&e.flags)}function be(e){return 2==(2&e.flags)}function xe(e){return 1==(1&e.flags)}function Se(e){return null!==e.template}function Te(e){return 0!=(512&e[2])}function Ee(e,t){return e.hasOwnProperty(oe)?e[oe]:null}var Ce=function(){function e(t,n,r){d(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return f(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Ie(){return Re}function Re(e){return e.type.prototype.ngOnChanges&&(e.setInput=Oe),Ae}function Ae(){var e=Ne(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===X)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Oe(e,t,n,r){var i=Ne(e)||function(e,t){return e[Pe]=t}(e,{previous:X,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ce(u&&u.currentValue,t,a===X),e[r]=t}Ie.ngInherit=!0;var Pe="__ngSimpleChanges__";function Ne(e){return e[Pe]||null}var De,Le="http://www.w3.org/2000/svg";function Fe(e){De=e}function Me(e){return!!e.listen}var Ue={createRenderer:function(e,t){return void 0!==De?De:"undefined"!=typeof document?document:void 0}};function je(e){for(;Array.isArray(e);)e=e[0];return e}function Ve(e,t){return je(t[e])}function qe(e,t){return je(t[e.index])}function Be(e,t){return e.data[t]}function ze(e,t){var n=t[e];return ke(n)?n:n[0]}function Ze(e){return 4==(4&e[2])}function He(e){return 128==(128&e[2])}function Ge(e,t){return null==t?null:e[t]}function Ke(e){e[18]=0}function We(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Qe={lFrame:mt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ye(){return Qe.bindingsEnabled}function Je(){return Qe.lFrame.lView}function Xe(){return Qe.lFrame.tView}function $e(e){return Qe.lFrame.contextLView=e,e[8]}function et(){for(var e=tt();null!==e&&64===e.type;)e=e.parent;return e}function tt(){return Qe.lFrame.currentTNode}function nt(e,t){var n=Qe.lFrame;n.currentTNode=e,n.isParent=t}function rt(){return Qe.lFrame.isParent}function it(){Qe.lFrame.isParent=!1}function ot(){return Qe.isInCheckNoChangesMode}function at(e){Qe.isInCheckNoChangesMode=e}function st(){return Qe.lFrame.bindingIndex++}function ut(e,t){var n=Qe.lFrame;n.bindingIndex=n.bindingRootIndex=e,ct(t)}function ct(e){Qe.lFrame.currentDirectiveIndex=e}function lt(e){var t=Qe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function ht(){return Qe.lFrame.currentQueryIndex}function ft(e){Qe.lFrame.currentQueryIndex=e}function dt(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function pt(e,t,n){if(n&B.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&B.Host||(r=dt(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}var o=Qe.lFrame=gt();return o.currentTNode=t,o.lView=e,!0}function vt(e){var t=gt(),n=e[1];Qe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function gt(){var e=Qe.lFrame,t=null===e?null:e.child;return null===t?mt(e):t}function mt(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function yt(){var e=Qe.lFrame;return Qe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var kt=yt;function _t(){var e=yt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wt(){return Qe.lFrame.selectedIndex}function bt(e){Qe.lFrame.selectedIndex=e}function xt(){var e=Qe.lFrame;return Be(e.tView,e.selectedIndex)}function St(){Qe.lFrame.currentNamespace=Le}function Tt(){Qe.lFrame.currentNamespace=null}function Et(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function Ct(e,t,n){At(e,t,3,n)}function It(e,t,n,r){(3&e[2])===n&&At(e,t,n,r)}function Rt(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function At(e,t,n,r){for(var i=null!=r?r:-1,o=t.length-1,a=0,s=void 0!==r?65535&e[18]:0;s<o;s++)if("number"==typeof t[s+1]){if(a=t[s],null!=r&&a>=r)break}else t[s]<0&&(e[18]+=65536),(a<i||-1==i)&&(Ot(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Ot(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Pt=f(function e(t,n,r){d(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r});function Nt(e,t,n){for(var r=Me(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Lt(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Dt(e){return 3===e||4===e||6===e}function Lt(e){return 64===e.charCodeAt(0)}function Ft(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Mt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Mt(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Ut(e){return-1!==e}function jt(e){return 32767&e}function Vt(e,t){for(var n=function(e){return e>>16}(e),r=t;n>0;)r=r[15],n--;return r}var qt=!0;function Bt(e){var t=qt;return qt=e,t}var zt=0;function Zt(e,t){var n=Gt(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ht(r.data,e),Ht(t,null),Ht(r.blueprint,null));var i=Kt(e,t),o=e.injectorIndex;if(Ut(i))for(var a=jt(i),s=Vt(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function Ht(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Gt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Kt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Wt(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ae)&&(r=n[ae]),null==r&&(r=n[ae]=zt++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Qt(e,t,n){if(n&B.Optional)return e;O(t,"NodeInjector")}function Yt(e,t,n,r){if(n&B.Optional&&void 0===r&&(r=null),0==(n&(B.Self|B.Host))){var i=e[9],o=z(void 0);try{return i?i.get(t,r,n&B.Optional):Z(t,r,n&B.Optional)}finally{z(o)}}return Qt(r,t,n)}function Jt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(ae)?e[ae]:void 0;return"number"==typeof t?t>=0?255&t:$t:t}(n);if("function"==typeof o){if(!pt(t,e,r))return r&B.Host?Qt(i,n,r):Yt(t,n,r,i);try{var a=o(r);if(null!=a||r&B.Optional)return a;O(n)}finally{kt()}}else if("number"==typeof o){var s=null,u=Gt(e,t),c=-1,l=r&B.Host?t[16][6]:null;for((-1===u||r&B.SkipSelf)&&(-1!==(c=-1===u?Kt(e,t):t[u+8])&&on(r,!1)?(s=t[1],u=jt(c),t=Vt(c,t)):u=-1);-1!==u;){var h=t[1];if(rn(o,u,h.data)){var f=en(u,t,n,s,r,l);if(f!==Xt)return f}-1!==(c=t[u+8])&&on(r,t[1].data[u+8]===l)&&rn(o,u,t)?(s=h,u=jt(c),t=Vt(c,t)):u=-1}}}return Yt(t,n,r,i)}var Xt={};function $t(){return new an(et(),Je())}function en(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=tn(s,a,n,null==r?be(s)&&qt:r!=a&&0!=(3&s.type),i&B.Host&&o===s);return null!==u?nn(t,a,u,s):Xt}function tn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=1048575&o,u=e.directiveStart,c=o>>20,l=i?s+c:e.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Se(d)&&d.type===n)return u}return null}function nn(e,t,n,r){var i=e[n],o=t.data;if(function(e){return e instanceof Pt}(i)){var a=i;a.resolving&&function(e,t){throw new I("200","Circular dependency in DI detected for ".concat(e))}(A(o[n]));var s=Bt(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?z(a.injectImpl):null;pt(e,r,B.Default);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Re(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,o[n],t)}finally{null!==u&&z(u),Bt(s),a.resolving=!1,kt()}}return i}function rn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function on(e,t){return!(e&B.Self||e&B.Host&&t)}var an=function(){function e(t,n){d(this,e),this._tNode=t,this._lView=n}return f(e,[{key:"get",value:function(e,t,n){return Jt(this._tNode,this._lView,e,n,t)}}]),e}();function sn(e){return H(function(){for(var t=e.prototype.constructor,n=t[oe]||un(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[oe]||un(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function un(e){return C(e)?function(){var t=un(E(e));return t&&t()}:Ee(e)}function cn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Dt(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(et(),e)}var ln="__parameters__";function hn(e,t,n){return H(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=k(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty(ln)?e[ln]:Object.defineProperty(e,ln,{value:[]})[ln];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var fn=function(){function e(t,n){d(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return f(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),dn=new fn("AnalyzeForEntryComponents"),pn=Function;function vn(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),vn(r,t)):t!==e&&t.push(r)}return t}function gn(e,t){e.forEach(function(e){return Array.isArray(e)?gn(e,t):t(e)})}function mn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function yn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function kn(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function _n(e,t,n){var r=bn(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function wn(e,t){var n=bn(e,t);if(n>=0)return e[1|n]}function bn(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var xn,Sn={},Tn="__NG_DI_FLAG__",En="ngTempTokenPath",Cn=/\n/gm,In="__source",Rn=g({provide:String,useValue:g});function An(e){var t=xn;return xn=e,t}function On(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;if(void 0===xn)throw new Error("inject() must be called from an injection context");return null===xn?Z(e,void 0,t):xn.get(e,t&B.Optional?null:void 0,t)}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;return(M||On)(E(e),t)}var Nn=Pn;function Dn(e){for(var t=[],n=0;n<e.length;n++){var r=E(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=B.Default,a=0;a<r.length;a++){var s=r[a],u=Fn(s);"number"==typeof u?-1===u?i=s.token:o|=u:i=s}t.push(Pn(i,o))}else t.push(Pn(r))}return t}function Ln(e,t){return e[Tn]=t,e.prototype[Tn]=t,e}function Fn(e){return e[Tn]}function Mn(e,t,n,r){var i=e[En];throw t[In]&&i.unshift(t[In]),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=w(t);if(Array.isArray(t))i=t.map(w).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):w(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Cn,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[En]=null,e}var Un,jn=Ln(hn("Inject",function(e){return{token:e}}),-1),Vn=Ln(hn("Optional"),8),qn=Ln(hn("SkipSelf"),4);function Bn(e){var t;return(null===(t=function(){if(void 0===Un&&(Un=null,J.trustedTypes))try{Un=J.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(e){}return Un}())||void 0===t?void 0:t.createHTML(e))||e}var zn=function(){function e(t){d(this,e),this.changingThisBreaksApplicationSecurity=t}return f(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}(),Zn=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(zn),Hn=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(zn),Gn=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(zn),Kn=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(zn),Wn=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(zn);function Qn(e){return e instanceof zn?e.changingThisBreaksApplicationSecurity:e}function Yn(e,t){var n=Jn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function Jn(e){return e instanceof zn&&e.getTypeName()||null}function Xn(e){return new Zn(e)}function $n(e){return new Hn(e)}function er(e){return new Gn(e)}function tr(e){return new Kn(e)}function nr(e){return new Wn(e)}var rr=function(){function e(t){d(this,e),this.inertDocumentHelper=t}return f(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(Bn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}]),e}(),ir=function(){function e(t){if(d(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return f(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Bn(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=Bn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;("xmlns:ns1"===r||0===r.indexOf("ns1:"))&&e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),or=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ar=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sr(e){return(e=String(e)).match(or)||e.match(ar)?e:"unsafe:"+e}function ur(e){var t,n={},r=u(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function cr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var lr,hr=ur("area,br,col,hr,img,wbr"),fr=ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dr=ur("rp,rt"),pr=cr(hr,cr(fr,ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cr(dr,ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cr(dr,fr)),vr=ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gr=ur("srcset"),mr=cr(vr,gr,ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yr=ur("script,style,template"),kr=function(){function e(){d(this,e),this.sanitizedSomething=!1,this.buf=[]}return f(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!pr.hasOwnProperty(t))return this.sanitizedSomething=!0,!yr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(mr.hasOwnProperty(s)){var u=o.value;vr[s]&&(u=sr(u)),gr[s]&&(n=u,u=(n=String(n)).split(",").map(function(e){return sr(e.trim())}).join(", ")),this.buf.push(" ",a,'="',br(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();pr.hasOwnProperty(t)&&!hr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(br(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),_r=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wr=/([^\#-~ |!])/g;function br(e){return e.replace(/&/g,"&amp;").replace(_r,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(wr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xr(e,t){var n=null;try{lr=lr||function(e){var t=new ir(e);return function(){try{return!!(new window.DOMParser).parseFromString(Bn(""),"text/html")}catch(e){return!1}}()?new rr(t):t}(e);var r=t?String(t):"";n=lr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=lr.getInertBodyElement(r)}while(r!==o);return Bn((new kr).sanitizeChildren(Sr(n)||n))}finally{if(n)for(var a=Sr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Sr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Tr=((Tr=Tr||{})[Tr.NONE=0]="NONE",Tr[Tr.HTML=1]="HTML",Tr[Tr.STYLE=2]="STYLE",Tr[Tr.SCRIPT=3]="SCRIPT",Tr[Tr.URL=4]="URL",Tr[Tr.RESOURCE_URL=5]="RESOURCE_URL",Tr);function Er(e){var t=function(){var e=Je();return e&&e[12]}();return t?t.sanitize(Tr.URL,e)||"":Yn(e,"URL")?Qn(e):sr(R(e))}var Cr="__ngContext__";function Ir(e,t){e[Cr]=t}function Rr(e){var t=function(e){return e[Cr]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ar(e){return e.ngOriginalError}function Or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Pr=function(){function e(){d(this,e),this._console=console}return f(e,[{key:"handleError",value:function(e){var t,n=this._findOriginalError(e),r=this._findContext(e),i=(t=e)&&t.ngErrorLogger||Or;i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}},{key:"_findContext",value:function(e){return e?e.ngDebugContext||this._findContext(Ar(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=e&&Ar(e);t&&Ar(t);)t=Ar(t);return t||null}}]),e}(),Nr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(J);function Dr(e){return e.ownerDocument.body}function Lr(e){return e instanceof Function?e():e}var Fr=((Fr=Fr||{})[Fr.Important=1]="Important",Fr[Fr.DashCase=2]="DashCase",Fr);function Mr(e,t){return(void 0)(e,t)}function Ur(e){var t=e[3];return _e(t)?t[3]:t}function jr(e){return qr(e[13])}function Vr(e){return qr(e[4])}function qr(e){for(;null!==e&&!_e(e);)e=e[4];return e}function Br(e,t,n,r,i){if(null!=r){var o,a=!1;_e(r)?o=r:ke(r)&&(a=!0,r=r[0]);var s=je(r);0===e&&null!==n?null==i?Yr(t,n,s):Qr(t,n,s,i||null,!0):1===e&&null!==n?Qr(t,n,s,i||null,!0):2===e?function(e,t,n){var r=Xr(e,t);r&&function(e,t,n,r){Me(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==je(n)&&Br(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];ai(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function zr(e,t,n){return Me(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Zr(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,We(i,-1)),n.splice(r,1)}function Hr(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Zr(i,r),t>0&&(e[n-1][4]=r[4]);var o=yn(e,10+t);!function(e,t){ai(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Gr(e,t){if(!(256&t[2])){var n=t[11];Me(n)&&n.destroyNode&&ai(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Kr(e[1],e);for(;t;){var n=null;if(ke(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)ke(t)&&Kr(t[1],t),t=t[3];null===t&&(t=e),ke(t)&&Kr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Kr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Pt)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=i[o[a]],u=o[a+1];try{u.call(s)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(t):je(t[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)r[h]();t[7]=null}}(e,t),1===t[1].type&&Me(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&_e(t[3])){n!==t[3]&&Zr(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function Wr(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===K.None||i===K.Emulated)return null}return qe(r,n)}(e,t.parent,n)}function Qr(e,t,n,r,i){Me(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Yr(e,t,n){Me(e)?e.appendChild(t,n):t.appendChild(n)}function Jr(e,t,n,r,i){null!==r?Qr(e,t,n,r,i):Yr(e,t,n)}function Xr(e,t){return Me(e)?e.parentNode(t):t.parentNode}function $r(e,t,n){return ei(e,t,n)}var ei=function(e,t,n){return 40&e.type?qe(e,n):null};function ti(e,t,n,r){var i=Wr(e,r,t),o=t[11],a=$r(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)Jr(o,i,n[s],a,!1);else Jr(o,i,n,a,!1)}function ni(e,t){if(null!==t){var n=t.type;if(3&n)return qe(t,e);if(4&n)return ii(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return ni(e,r);var i=e[t.index];return _e(i)?ii(-1,i):je(i)}if(32&n)return Mr(t,e)()||je(e[t.index]);var o=ri(e,t);return null!==o?Array.isArray(o)?o[0]:ni(Ur(e[16]),o):ni(e,t.next)}return null}function ri(e,t){return null!==t?e[16][6].projection[t.projection]:null}function ii(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return ni(r,i)}return t[7]}function oi(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===t&&(s&&Ir(je(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)oi(e,t,n.child,r,i,o,!1),Br(t,e,i,s,o);else if(32&u){for(var c=Mr(n,r),l=void 0;l=c();)Br(t,e,i,l,o);Br(t,e,i,s,o)}else 16&u?si(e,t,r,n,i,o):Br(t,e,i,s,o);n=a?n.projectionNext:n.next}}function ai(e,t,n,r,i,o){oi(n,r,e.firstChild,t,i,o,!1)}function si(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Br(t,e,i,s[u],o);else oi(e,t,s,a[3],i,o,!0)}function ui(e,t,n){Me(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ci(e,t,n){Me(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function li(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var hi="ng-template";function fi(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==li((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function di(e){return 4===e.type&&e.value!==hi}function pi(e,t,n){return t===(4!==e.type||n?e.value:hi)}function vi(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Dt(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!pi(e,u,n)||""===u&&1===t.length){if(gi(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!fi(e.attrs,c,n)){if(gi(r))return!1;a=!0}continue}var l=mi(8&r?"class":u,i,di(e),n);if(-1===l){if(gi(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==li(f,c,0)||2&r&&c!==h){if(gi(r))return!1;a=!0}}}}else{if(!a&&!gi(r)&&!gi(u))return!1;if(a&&gi(u))continue;a=!1,r=u|1&r}}return gi(r)||a}function gi(e){return 0==(1&e)}function mi(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function yi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(vi(e,t[r],n))return!0;return!1}function ki(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function _i(e,t){return e?":not("+t.trim()+")":t}function wi(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!gi(a)&&(t+=_i(o,i),i=""),r=a,o=o||!gi(r);n++}return""!==i&&(t+=_i(o,i)),t}var bi={};function xi(e){Si(Xe(),Je(),wt()+e,ot())}function Si(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Ct(t,i,n)}else{var o=e.preOrderHooks;null!==o&&It(t,o,0,n)}bt(n)}function Ti(e,t){return e<<17|t<<2}function Ei(e){return e>>17&32767}function Ci(e){return 2|e}function Ii(e){return(131068&e)>>2}function Ri(e,t){return-131069&e|t<<2}function Ai(e){return 1|e}function Oi(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];ft(i),a.contentQueries(2,t[o],o)}}}function Pi(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Ke(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Ni(e,t,n,r,i){var o=e.data[t];if(null===o)o=function(e,t,n,r,i){var o=tt(),a=rt(),s=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(e,t,n,r,i),Qe.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=function(){var e=Qe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return nt(o,!0),o}function Di(e,t,n,r){if(0===n)return-1;for(var i=t.length,o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Li(e,t,n){vt(t);try{var r=e.viewQuery;null!==r&&ho(1,r,n);var i=e.template;null!==i&&Ui(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Oi(e,t),e.staticViewQueries&&ho(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)ao(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,_t()}}function Fi(e,t,n,r){var i=t[2];if(256!=(256&i)){vt(t);var o=ot();try{Ke(t),function(e){Qe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Ui(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Ct(t,s,null)}else{var u=e.preOrderHooks;null!==u&&It(t,u,0,null),Rt(t,0)}if(function(e){for(var t=jr(e);null!==t;t=Vr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&We(o,1),i[2]|=1024}}(t),function(e){for(var t=jr(e);null!==t;t=Vr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];He(r)&&Fi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Oi(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&Ct(t,c)}else{var l=e.contentHooks;null!==l&&It(t,l,1),Rt(t,1)}!function(e,t){var n=e.hostBindingOpCodes;if(null!==n)try{for(var r=0;r<n.length;r++){var i=n[r];if(i<0)bt(~i);else{var o=i,a=n[++r],s=n[++r];ut(a,o),s(2,t[o])}}}finally{bt(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)io(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&ho(2,f,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&Ct(t,d)}else{var p=e.viewHooks;null!==p&&It(t,p,2),Rt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,We(t[3],-1))}finally{_t()}}}function Mi(e,t,n,r){var i=t[10],o=!ot(),a=Ze(t);try{o&&!a&&i.begin&&i.begin(),a&&Li(e,t,r),Fi(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ui(e,t,n,r,i){var o=wt(),a=2&r;try{bt(-1),a&&t.length>20&&Si(e,t,20,ot()),n(r,i)}finally{bt(o)}}function ji(e,t,n){if(we(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Vi(e,t,n){!Ye()||(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Zt(n,t),Ir(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=Se(u);c&&eo(t,n,u);var l=nn(t,e,s,n);Ir(l,t),null!==a&&to(0,s-i,l,u,0,a),c&&(ze(n.index,t)[8]=l)}}(e,t,n,qe(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Qe.lFrame.currentDirectiveIndex;try{bt(o);for(var s=r;s<i;s++){var u=e.data[s],c=t[s];ct(s),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Qi(u,c)}}finally{bt(-1),ct(a)}}(e,t,n))}function qi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function Bi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=zi(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function zi(e,t,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:bi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:t,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Zi(e,t,n,r){var i=po(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&vo(e).push(r,i.length-1))}function Hi(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Gi(e,t,n,r,i,o,a,s){var u,c=qe(t,n),l=t.inputs;!s&&null!=l&&(u=l[r])?(yo(e,n,u,r,i),be(t)&&function(e,t){var n=ze(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=a?a(i,t.value||"",r):i,Me(o)?o.setProperty(c,r,i):Lt(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ki(e,t,n,r){var i=!1;if(Ye()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];yi(n,a.selectors,!1)&&(i||(i=[]),Wt(Zt(n,t),e,a.type),Se(a)?(Yi(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){i=!0,Xi(n,e.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Di(e,t,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Ft(n.mergedAttrs,d.hostAttrs),$i(e,n,t,h,d),Ji(h,d,a),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||di(t)?null:no(l,i);o.push(h),a=Hi(l,u,a),s=Hi(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new I("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Ft(n.mergedAttrs,n.attrs),i}function Wi(e,t,n,r,i,o){var a=o.hostBindings;if(a){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function Qi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Yi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ji(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Se(t)&&(n[""]=e)}}function Xi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function $i(e,t,n,r,i){e.data[r]=i;var o=i.factory||(i.factory=Ee(i.type)),a=new Pt(o,Se(i),null);e.blueprint[r]=a,n[r]=a,Wi(e,t,0,r,Di(e,n,i.hostVars,bi),i)}function eo(e,t,n){var r=qe(t,e),i=Bi(n),o=e[10],a=so(e,Pi(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=a}function to(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function no(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function ro(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function io(e,t){var n=ze(t,e);if(He(n)){var r=n[1];80&n[2]?Fi(r,n,r.template,n[8]):n[5]>0&&oo(n)}}function oo(e){for(var t=jr(e);null!==t;t=Vr(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];Fi(i,r,i.template,r[8])}else r[5]>0&&oo(r)}var o=e[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=ze(o[a],e);He(s)&&s[5]>0&&oo(s)}}function ao(e,t){var n=ze(t,e),r=n[1];(function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Li(r,n,n[8])}function so(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function uo(e){for(;e;){e[2]|=64;var t=Ur(e);if(Te(e)&&!t)return e;e=t}return null}function co(e,t,n){var r=t[10];r.begin&&r.begin();try{Fi(e,t,e.template,n)}catch(i){throw mo(t,i),i}finally{r.end&&r.end()}}function lo(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Rr(n),i=r[1];Mi(i,r,i.template,n)}}(e[8])}function ho(e,t,n){ft(0),t(e,n)}var fo=Promise.resolve(null);function po(e){return e[7]||(e[7]=[])}function vo(e){return e.cleanup||(e.cleanup=[])}function go(e,t,n){return(null===e||Se(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function mo(e,t){var n=e[9],r=n?n.get(Pr,null):null;r&&r.handleError(t)}function yo(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function ko(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=x(i,s):2==o&&(r=x(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var _o,wo=new fn("INJECTOR",-1),bo=function(){function e(){d(this,e)}return f(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn;if(t===Sn){var n=new Error("NullInjectorError: No provider for ".concat(w(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),xo=new fn("Set Injector scope."),So={},To={};function Eo(){return void 0===_o&&(_o=new bo),_o}function Co(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Io(e,n,t||Eo(),r)}var Io=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&gn(n,function(e){return i.processProvider(e,t,n)}),gn([t],function(e){return i.processInjectorType(e,[],a)}),this.records.set(wo,Oo(void 0,this));var s=this.records.get(xo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:w(t))}return f(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;this.assertNotDestroyed();var r,i=An(this),o=z(void 0);try{if(!(n&B.SkipSelf)){var a=this.records.get(e);if(void 0===a){var s=("function"==typeof(r=e)||"object"==typeof r&&r instanceof fn)&&D(e);a=s&&this.injectableDefInScope(s)?Oo(Ro(e),So):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&B.Self?Eo():this.parent).get(e,t=n&B.Optional&&t===Sn?null:t)}catch(u){if("NullInjectorError"===u.name){if((u[En]=u[En]||[]).unshift(w(e)),i)throw u;return Mn(u,e,"R3InjectorError",this.source)}throw u}finally{z(o),An(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(w(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=E(e)))return!1;var i=F(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=F(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{gn(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;gn(i,function(e){return r.processProvider(e,n,i||$)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var h=Ee(a)||function(){return new a};this.records.set(a,Oo(h,So));var f=i.providers;if(null!=f&&!s){var d=e;gn(f,function(e){return r.processProvider(e,d,f)})}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r,i=No(e=E(e))?e:E(e&&e.provide),o=Po(r=e)?Oo(void 0,r.useValue):Oo(Ao(r),So);if(No(e)||!0!==e.multi)this.records.get(i);else{var a=this.records.get(i);a||((a=Oo(void 0,So,!0)).factory=function(){return Dn(a.multi)},this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,o)}},{key:"hydrate",value:function(e,t){return t.value===So&&(t.value=To,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var t=E(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}]),e}();function Ro(e){var t=D(e),n=null!==t?t.factory:Ee(e);if(null!==n)return n;if(e instanceof fn)throw new Error("Token ".concat(w(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=kn(t,"?");throw new Error("Can't resolve all parameters for ".concat(w(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[U]||e[V]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Ao(e,t,n){var r;if(No(e)){var i=E(e);return Ee(i)||Ro(i)}if(Po(e))r=function(){return E(e.useValue)};else if(function(e){return!(!e||!e.useFactory)}(e))r=function(){return e.useFactory.apply(e,a(Dn(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return Pn(E(e.useExisting))};else{var o=E(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ee(o)||Ro(o);r=function(){return k(o,a(Dn(e.deps)))}}return r}function Oo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Po(e){return null!==e&&"object"==typeof e&&Rn in e}function No(e){return"function"==typeof e}var Do,Lo=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Co(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Fo=((Do=function(){function e(){d(this,e)}return f(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Lo(e,t,""):Lo(e.providers,e.parent,e.name||"")}}]),e}()).THROW_IF_NOT_FOUND=Sn,Do.NULL=new bo,Do.\u0275prov=P({token:Do,providedIn:"any",factory:function(){return Pn(wo)}}),Do.__NG_ELEMENT_ID__=-1,Do);function Mo(e,t){Et(Rr(e)[1],et())}function Uo(e){for(var t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0,r=[e];t;){var i=void 0;if(Se(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=jo(e.inputs),o.declaredInputs=jo(e.declaredInputs),o.outputs=jo(e.outputs);var a=i.hostBindings;a&&Bo(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Vo(e,s),u&&qo(e,u),_(e.inputs,i.inputs),_(e.declaredInputs,i.declaredInputs),_(e.outputs,i.outputs),Se(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===Uo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ft(i.hostAttrs,n=Ft(n,i.hostAttrs))}}(r)}function jo(e){return e===X?{}:e===$?[]:e}function Vo(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function qo(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Bo(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var zo=null;function Zo(){if(!zo){var e=J.Symbol;if(e&&e.iterator)zo=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(zo=r)}}return zo}var Ho=function(){function e(t){d(this,e),this.wrapped=t}return f(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Go(e){return!!Ko(e)&&(Array.isArray(e)||!(e instanceof Map)&&Zo()in e)}function Ko(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Wo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Qo(e,t,n,r){var i=Je();return Wo(i,st(),t)&&(Xe(),function(e,t,n,r,i,o){var a=qe(e,t);!function(e,t,n,r,i,o,a){if(null==o)Me(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var s=null==a?R(o):a(o,r||"",i);Me(e)?e.setAttribute(t,i,s,n):n?t.setAttributeNS(n,i,s):t.setAttribute(i,s)}}(t[11],a,o,e.value,n,r,i)}(xt(),i,e,t,n,r)),Qo}function Yo(e,t,n,r,i,o,a,s){var u=Je(),c=Xe(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=Ni(t,e,4,a||null,Ge(c,s));Ki(t,n,l,Ge(c,u)),Et(t,l);var h=l.tViews=zi(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,o,a):c.data[l];nt(h,!1);var f=u[11].createComment("");ti(c,u,f,h),Ir(f,u),so(u,u[l]=ro(f,u,f,h)),xe(h)&&Vi(c,u,h),null!=a&&qi(u,h,s)}function Jo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default,n=Je();return null===n?Pn(e,t):Jt(et(),n,E(e),t)}function Xo(e,t,n){var r=Je();return Wo(r,st(),t)&&Gi(Xe(),xt(),r,e,t,r[11],n,!1),Xo}function $o(e,t,n,r,i){var o=i?"class":"style";yo(e,n,t.inputs[o],o,r)}function ea(e,t,n,r){var i=Je(),o=Xe(),a=20+e,s=i[11],u=i[a]=zr(s,t,Qe.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=Ni(t,e,2,i,Ge(s,o));return Ki(t,n,u,Ge(s,a)),null!==u.attrs&&ko(u,u.attrs,!1),null!==u.mergedAttrs&&ko(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(a,o,i,0,t,n,r):o.data[a];nt(c,!0);var l=c.mergedAttrs;null!==l&&Nt(s,u,l);var h=c.classes;null!==h&&ci(s,u,h);var f=c.styles;null!==f&&ui(s,u,f),64!=(64&c.flags)&&ti(o,i,u,c),0===Qe.lFrame.elementDepthCount&&Ir(u,i),Qe.lFrame.elementDepthCount++,xe(c)&&(Vi(o,i,c),ji(o,c,i)),null!==r&&qi(i,c)}function ta(){var e=et();rt()?it():nt(e=e.parent,!1);var t=e;Qe.lFrame.elementDepthCount--;var n=Xe();n.firstCreatePass&&(Et(n,e),we(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&$o(n,t,Je(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&$o(n,t,Je(),t.stylesWithoutHost,!1)}function na(e,t,n,r){ea(e,t,n,r),ta()}function ra(e,t,n){var r=Je(),i=Xe(),o=e+20,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=Ge(o,r),s=Ni(t,e,8,"ng-container",a);return null!==a&&ko(s,a,!0),Ki(t,n,s,Ge(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(o,i,r,t,n):i.data[o];nt(a,!0);var s=r[o]=r[11].createComment("");ti(i,r,s,a),Ir(s,r),xe(a)&&(Vi(i,r,a),ji(i,a,r)),null!=n&&qi(r,a)}function ia(){var e=et(),t=Xe();rt()?it():nt(e=e.parent,!1),t.firstCreatePass&&(Et(t,e),we(e)&&t.queries.elementEnd(e))}function oa(){return Je()}function aa(e){return!!e&&"function"==typeof e.then}function sa(e){return!!e&&"function"==typeof e.subscribe}var ua=sa;function ca(e,t,n,r){var i=Je(),o=Xe(),a=et();return ha(o,i,i[11],a,e,t,!!n,r),ca}function la(e,t){var n=et(),r=Je(),i=Xe();return ha(i,r,go(lt(i.data),n,r),n,e,t,!1),la}function ha(e,t,n,r,i,o,a,s){var u=xe(r),c=e.firstCreatePass&&vo(e),l=t[8],h=po(t),f=!0;if(3&r.type||s){var d=qe(r,t),p=s?s(d):d,v=h.length,g=s?function(e){return s(je(e[r.index]))}:r.index;if(Me(n)){var m=null;if(!s&&u&&(m=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,f=!1;else{o=da(r,t,l,o,!1);var y=n.listen(p,i,o);h.push(o,y),c&&c.push(i,g,v,v+1)}}else o=da(r,t,l,o,!0),p.addEventListener(i,o,a),h.push(o),c&&c.push(i,g,v,a)}else o=da(r,t,l,o,!1);var k,_=r.outputs;if(f&&null!==_&&(k=_[i])){var w=k.length;if(w)for(var b=0;b<w;b+=2){var x=t[k[b]][k[b+1]].subscribe(o),S=h.length;h.push(o,x),c&&c.push(i,r.index,S,-(S+1))}}}function fa(e,t,n,r){try{return!1!==n(r)}catch(i){return mo(e,i),!1}}function da(e,t,n,r,i){return function n(o){if(o===Function)return r;var a=2&e.flags?ze(e.index,t):t;0==(32&t[2])&&uo(a);for(var s=fa(t,0,r,o),u=n.__ngNextListenerFn__;u;)s=fa(t,0,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Qe.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Qe.lFrame.contextLView))[8]}(e)}function va(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?yi(e,o,!0):ki(r,o))return i}else n=i}return n}function ga(e){var t=Je()[16][6];if(!t.projection)for(var n=t.projection=kn(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?va(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Je(),i=Xe(),o=Ni(i,20+e,16,null,n||null);null===o.projection&&(o.projection=t),it(),64!=(64&o.flags)&&function(e,t,n){si(t[11],0,t,n,Wr(e,n,t),$r(n.parent||t[6],n,t))}(i,r,o)}function ya(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Ei(o):Ii(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];ka(e[s],t)&&(u=!0,e[s+1]=r?Ai(c):Ci(c)),s=r?Ei(c):Ii(c)}u&&(e[n+1]=r?Ci(o):Ai(o))}function ka(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&bn(e,t)>=0}function _a(e,t,n){return ba(e,t,n,!1),_a}function wa(e,t){return ba(e,t,null,!0),wa}function ba(e,t,n,r){var i=Je(),o=Xe(),a=function(e){var t=Qe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+2,n}();o.firstUpdatePass&&function(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[wt()],a=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(o,r)&&null===t&&!a&&(t=!1),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Ei(a),u=Ii(a);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||bn(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Ei(e[s+1]);e[r+1]=Ti(f,s),0!==f&&(e[f+1]=Ri(e[f+1],r)),e[s+1]=function(e,t){return 131071&e|t<<17}(e[s+1],r)}else e[r+1]=Ti(s,0),0!==s&&(e[s+1]=Ri(e[s+1],r)),s=r;else e[r+1]=Ti(u,0),0===s?s=r:e[u+1]=Ri(e[u+1],r),u=r;l&&(e[r+1]=Ci(e[r+1])),ya(e,c,r,!0),ya(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&bn(o,t)>=0&&(n[r+1]=Ai(n[r+1]))}(t,c,e,r,o),a=Ti(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t=function(e,t,n,r){var i=lt(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Sa(n=xa(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=xa(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Ii(r))return e[Ei(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Ei(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Sa(s=xa(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Sa(r,e[o].hostAttrs,n);return Sa(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),n,a,r)}}(o,e,a,r),t!==bi&&Wo(i,a,t)&&function(e,t,n,r,i,o,a,s){if(3&t.type){var u=e.data,c=u[s+1];Ea(function(e){return 1==(1&e)}(c)?Ta(u,t,n,i,Ii(c),a):void 0)||(Ea(o)||function(e){return 2==(2&e)}(c)&&(o=Ta(u,null,n,i,s,a)),function(e,t,n,r,i){var o=Me(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Fr.DashCase;if(null==i)o?e.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Fr.Important),o?e.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,Ve(wt(),n),i,o))}}(o,o.data[wt()],i,i[11],e,i[a+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=w(Qn(e)))),e}(t,n),r,a)}function xa(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Sa(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Sa(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),_n(e,a,!!n||t[++o]))}return void 0===e?null:e}function Ta(e,t,n,r,i,o){for(var a,s=null===t;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===bi&&(f=h?$:void 0);var d=h?wn(f,r):l===r?f:void 0;if(c&&!Ea(d)&&(d=wn(u,r)),Ea(d)&&(a=d,s))return a;var p=e[i+1];i=s?Ei(p):Ii(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(a=wn(v,r))}return a}function Ea(e){return void 0!==e}function Ca(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Je(),r=Xe(),i=e+20,o=r.firstCreatePass?Ni(r,i,1,t,null):r.data[i],a=n[i]=function(e,t){return Me(e)?e.createText(t):e.createTextNode(t)}(n[11],t);ti(r,n,a,o),nt(o,!1)}function Ia(e){return Ra("",e,""),Ia}function Ra(e,t,n){var r=Je(),i=function(e,t,n,r){return Wo(e,st(),n)?t+R(n)+r:bi}(r,e,t,n);return i!==bi&&function(e,t,n){var r=Ve(t,e);!function(e,t,n){Me(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,wt(),i),Ra}function Aa(e,t,n){var r=Je();return Wo(r,st(),t)&&Gi(Xe(),xt(),r,e,t,r[11],n,!0),Aa}function Oa(e,t,n){var r=Je();if(Wo(r,st(),t)){var i=Xe(),o=xt();Gi(i,o,r,e,t,go(lt(i.data),o,r),n,!0)}return Oa}var Pa=void 0,Na=["en",[["a","p"],["AM","PM"],Pa],[["AM","PM"],Pa,Pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pa,"{1} 'at' {0}",Pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Da={};function La(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Ma(t);if(n)return n;var r=t.split("-")[0];if(n=Ma(r))return n;if("en"===r)return Na;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Fa(e){return La(e)[Ua.PluralCase]}function Ma(e){return e in Da||(Da[e]=J.ng&&J.ng.common&&J.ng.common.locales&&J.ng.common.locales[e]),Da[e]}var Ua=((Ua=Ua||{})[Ua.LocaleId=0]="LocaleId",Ua[Ua.DayPeriodsFormat=1]="DayPeriodsFormat",Ua[Ua.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ua[Ua.DaysFormat=3]="DaysFormat",Ua[Ua.DaysStandalone=4]="DaysStandalone",Ua[Ua.MonthsFormat=5]="MonthsFormat",Ua[Ua.MonthsStandalone=6]="MonthsStandalone",Ua[Ua.Eras=7]="Eras",Ua[Ua.FirstDayOfWeek=8]="FirstDayOfWeek",Ua[Ua.WeekendRange=9]="WeekendRange",Ua[Ua.DateFormat=10]="DateFormat",Ua[Ua.TimeFormat=11]="TimeFormat",Ua[Ua.DateTimeFormat=12]="DateTimeFormat",Ua[Ua.NumberSymbols=13]="NumberSymbols",Ua[Ua.NumberFormats=14]="NumberFormats",Ua[Ua.CurrencyCode=15]="CurrencyCode",Ua[Ua.CurrencySymbol=16]="CurrencySymbol",Ua[Ua.CurrencyName=17]="CurrencyName",Ua[Ua.Currencies=18]="Currencies",Ua[Ua.Directionality=19]="Directionality",Ua[Ua.PluralCase=20]="PluralCase",Ua[Ua.ExtraData=21]="ExtraData",Ua),ja="en-US";function Va(e){(function(e,t){null==e&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(t,e)})(e,"Expected localeId to be defined"),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function qa(e,t,n,r,i){if(e=E(e),Array.isArray(e))for(var o=0;o<e.length;o++)qa(e[o],t,n,r,i);else{var a=Xe(),s=Je(),u=No(e)?e:E(e.provide),c=Ao(e),l=et(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(No(e)||!e.multi){var p=new Pt(c,i,Jo),v=Za(u,t,i?h:h+d,f);-1===v?(Wt(Zt(l,s),a,u),Ba(a,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=Za(u,t,h+d,f),m=Za(u,t,h,h+d),y=g>=0&&n[g],k=m>=0&&n[m];if(i&&!k||!i&&!y){Wt(Zt(l,s),a,u);var _=function(e,t,n,r,i){var o=new Pt(e,n,Jo);return o.multi=[],o.index=t,o.componentProviders=0,za(o,i,r&&!n),o}(i?Ga:Ha,n.length,i,r,c);!i&&k&&(n[m].providerFactory=_),Ba(a,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(_),s.push(_)}else Ba(a,e,g>-1?g:m,za(n[i?m:g],c,!i&&r));!i&&r&&k&&n[m].componentProviders++}}}function Ba(e,t,n,r){var i=No(t);if(i||function(e){return!!e.useClass}(t)){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function za(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Za(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Ha(e,t,n,r){return Ka(this.multi,[])}function Ga(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=nn(n,n[1],this.providerFactory.index,r);Ka(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Ka(o,i=[]);return i}function Ka(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=Xe();if(r.firstCreatePass){var i=Se(e);qa(n,r.data,r.blueprint,i,!0),qa(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}var Qa=f(function e(){d(this,e)}),Ya=function(){function e(){d(this,e)}return f(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(w(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Ja=function(){var e=f(function e(){d(this,e)});return e.NULL=new Ya,e}();function Xa(){}function $a(e,t){return new ts(qe(e,t))}var es=function(){return $a(et(),Je())},ts=function(){var e=f(function e(t){d(this,e),this.nativeElement=t});return e.__NG_ELEMENT_ID__=es,e}();function ns(e){return e instanceof ts?e.nativeElement:e}var rs=f(function e(){d(this,e)}),is=function(){var e=f(function e(){d(this,e)});return e.__NG_ELEMENT_ID__=function(){return os()},e}(),os=function(){var e=Je(),t=ze(et().index,e);return function(e){return e[11]}(ke(t)?t:e)},as=function(){var e=f(function e(){d(this,e)});return e.\u0275prov=P({token:e,providedIn:"root",factory:function(){return null}}),e}(),ss=f(function e(t){d(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}),us=new ss("12.2.15"),cs=function(){function e(){d(this,e)}return f(e,[{key:"supports",value:function(e){return Go(e)}},{key:"create",value:function(e){return new hs(e)}}]),e}(),ls=function(e,t){return t},hs=function(){function e(t){d(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ls}return f(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<vs(n,r,i)?t:n,a=vs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Go(e))throw new Error("Error trying to diff '".concat(w(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Zo()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new fs(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ps),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ps),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),fs=f(function e(t,n){d(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),ds=function(){function e(){d(this,e),this._head=null,this._tail=null}return f(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),ps=function(){function e(){d(this,e),this.map=new Map}return f(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new ds,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function vs(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var gs=function(){function e(){d(this,e)}return f(e,[{key:"supports",value:function(e){return e instanceof Map||Ko(e)}},{key:"create",value:function(){return new ms}}]),e}(),ms=function(){function e(){d(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return f(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ko(e)))throw new Error("Error trying to diff '".concat(w(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ys(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),ys=f(function e(t){d(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function ks(){return new _s([new cs])}var _s=function(){var e=function(){function e(t){d(this,e),this.factories=t}return f(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(null!=t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||ks())},deps:[[e,new qn,new Vn]]}}}]),e}();return e.\u0275prov=P({token:e,providedIn:"root",factory:ks}),e}();function ws(){return new bs([new gs])}var bs=function(){var e=function(){function e(t){d(this,e),this.factories=t}return f(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||ws())},deps:[[e,new qn,new Vn]]}}}]),e}();return e.\u0275prov=P({token:e,providedIn:"root",factory:ws}),e}();function xs(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=t[n.index];if(null!==o&&r.push(je(o)),_e(o))for(var s=10;s<o.length;s++){var u=o[s],c=u[1].firstChild;null!==c&&xs(u[1],u,c,r)}var l=n.type;if(8&l)xs(e,t,n.child,r);else if(32&l)for(var h=Mr(n,t),f=void 0;f=h();)r.push(f);else if(16&l){var d=ri(t,n);if(Array.isArray(d))r.push.apply(r,a(d));else{var p=Ur(t[16]);xs(p[1],p,d,r,!0)}}n=i?n.projectionNext:n.next}return r}var Ss=function(){function e(t,n){d(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return f(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return xs(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(_e(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Hr(e,n),yn(t,n))}this._attachedToViewContainer=!1}Gr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){Zi(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){uo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){co(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){at(!0);try{co(e,t,n)}finally{at(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,ai(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Ts=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e))._view=e,r}return f(n,[{key:"detectChanges",value:function(){lo(this._view)}},{key:"checkNoChanges",value:function(){!function(e){at(!0);try{lo(e)}finally{at(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ss),Es=function(e){return function(e,t,n){if(be(e)&&!n){var r=ze(e.index,t);return new Ss(r,r)}return 47&e.type?new Ss(t[16],t):null}(et(),Je(),16==(16&e))},Cs=function(){var e=f(function e(){d(this,e)});return e.__NG_ELEMENT_ID__=Es,e}(),Is=[new gs],Rs=new _s([new cs]),As=new bs(Is),Os=function(){return Ds(et(),Je())},Ps=function(){var e=f(function e(){d(this,e)});return e.__NG_ELEMENT_ID__=Os,e}(),Ns=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this))._declarationLView=e,o._declarationTContainer=r,o.elementRef=i,o}return f(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Pi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Li(t,n,e),new Ss(n)}}]),n}(Ps);function Ds(e,t){return 4&e.type?new Ns(t,e,$a(e,t)):null}var Ls=f(function e(){d(this,e)}),Fs=f(function e(){d(this,e)}),Ms=function(){return Bs(et(),Je())},Us=function(){var e=f(function e(){d(this,e)});return e.__NG_ELEMENT_ID__=Ms,e}(),js=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this))._lContainer=e,o._hostTNode=r,o._hostLView=i,o}return f(n,[{key:"element",get:function(){return $a(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new an(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Kt(this._hostTNode,this._hostLView);if(Ut(e)){var t=Vt(e,this._hostLView),n=jt(e);return new an(t[1].data[n+8],t)}return new an(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=Vs(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(Ls,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var r=e._lView,i=r[1];if(_e(r[3])){var o=this.indexOf(e);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(e))}}var u=this._adjustIndex(t),c=this._lContainer;!function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],mn(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(i,r,c,u);var l=ii(u,c),h=r[11],f=Xr(h,c[7]);return null!==f&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,ai(e,r,n,1,i,o)}(i,c[6],h,r,f,l),e.attachToViewContainerRef(),mn(qs(c),u,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=Vs(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=Hr(this._lContainer,t);n&&(yn(qs(this._lContainer),t),Gr(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=Hr(this._lContainer,t);return n&&null!=yn(qs(this._lContainer),t)?new Ss(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(Us);function Vs(e){return e[8]}function qs(e){return e[8]||(e[8]=[])}function Bs(e,t){var n,r=t[e.index];if(_e(r))n=r;else{var i;if(8&e.type)i=je(r);else{var o=t[11];i=o.createComment("");var a=qe(e,t);Qr(o,Xr(o,a),i,function(e,t){return Me(e)?e.nextSibling(t):t.nextSibling}(o,a),!1)}t[e.index]=n=ro(r,t,i,e),so(t,n)}return new js(n,e,t)}var zs={},Zs=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).ngModule=e,r}return f(n,[{key:"resolveComponentFactory",value:function(e){var t=me(e);return new Ks(t,this.ngModule)}}]),n}(Ja);function Hs(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Gs=new fn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Nr}}),Ks=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(wi).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return f(n,[{key:"inputs",get:function(){return Hs(this.componentDef.inputs)}},{key:"outputs",get:function(){return Hs(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,zs,i);return o!==zs||r===zs?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(rs,Ue),u=a.get(as,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Me(e))return e.selectRootElement(t,n===K.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):zr(s.createRenderer(null,this.componentDef),l,function(e){var t=e.toLowerCase();return"svg"===t?Le:"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Nr,clean:fo,playerHandler:null,flags:0},p=zi(0,null,null,1,0,null,null,null,null,null),v=Pi(null,p,d,f,null,null,s,c,u,a);vt(v);try{var g=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=Ni(a,20,2,"#host",null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(ko(s,u,!0),null!==e&&(Nt(i,e,u),null!==s.classes&&ci(i,e,s.classes),null!==s.styles&&ui(i,e,s.styles)));var c=r.createRenderer(e,t),l=Pi(n,Bi(t),null,t.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Wt(Zt(s,n),a,t.type),Yi(a,s),Xi(s,n.length,1)),so(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)Nt(c,h,["ng-version",us.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!gi(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=m.attrs,k=m.classes;y&&Nt(c,h,y),k&&k.length>0&&ci(c,h,k.join(" "))}if(o=Be(p,20),void 0!==t)for(var _=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var b=t[w];_.push(null!=b?Array.from(b):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=et();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),$i(e,r,t,Di(e,t,1,null),n));var i=nn(t,e,r.directiveStart,r);Ir(i,t);var o=qe(r,t);return o&&Ir(o,t),i}(o,n,t);if(r.components.push(a),e[8]=a,i&&i.forEach(function(e){return e(a,t)}),t.contentQueries){var s=et();t.contentQueries(1,a,s.directiveStart)}var u=et();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(bt(u.index),Wi(n[1],u,0,u.directiveStart,u.directiveEnd,t),Qi(t,a)),a}(g,this.componentDef,v,d,[Mo]),Li(p,v,null)}finally{_t()}return new Ws(this.componentType,i,$a(o,v),v,o)}}]),n}(Qa),Ws=function(e){p(n,e);var t=v(n);function n(e,r,i,o,a){var s;return d(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new Ts(o),s.componentType=e,s}return f(n,[{key:"injector",get:function(){return new an(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return f(function e(){d(this,e)})}()),Qs=new Map,Ys=function(e){p(n,e);var t=v(n);function n(e,r){var i;d(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=m(i),i.destroyCbs=[],i.componentFactoryResolver=new Zs(m(i));var o=ye(e),a=e[ie]||null;return a&&Va(a),i._bootstrapComponents=Lr(o.bootstrap),i._r3Injector=Co(e,r,[{provide:Ls,useValue:m(i)},{provide:Ja,useValue:i.componentFactoryResolver}],w(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return f(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;return e===Fo||e===Ls||e===wo?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Ls),Js=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).moduleType=e,null!==ye(e)&&function(e){var t=new Set;!function e(n){var r=ye(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(w(t)," vs ").concat(w(t.name)))}(i,Qs.get(i),n),Qs.set(i,n));var o,a=u(Lr(r.imports));try{for(a.s();!(o=a.n()).done;){var s=o.value;t.has(s)||(t.add(s),e(s))}}catch(c){a.e(c)}finally{a.f()}}(e)}(e),r}return f(n,[{key:"create",value:function(e){return new Ys(this.moduleType,e)}}]),n}(Fs);function Xs(e,t){var n,r=Xe(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new I("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ee(n.type)),a=z(Jo);try{var s=Bt(!1),u=o();return Bt(s),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,Je(),i,u),u}finally{z(a)}}function $s(e,t,n){var r=e+20,i=Je(),o=function(e,t){return e[t]}(i,r);return function(e,t){return Ho.isWrapped(t)&&(t=Ho.unwrap(t),e[Qe.lFrame.bindingIndex]=bi),t}(i,function(e,t){return e[1].data[t].pure}(i,r)?function(e,t,n,r,i,o){var a=t+n;return Wo(e,a,i)?function(e,t,n){return e[t]=n}(e,a+1,o?r.call(o,i):r(i)):function(e,t){var n=e[t];return n===bi?void 0:n}(e,a+1)}(i,function(){var e=Qe.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,o.transform,n,o):o.transform(n))}function eu(e){return function(t){setTimeout(e,void 0,t)}}var tu=function(e){p(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d(this,n),(e=t.call(this)).__isAsync=r,e}return f(n,[{key:"emit",value:function(e){i(b(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a,u,c=e,l=t||function(){return null},h=r;if(e&&"object"==typeof e){var f=e;c=null===(o=f.next)||void 0===o?void 0:o.bind(f),l=null===(a=f.error)||void 0===a?void 0:a.bind(f),h=null===(u=f.complete)||void 0===u?void 0:u.bind(f)}this.__isAsync&&(l=eu(l),c&&(c=eu(c)),h&&(h=eu(h)));var d=i(b(n.prototype),"subscribe",this).call(this,{next:c,error:l,complete:h});return e instanceof s.w0&&e.add(d),d}}]),n}(o.x);function nu(){return this._results[Zo()]()}var ru=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Zo(),r=e.prototype;r[n]||(r[n]=nu)}return f(e,[{key:"changes",get:function(){return this._changes||(this._changes=new tu)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){var n=this;n.dirty=!1;var r=vn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}();Symbol;var iu=function(){function e(t){d(this,e),this.queryList=t,this.matches=null}return f(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),ou=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,e),this.queries=t}return f(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==ku(e,t).matches&&this.queries[t].setDirty()}}]),e}(),au=f(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this.predicate=t,this.flags=n,this.read=r}),su=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,e),this.queries=t}return f(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),uu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;d(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return f(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,cu(t,i)),this.matchTNodeWithReadOption(e,t,tn(t,e,i,!1,!1))}else n===Ps?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,tn(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===ts||r===Us||r===Ps&&4&t.type)this.addMatch(t.index,-2);else{var i=tn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function cu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function lu(e,t,n,r){return-1===n?function(e,t){return 11&e.type?$a(e,t):4&e.type?Ds(e,t):null}(t,e):-2===n?function(e,t,n){return n===ts?$a(t,e):n===Ps?Ds(t,e):n===Us?Bs(t,e):void 0}(e,t,r):nn(e,e[1],n,t)}function hu(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:lu(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function fu(e,t,n,r){var i=e.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=hu(e,t,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=t[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&fu(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];fu(v[1],v,c,r)}}}return r}function du(e){var t=Je(),n=Xe(),r=ht();ft(r+1);var i=ku(n,r);if(e.dirty&&Ze(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?fu(n,t,r,[]):hu(n,t,i,r);e.reset(o,ns),e.notifyOnChanges()}return!0}return!1}function pu(e,t,n){var r=Xe();r.firstCreatePass&&(yu(r,new au(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),mu(r,Je(),t)}function vu(e,t,n,r){var i=Xe();if(i.firstCreatePass){var o=et();yu(i,new au(t,n,r),o.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}mu(i,Je(),n)}function gu(){return e=Je(),t=ht(),e[19].queries[t].queryList;var e,t}function mu(e,t,n){var r=new ru(4==(4&n));Zi(e,t,r,r.destroy),null===t[19]&&(t[19]=new ou),t[19].queries.push(new iu(r))}function yu(e,t,n){null===e.queries&&(e.queries=new su),e.queries.track(new uu(t,n))}function ku(e,t){return e.queries.getByIndex(t)}var _u=new fn("Application Initializer"),wu=function(){var e=function(){function e(t){var n=this;d(this,e),this.appInits=t,this.resolve=Xa,this.reject=Xa,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return f(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=function(n){var r=e.appInits[n]();if(aa(r))t.push(r);else if(ua(r)){var i=new Promise(function(e,t){r.subscribe({complete:e,error:t})});t.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Pn(_u,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),e}(),bu=new fn("AppId"),xu={provide:bu,useFactory:function(){return"".concat(Su()).concat(Su()).concat(Su())},deps:[]};function Su(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Tu=new fn("Platform Initializer"),Eu=new fn("Platform ID"),Cu=new fn("appBootstrapListener"),Iu=function(){var e=function(){function e(){d(this,e)}return f(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac}),e}(),Ru=new fn("LocaleId"),Au=new fn("DefaultCurrencyCode"),Ou=f(function e(t,n){d(this,e),this.ngModuleFactory=t,this.componentFactories=n}),Pu=function(e){return new Js(e)},Nu=Pu,Du=function(e){return Promise.resolve(Pu(e))},Lu=function(e){var t=Pu(e),n=Lr(ye(e).declarations).reduce(function(e,t){var n=me(t);return n&&e.push(new Ks(n)),e},[]);return new Ou(t,n)},Fu=Lu,Mu=function(e){return Promise.resolve(Lu(e))},Uu=function(){var e=function(){function e(){d(this,e),this.compileModuleSync=Nu,this.compileModuleAsync=Du,this.compileModuleAndAllComponentsSync=Fu,this.compileModuleAndAllComponentsAsync=Mu}return f(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac}),e}(),ju=Promise.resolve(0);function Vu(e){"undefined"==typeof Zone?ju.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var qu=function(){function e(t){var n=t.enableLongStackTrace,r=void 0!==n&&n,i=t.shouldCoalesceEventChangeDetection,o=void 0!==i&&i,a=t.shouldCoalesceRunChangeDetection,s=void 0!==a&&a;if(d(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tu(!1),this.onMicrotaskEmpty=new tu(!1),this.onStable=new tu(!1),this.onError=new tu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&o,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){var e=J.requestAnimationFrame,t=J.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){var t=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(J,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Zu(e),e.isCheckStableRunning=!0,zu(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Zu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,r,i,o,a,s){try{return Hu(e),n.invokeTask(i,o,a,s)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Gu(e)}},onInvoke:function(n,r,i,o,a,s,u){try{return Hu(e),n.invoke(i,o,a,s,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),Gu(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Zu(e),zu(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}(u)}return f(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Bu,Xa,Xa);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),Bu={};function zu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Zu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Hu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Gu(e){e._nesting--,zu(e)}var Ku=function(){function e(){d(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tu,this.onMicrotaskEmpty=new tu,this.onStable=new tu,this.onError=new tu}return f(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Wu=function(){var e=function(){function e(t){var n=this;d(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return f(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){qu.assertNotInAngularZone(),Vu(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Vu(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Pn(qu))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),e}(),Qu=function(){var e=function(){function e(){d(this,e),this._applications=new Map,Xu.addToWindow(this)}return f(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Xu.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac}),e}();function Yu(e){Xu=e}var Ju,Xu=new(function(){function e(){d(this,e)}return f(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),$u=!0,ec=!1;function tc(){return ec=!0,$u}function nc(){if(ec)throw new Error("Cannot enable prod mode after platform setup.");$u=!1}var rc=new fn("AllowMultipleToken"),ic=f(function e(t,n){d(this,e),this.name=t,this.token=n});function oc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new fn(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=ac();if(!o||o.injector.get(rc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:xo,useValue:"platform"});!function(e){if(Ju&&!Ju.destroyed&&!Ju.injector.get(rc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ju=e.get(sc);var t=e.get(Tu,null);t&&t.forEach(function(e){return e()})}(Fo.create({providers:a,name:r}))}return function(e){var t=ac();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function ac(){return Ju&&!Ju.destroyed?Ju:null}var sc=function(){var e=function(){function e(t){d(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return f(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n=this,r=function(e,t){return"noop"===e?new Ku:("zone.js"===e?void 0:e)||new qu({enableLongStackTrace:tc(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)})}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),i=[{provide:qu,useValue:r}];return r.run(function(){var o=Fo.create({providers:i,parent:n.injector,name:e.moduleType.name}),a=e.create(o),s=a.injector.get(Pr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.runOutsideAngular(function(){var e=r.onError.subscribe({next:function(e){s.handleError(e)}});a.onDestroy(function(){lc(n._modules,a),e.unsubscribe()})}),function(e,r,i){try{var o=((s=a.injector.get(wu)).runInitializers(),s.donePromise.then(function(){return Va(a.injector.get(Ru,ja)||ja),n._moduleDoBootstrap(a),a}));return aa(o)?o.catch(function(t){throw r.runOutsideAngular(function(){return e.handleError(t)}),t}):o}catch(t){throw r.runOutsideAngular(function(){return e.handleError(t)}),t}var s}(s,r)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=uc({},n);return function(e,t,n){var r=new Js(n);return Promise.resolve(r)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(cc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(w(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Pn(Fo))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),e}();function uc(e,t){return Array.isArray(t)?t.reduce(uc,e):Object.assign(Object.assign({},e),t)}var cc=function(){var e=function(){function e(t,n,r,i,o){var a=this;d(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new c.y(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})}),u=new c.y(function(e){var t;a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){qu.assertNotInAngularZone(),Vu(function(){!a._stable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks&&(a._stable=!0,e.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){qu.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,l.T)(s,u.pipe((0,h.B)()))}return f(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Qa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(Ls),o=n.create(Fo.NULL,[],t||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Wu,null),u=s&&o.injector.get(Qu);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),lc(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=u(this._views);try{for(n.s();!(t=n.n()).done;){var r;t.value.detectChanges()}}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;lc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Cu,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Pn(qu),Pn(Fo),Pn(Pr),Pn(Ja),Pn(wu))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),e}();function lc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var hc=f(function e(){d(this,e)}),fc=f(function e(){d(this,e)}),dc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},pc=function(){var e=function(){function e(t,n){d(this,e),this._compiler=t,this._config=n||dc}return f(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var n=this,i=t(e.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r(8255)(o).then(function(e){return e[a]}).then(function(e){return vc(e,o,a)}).then(function(e){return n._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var n=t(e.split("#"),2),i=n[0],o=n[1],a="NgFactory";return void 0===o&&(o="default",a=""),r(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(e){return e[o+a]}).then(function(e){return vc(e,i,o)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Pn(Uu),Pn(fc,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),e}();function vc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var gc=function(e){return null},mc=oc(null,"core",[{provide:Eu,useValue:"unknown"},{provide:sc,deps:[Fo]},{provide:Qu,deps:[]},{provide:Iu,deps:[]}]),yc=[{provide:cc,useClass:cc,deps:[qu,Fo,Pr,Ja,wu]},{provide:Gs,deps:[qu],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:wu,useClass:wu,deps:[[new Vn,_u]]},{provide:Uu,useClass:Uu,deps:[]},xu,{provide:_s,useFactory:function(){return Rs},deps:[]},{provide:bs,useFactory:function(){return As},deps:[]},{provide:Ru,useFactory:function(e){return Va(e=e||"undefined"!=typeof $localize&&$localize.locale||ja),e},deps:[[new jn(Ru),new Vn,new qn]]},{provide:Au,useValue:"USD"}],kc=function(){var e=f(function e(t){d(this,e)});return e.\u0275fac=function(t){return new(t||e)(Pn(cc))},e.\u0275mod=fe({type:e}),e.\u0275inj=N({providers:yc}),e}()},8939:function(e,n,r){"use strict";r.d(n,{hO:function(){return _},xv:function(){return v},Dh:function(){return p},GT:function(){return l},cc:function(){return w},on:function(){return g},pX:function(){return c}});var i=r(7716),o=r(7841),s=r(1048);e=r.hmd(e);var u=["ngOnDestroy"],c=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(e,{get:function(i,o){return n.runOutsideAngular(function(){var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(u.indexOf(o)>-1)return function(){};var s=t.toPromise().then(function(e){var t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then(function(e){return n.run(function(){return e})}):n.run(function(){return t})});return new Proxy(function(){},{get:function(e,t){return s[t]},apply:function(e,t,n){return s.then(function(e){var t,i=e&&e.apply(void 0,a(n));return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i})}})})}})},l=function(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype||t).forEach(function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})},h=f(function e(t){return d(this,e),t}),p=new i.OlP("angularfire2.app.options"),v=new i.OlP("angularfire2.app.name");function g(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var a=o.Z.apps.filter(function(e){return e&&e.name===i.name})[0]||n.runOutsideAngular(function(){return o.Z.initializeApp(t,i)});try{JSON.stringify(t)!==JSON.stringify(a.options)&&y("error","".concat(a.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(s){}return new h(a)}var m,y=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(0,i.X6Q)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)},k={provide:h,useFactory:g,deps:[p,i.R0b,[new i.FiY,v]]},_=((m=function(){function e(t){d(this,e),o.Z.registerVersion("angularfire",s.q4.full,"core"),o.Z.registerVersion("angularfire",s.q4.full,"app-compat"),o.Z.registerVersion("angular",i.q4F.full,t.toString())}return f(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:p,useValue:t},{provide:v,useValue:n}]}}}]),e}()).\u0275fac=function(e){return new(e||m)(i.LFG(i.Lbi))},m.\u0275mod=i.oAB({type:m}),m.\u0275inj=i.cJS({providers:[k]}),m);function w(e,n,r,i,o){var a=t(globalThis.\u0275AngularfireInstanceCache.find(function(t){return t[0]===e})||[],3),s=a[1],u=a[2];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(r){return e===t}}(o,u)||(x("error","".concat(n," was already initialized on the ").concat(r," Firebase App with different settings.").concat(b?" You may need to reload as Firebase is not HMR aware.":"")),x("warn",{is:o,was:u})),s;var c=i();return globalThis.\u0275AngularfireInstanceCache.push([e,c,o]),c}var b=!!e.hot,x=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(0,i.X6Q)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1048:function(e,n,r){"use strict";r.d(n,{q4:function(){return Zn},iC:function(){return tr},HU:function(){return $n},vb:function(){return Qn},JM:function(){return Wn}});var o=r(7716),s=r(2329),c=r(8239),l=r(8026),h=r(3854),g=r(3910),m=r(5422),y=r(6676),k="@firebase/installations",_="0.5.5",w="w:".concat(_),x="FIS_v2",S=new h.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function T(e){return e instanceof h.ZR&&e.code.includes("request-failed")}function E(e){var t=e.projectId;return"https://firebaseinstallations.googleapis.com/v1/projects/".concat(t,"/installations")}function C(e){return{token:e.token,requestStatus:2,expiresIn:D(e.expiresIn),creationTime:Date.now()}}function I(e,t){return R.apply(this,arguments)}function R(){return(R=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent.error,e.abrupt("return",S.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function O(e,t){var n=t.refreshToken,r=A(e);return r.append("Authorization",function(e){return"".concat(x," ").concat(e)}(n)),r}function P(e){return N.apply(this,arguments)}function N(){return(N=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return n=e.sent,e.abrupt("return",n.status>=500&&n.status<600?t():n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e){return Number(e.replace("s","000"))}function L(e,t){return F.apply(this,arguments)}function F(){return(F=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.fid,i=E(t),o={method:"POST",headers:A(t),body:JSON.stringify({fid:r,authVersion:x,appId:t.appId,sdkVersion:w})},e.next=5,P(function(){return fetch(i,o)});case 5:if(!(a=e.sent).ok){e.next=11;break}return e.next=9,a.json();case 9:return s=e.sent,e.abrupt("return",{fid:s.fid||r,registrationStatus:2,refreshToken:s.refreshToken,authToken:C(s.authToken)});case 11:return e.next=13,I("Create Installation",a);case 13:throw e.sent;case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e){return new Promise(function(t){setTimeout(t,e)})}var U=/^[cdef][\w-]{21}$/;function j(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return function(e){return btoa(String.fromCharCode.apply(String,a(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return U.test(t)?t:""}catch(e){return""}}function V(e){return"".concat(e.appName,"!").concat(e.appId)}var q=new Map;function B(e,t){var n=V(e);z(n,t),function(e,t){var n=(!Z&&"BroadcastChannel"in self&&((Z=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){z(e.data.key,e.data.fid)}),Z);n&&n.postMessage({key:e,fid:t}),0===q.size&&Z&&(Z.close(),Z=null)}(n,t)}function z(e,t){var n=q.get(e);if(n){var r,i=u(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(o){i.e(o)}finally{i.f()}}}var Z=null,H="firebase-installations-store",G=null;function K(){return G||(G=(0,y.openDb)("firebase-installations-database",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore(H)}})),G}function W(e,t){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=V(t),e.next=3,K();case 3:return i=e.sent.transaction(H,"readwrite"),o=i.objectStore(H),e.next=7,o.get(r);case 7:return a=e.sent,e.next=10,o.put(n,r);case 10:return e.next=12,i.complete;case 12:return(!a||a.fid!==n.fid)&&B(t,n.fid),e.abrupt("return",n);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e){return J.apply(this,arguments)}function J(){return(J=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=V(t),e.next=3,K();case 3:return r=e.sent.transaction(H,"readwrite"),e.next=6,r.objectStore(H).delete(n);case 6:return e.next=8,r.complete;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function X(e,t){return $.apply(this,arguments)}function $(){return($=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=V(t),e.next=3,K();case 3:return i=e.sent.transaction(H,"readwrite"),o=i.objectStore(H),e.next=7,o.get(r);case 7:if(a=e.sent,void 0!==(s=n(a))){e.next=14;break}return e.next=12,o.delete(r);case 12:e.next=16;break;case 14:return e.next=16,o.put(s,r);case 16:return e.next=18,i.complete;case 18:return s&&(!a||a.fid!==s.fid)&&B(t,s.fid),e.abrupt("return",s);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t,function(e){var r=ne(e),i=re(t,r);return n=i.registrationPromise,i.installationEntry});case 2:if(""!==(r=e.sent).fid){e.next=10;break}return e.next=6,n;case 6:e.t1=e.sent,e.t0={installationEntry:e.t1},e.next=11;break;case 10:e.t0={installationEntry:r,registrationPromise:n};case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ne(e){return ue(e||{fid:j(),registrationStatus:0})}function re(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(S.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return ie.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:oe(e)}:{installationEntry:t}}function ie(){return(ie=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=W,e.t1=t,e.next=5,L(t,n);case 5:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 9:if(e.prev=9,e.t3=e.catch(0),!T(e.t3)||409!==e.t3.customData.serverCode){e.next=16;break}return e.next=14,Y(t);case 14:e.next=18;break;case 16:return e.next=18,W(t,{fid:n.fid,registrationStatus:0});case 18:throw e.t3;case 19:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function oe(e){return ae.apply(this,arguments)}function ae(){return(ae=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,M(100);case 6:return e.next=8,se(t);case 8:n=e.sent;case 9:e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=18;break}return e.next=14,ee(t);case 14:return r=e.sent,i=r.installationEntry,o=r.registrationPromise,e.abrupt("return",o||i);case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function se(e){return X(e,function(e){if(!e)throw S.create("installation-not-found");return ue(e)})}function ue(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appConfig,i=t.platformLoggerProvider,o=he(r,n),a=O(r,n),(s=i.getImmediate({optional:!0}))&&a.append("x-firebase-client",s.getPlatformInfoString()),u={method:"POST",headers:a,body:JSON.stringify({installation:{sdkVersion:w}})},e.next=6,P(function(){return fetch(o,u)});case 6:if(!(c=e.sent).ok){e.next=13;break}return e.t0=C,e.next=11,c.json();case 11:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 13:return e.next=15,I("Generate Auth Token",c);case 15:throw e.sent;case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(e,t){var n=t.fid;return"".concat(E(e),"/").concat(n,"/authTokens:generate")}function fe(e){return de.apply(this,arguments)}function de(){return(de=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,X(t.appConfig,function(e){if(!ke(e))throw S.create("not-registered");var i=e.authToken;if(!n&&_e(i))return e;if(1===i.requestStatus)return r=pe(t,n),e;if(!navigator.onLine)throw S.create("app-offline");var o=we(e);return r=me(t,o),o});case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,M(100);case 6:return e.next=8,ge(t.appConfig);case 8:r=e.sent;case 9:e.next=3;break;case 11:return i=r.authToken,e.abrupt("return",0===i.requestStatus?fe(t,n):i);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ge(e){return X(e,function(e){if(!ke(e))throw S.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function me(e,t){return ye.apply(this,arguments)}function ye(){return(ye=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,W(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),T(e.t0)&&(401===e.t0.customData.serverCode||404===e.t0.customData.serverCode)){e.next=18;break}return o=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=16,W(t.appConfig,o);case 16:e.next=20;break;case 18:return e.next=20,Y(t.appConfig);case 20:throw e.t0;case 21:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function ke(e){return void 0!==e&&2===e.registrationStatus}function _e(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function we(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function be(){return(be=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,ee(n.appConfig);case 3:return r=e.sent,i=r.installationEntry,o=r.registrationPromise,e.abrupt("return",(o?o.catch(console.error):fe(n).catch(console.error),i.fid));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xe(){return(xe=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=t,e.next=4,Se(r.appConfig);case 4:return e.next=6,fe(r,n);case 6:return e.abrupt("return",e.sent.token);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Se(e){return Te.apply(this,arguments)}function Te(){return(Te=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:if(n=e.sent,r=n.registrationPromise,e.t0=r,!e.t0){e.next=8;break}return e.next=8,r;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ee(e){return S.create("missing-app-config-values",{valueName:e})}var Ce="installations";(0,l._registerComponent)(new g.wA(Ce,function(e){var t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw Ee("App Configuration");if(!e.name)throw Ee("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Ee(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,l._getProvider)(t,"platform-logger"),_delete:function(){return Promise.resolve()}}},"PUBLIC")),(0,l._registerComponent)(new g.wA("installations-internal",function(e){var t=e.getProvider("app").getImmediate(),n=(0,l._getProvider)(t,Ce).getImmediate();return{getId:function(){return function(e){return be.apply(this,arguments)}(n)},getToken:function(e){return function(e){return xe.apply(this,arguments)}(n,e)}}},"PRIVATE")),(0,l.registerVersion)(k,_),(0,l.registerVersion)(k,_,"esm2017");var Ie="@firebase/remote-config",Re=new h.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"}),Ae=function(){function e(t,n,r,i){d(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return f(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: ".concat(n,". Cache max age millis (minimumFetchIntervalMillis setting): ").concat(e,". Is cache hit: ").concat(r,".")),r}},{key:"fetch",value:function(e){var n=this;return(0,c.Z)(regeneratorRuntime.mark(function r(){var i,o,a,s,u,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);case 2:if(i=r.sent,o=t(i,2),a=o[0],!(s=o[1])||!n.isCachedDataFresh(e.cacheMaxAgeMillis,a)){r.next=8;break}return r.abrupt("return",s);case 8:return e.eTag=s&&s.eTag,r.next=11,n.client.fetch(e);case 11:return u=r.sent,c=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===u.status&&c.push(n.storage.setLastSuccessfulFetchResponse(u)),r.next=16,Promise.all(c);case 16:return r.abrupt("return",u);case 17:case"end":return r.stop()}},r)}))()}}]),e}();function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}var Pe=function(){function e(t,n,r,i,o,a){d(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return f(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var n=this;return(0,c.Z)(regeneratorRuntime.mark(function r(){var i,o,a,s,u,c,l,h,f,d,p,v,g,m,y,k,_;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]);case 2:return i=r.sent,o=t(i,2),a=o[0],s=o[1],u="".concat(window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com","/v1/projects/").concat(n.projectId,"/namespaces/").concat(n.namespace,":fetch?key=").concat(n.apiKey),c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:a,app_instance_id_token:s,app_id:n.appId,language_code:Oe()},h={method:"POST",headers:c,body:JSON.stringify(l)},f=fetch(u,h),d=new Promise(function(t,n){e.signal.addEventListener(function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)})}),r.prev=12,r.next=15,Promise.race([f,d]);case 15:return r.next=17,f;case 17:p=r.sent,r.next=24;break;case 20:throw r.prev=20,r.t0=r.catch(12),v="fetch-client-network","AbortError"===r.t0.name&&(v="fetch-timeout"),Re.create(v,{originalErrorMessage:r.t0.message});case 24:if(g=p.status,m=p.headers.get("ETag")||void 0,200!==p.status){r.next=37;break}return r.prev=27,r.next=30,p.json();case 30:_=r.sent,r.next=36;break;case 33:throw r.prev=33,r.t1=r.catch(27),Re.create("fetch-client-parse",{originalErrorMessage:r.t1.message});case 36:y=_.entries,k=_.state;case 37:if("INSTANCE_STATE_UNSPECIFIED"===k?g=500:"NO_CHANGE"===k?g=304:("NO_TEMPLATE"===k||"EMPTY_CONFIG"===k)&&(y={}),304===g||200===g){r.next=39;break}throw Re.create("fetch-status",{httpStatus:g});case 39:return r.abrupt("return",{status:g,eTag:m,config:y});case 40:case"end":return r.stop()}},r,null,[[12,20],[27,33]])}))()})}]),e}(),Ne=function(){function e(t,n){d(this,e),this.client=t,this.storage=n}return f(e,[{key:"fetch",value:function(e){var t=this;return(0,c.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.storage.getThrottleMetadata();case 2:if(n.t0=n.sent,n.t0){n.next=5;break}n.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return r=n.t0,n.abrupt("return",t.attemptFetch(e,r));case 7:case"end":return n.stop()}},n)}))()}},{key:"attemptFetch",value:function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount,i=this;return(0,c.Z)(regeneratorRuntime.mark(function t(){var o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(Re.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,n);case 2:return t.prev=2,t.next=5,i.client.fetch(e);case 5:return o=t.sent,t.next=8,i.storage.deleteThrottleMetadata();case 8:return t.abrupt("return",o);case 11:if(t.prev=11,t.t0=t.catch(2),function(e){if(!(e instanceof h.ZR&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t.t0)){t.next=15;break}throw t.t0;case 15:return a={throttleEndTimeMillis:Date.now()+(0,h.$s)(r),backoffCount:r+1},t.next=18,i.storage.setThrottleMetadata(a);case 18:return t.abrupt("return",i.attemptFetch(e,a));case 19:case"end":return t.stop()}},t,null,[[2,11]])}))()}}]),e}(),De=function(){function e(t,n,r,i,o){d(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return f(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function Le(e,t){var n=e.target.error||void 0;return Re.create(t,{originalErrorMessage:n&&n.message})}var Fe="app_namespace_store",Me=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Promise(function(e,t){try{var r=indexedDB.open("firebase_remote_config",1);r.onerror=function(e){t(Le(e,"storage-open"))},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Fe,{keyPath:"compositeKey"})}}}catch(n){t(Re.create("storage-open",{originalErrorMessage:n}))}});d(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return f(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(e){var t=this;return(0,c.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.openDbPromise;case 2:return r=n.sent,n.abrupt("return",new Promise(function(n,i){var o=r.transaction([Fe],"readonly").objectStore(Fe),a=t.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(Le(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;n(t?t.value:void 0)}}catch(s){i(Re.create("storage-get",{originalErrorMessage:s&&s.message}))}}));case 4:case"end":return n.stop()}},n)}))()}},{key:"set",value:function(e,t){var n=this;return(0,c.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.openDbPromise;case 2:return i=r.sent,r.abrupt("return",new Promise(function(r,o){var a=i.transaction([Fe],"readwrite").objectStore(Fe),s=n.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(Le(e,"storage-set"))},u.onsuccess=function(){r()}}catch(u){o(Re.create("storage-set",{originalErrorMessage:u&&u.message}))}}));case 4:case"end":return r.stop()}},r)}))()}},{key:"delete",value:function(e){var t=this;return(0,c.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.openDbPromise;case 2:return r=n.sent,n.abrupt("return",new Promise(function(n,i){var o=r.transaction([Fe],"readwrite").objectStore(Fe),a=t.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(Le(e,"storage-delete"))},s.onsuccess=function(){n()}}catch(s){i(Re.create("storage-delete",{originalErrorMessage:s&&s.message}))}}));case 4:case"end":return n.stop()}},n)}))()}},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),Ue=function(){function e(t){d(this,e),this.storage=t}return f(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),t.next=5,n;case 5:return(o=t.sent)&&(e.lastFetchStatus=o),t.next=9,r;case 9:return(a=t.sent)&&(e.lastSuccessfulFetchTimestampMillis=a),t.next=13,i;case 13:(s=t.sent)&&(e.activeConfig=s);case 15:case"end":return t.stop()}},t)}))()}},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();function je(){return(je=(0,c.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,h.hl)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,h.eu)();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}(0,l._registerComponent)(new g.wA("remote-config",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Re.create("registration-window");if(!(0,h.hl)())throw Re.create("indexed-db-unavailable");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw Re.create("registration-project-id");if(!s)throw Re.create("registration-api-key");if(!u)throw Re.create("registration-app-id");var c=new Me(u,r.name,n=n||"firebase"),f=new Ue(c),d=new m.Yd(Ie);d.logLevel=m.in.ERROR;var p=new Pe(i,l.SDK_VERSION,n,a,s,u),v=new Ne(p,c),g=new Ae(v,c,f,d),y=new De(r,g,f,c,d);return function(e){var t=(0,h.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0}))}(y),y},"PUBLIC").setMultipleInstances(!0)),(0,l.registerVersion)(Ie,"0.3.4"),(0,l.registerVersion)(Ie,"0.3.4","esm2017");var Ve,qe="/firebase-messaging-sw.js",Be="/firebase-cloud-messaging-push-scope",ze="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ze="google.c.a.c_id",He="google.c.a.c_l",Ge="google.c.a.ts",Ke="google.c.a.e",We=((Ve=We||(We={})).PUSH_RECEIVED="push-received",Ve.NOTIFICATION_CLICKED="notification-clicked",We);function Qe(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,a(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ye(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var Je="fcm_token_details_db",Xe="fcm_token_object_Store";function $e(e){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="databases"in indexedDB,!e.t0){e.next=5;break}return e.next=4,indexedDB.databases();case 4:e.t0=!e.sent.map(function(e){return e.name}).includes(Je);case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",null);case 7:return n=null,e.next=10,(0,y.openDb)(Je,5,function(){var e=(0,c.Z)(regeneratorRuntime.mark(function e(r){var i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.oldVersion<2)&&r.objectStoreNames.contains(Xe)){e.next=2;break}return e.abrupt("return");case 2:return o=r.transaction.objectStore(Xe),e.next=5,o.index("fcmSenderId").get(t);case 5:return a=e.sent,e.next=8,o.clear();case 8:if(!a){e.next=17;break}if(2!==r.oldVersion){e.next=16;break}if((s=a).auth&&s.p256dh&&s.endpoint){e.next=13;break}return e.abrupt("return");case 13:n={token:s.fcmToken,createTime:null!==(i=s.createTime)&&void 0!==i?i:Date.now(),subscriptionOptions:{auth:s.auth,p256dh:s.p256dh,endpoint:s.endpoint,swScope:s.swScope,vapidKey:"string"==typeof s.vapidKey?s.vapidKey:Qe(s.vapidKey)}},e.next=17;break;case 16:3===r.oldVersion?n={token:(u=a).fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Qe(u.auth),p256dh:Qe(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Qe(u.vapidKey)}}:4===r.oldVersion&&(n={token:(c=a).fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Qe(c.auth),p256dh:Qe(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Qe(c.vapidKey)}});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:return e.sent.close(),e.next=13,(0,y.deleteDb)(Je);case 13:return e.next=15,(0,y.deleteDb)("fcm_vapid_details_db");case 15:return e.next=17,(0,y.deleteDb)("undefined");case 17:return e.abrupt("return",tt(n)?n:null);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tt(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var nt="firebase-messaging-store",rt=null;function it(){return rt||(rt=(0,y.openDb)("firebase-messaging-database",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore(nt)}})),rt}function ot(e){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ht(t),e.next=3,it();case 3:return e.next=5,e.sent.transaction(nt).objectStore(nt).get(n);case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return e.next=10,$e(t.appConfig.senderId);case 10:if(!(i=e.sent)){e.next=15;break}return e.next=14,st(t,i);case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function st(e,t){return ut.apply(this,arguments)}function ut(){return(ut=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=ht(t),e.next=3,it();case 3:return i=e.sent.transaction(nt,"readwrite"),e.next=6,i.objectStore(nt).put(n,r);case 6:return e.next=8,i.complete;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(e){return lt.apply(this,arguments)}function lt(){return(lt=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ht(t),e.next=3,it();case 3:return r=e.sent.transaction(nt,"readwrite"),e.next=6,r.objectStore(nt).delete(n);case 6:return e.next=8,r.complete;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ht(e){return e.appConfig.appId}var ft=new h.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t(t);case 2:return r=e.sent,i=bt(n),o={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(kt(t.appConfig),o);case 8:return e.next=10,e.sent.json();case 10:a=e.sent,e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(5),ft.create("token-subscribe-failed",{errorInfo:e.t0});case 16:if(!a.error){e.next=18;break}throw ft.create("token-subscribe-failed",{errorInfo:a.error.message});case 18:if(a.token){e.next=20;break}throw ft.create("token-subscribe-no-token");case 20:return e.abrupt("return",a.token);case 21:case"end":return e.stop()}},e,null,[[5,13]])}))).apply(this,arguments)}function vt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t(t);case 2:return r=e.sent,i=bt(n.subscriptionOptions),o={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(kt(t.appConfig),"/").concat(n.token),o);case 8:return e.next=10,e.sent.json();case 10:a=e.sent,e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(5),ft.create("token-update-failed",{errorInfo:e.t0});case 16:if(!a.error){e.next=18;break}throw ft.create("token-update-failed",{errorInfo:a.error.message});case 18:if(a.token){e.next=20;break}throw ft.create("token-update-no-token");case 20:return e.abrupt("return",a.token);case 21:case"end":return e.stop()}},e,null,[[5,13]])}))).apply(this,arguments)}function mt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t(t);case 2:return e.t0=e.sent,r={method:"DELETE",headers:e.t0},e.prev=4,e.next=7,fetch("".concat(kt(t.appConfig),"/").concat(n),r);case 7:return e.next=9,e.sent.json();case 9:if(!(i=e.sent).error){e.next=12;break}throw ft.create("token-unsubscribe-failed",{errorInfo:i.error.message});case 12:e.next=17;break;case 14:throw e.prev=14,e.t1=e.catch(4),ft.create("token-unsubscribe-failed",{errorInfo:e.t1});case 17:case"end":return e.stop()}},e,null,[[4,14]])}))).apply(this,arguments)}function kt(e){var t=e.projectId;return"https://fcmregistrations.googleapis.com/v1/projects/".concat(t,"/registrations")}function _t(e){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bt(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==ze&&(o.web.applicationPubKey=i),o}var xt=6048e5;function St(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Qe(n.getKey("auth")),p256dh:Qe(n.getKey("p256dh"))},e.next=6,ot(t.firebaseDependencies);case 6:if(!(i=e.sent)){e.next=19;break}if(!Dt(i.subscriptionOptions,r)){e.next=10;break}return e.abrupt("return",Date.now()>=i.createTime+xt?It(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token);case 10:return e.prev=10,e.next=13,mt(t.firebaseDependencies,i.token);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.warn(e.t0);case 18:case 19:return e.abrupt("return",At(t.firebaseDependencies,r));case 20:case"end":return e.stop()}},e,null,[[10,15]])}))).apply(this,arguments)}function Et(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(t.firebaseDependencies);case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=9;break}return e.next=7,mt(t.firebaseDependencies,n.token);case 7:return e.next=9,ct(t.firebaseDependencies);case 9:return e.next=11,t.swRegistration.pushManager.getSubscription();case 11:return r=e.sent,e.abrupt("return",!r||r.unsubscribe());case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function It(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,st(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Et(t);case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function At(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(t,n);case 2:return e.t0=e.sent,e.t1=Date.now(),e.t2=n,r={token:e.t0,createTime:e.t1,subscriptionOptions:e.t2},e.next=8,st(t,r);case 8:return e.abrupt("return",r.token);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pt(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ye(n)});case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Dt(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function Lt(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){!t.data||(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}function Ft(e){return"object"==typeof e&&!!e&&Ze in e}function Mt(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Ut(e){return ft.create("missing-app-config-values",{valueName:e})}Mt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Mt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var jt=function(){function e(t,n,r){d(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Ut("App Configuration Object");if(!e.name)throw Ut("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw Ut(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return f(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function Vt(e){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(qe,{scope:Be});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch(function(){}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),ft.create("failed-service-worker-registration",{browserErrorMessage:e.t0.message});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Bt(e,t){return zt.apply(this,arguments)}function zt(){return(zt=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!n&&!t.swRegistration,!e.t0){e.next=4;break}return e.next=4,Vt(t);case 4:if(!n&&t.swRegistration){e.next=8;break}if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw ft.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=ze);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw ft.create("only-available-in-window");case 2:if(e.t0="default"===Notification.permission,!e.t0){e.next=6;break}return e.next=6,Notification.requestPermission();case 6:if("granted"===Notification.permission){e.next=8;break}throw ft.create("permission-blocked");case 8:return e.next=10,Zt(t,null==n?void 0:n.vapidKey);case 10:return e.next=12,Bt(t,null==n?void 0:n.serviceWorkerRegistration);case 12:return e.abrupt("return",St(t));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Kt(e,t,n){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qt(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r[Ze],message_name:r[He],message_time:r[Ge],message_device_time:Math.floor(Date.now()/1e3)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qt(e){switch(e){case We.NOTIFICATION_CLICKED:return"notification_open";case We.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yt(){return(Yt=(0,c.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===We.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Lt(r)):t.onMessageHandler.next(Lt(r))),i=r.data,e.t0=Ft(i)&&"1"===i[Ke],!e.t0){e.next=9;break}return e.next=9,Kt(t,r.messageType,i);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Jt="@firebase/messaging";function Xt(){return(Xt=(0,c.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t7="undefined"!=typeof window&&(0,h.hl)(),!e.t7){e.next=5;break}return e.next=4,(0,h.eu)();case 4:e.t7=e.sent;case 5:if(e.t6=e.t7,!e.t6){e.next=8;break}e.t6=(0,h.zI)();case 8:if(e.t5=e.t6,!e.t5){e.next=11;break}e.t5="serviceWorker"in navigator;case 11:if(e.t4=e.t5,!e.t4){e.next=14;break}e.t4="PushManager"in window;case 14:if(e.t3=e.t4,!e.t3){e.next=17;break}e.t3="Notification"in window;case 17:if(e.t2=e.t3,!e.t2){e.next=20;break}e.t2="fetch"in window;case 20:if(e.t1=e.t2,!e.t1){e.next=23;break}e.t1=ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification");case 23:if(e.t0=e.t1,!e.t0){e.next=26;break}e.t0=PushSubscription.prototype.hasOwnProperty("getKey");case 26:return e.abrupt("return",e.t0);case 27:case"end":return e.stop()}},e)}))).apply(this,arguments)}(0,l._registerComponent)(new g.wA("messaging",function(e){var t=new jt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",function(e){return function(e,t){return Yt.apply(this,arguments)}(t,e)}),t},"PUBLIC")),(0,l._registerComponent)(new g.wA("messaging-internal",function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return function(e,t){return Gt.apply(this,arguments)}(t,e)}}},"PRIVATE")),(0,l.registerVersion)(Jt,"0.9.7"),(0,l.registerVersion)(Jt,"0.9.7","esm2017");var $t="analytics",en="firebase_id",tn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nn="https://www.googletagmanager.com/gtag/js",rn=new m.Yd("@firebase/analytics");function on(e){return Promise.all(e.map(function(e){return e.catch(function(e){return e})}))}function an(e,t){var n=document.createElement("script");n.src="".concat(nn,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function sn(e,t,n,r,i,o){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(regeneratorRuntime.mark(function e(t,n,r,i,o,a){var s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[o],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,on(r);case 9:if(u=e.sent.find(function(e){return e.measurementId===o}),e.t0=u,!e.t0){e.next=14;break}return e.next=14,n[u.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),rn.error(e.t1);case 19:t("config",o,a);case 20:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function cn(e,t,n,r,i){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.Z)(regeneratorRuntime.mark(function e(t,n,r,i,o){var a,s,c,l,h,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=[],!o||!o.send_to){e.next=26;break}return s=o.send_to,Array.isArray(s)||(s=[s]),e.next=7,on(r);case 7:c=e.sent,l=u(s),e.prev=9,f=function(){var e=h.value,t=c.find(function(t){return t.measurementId===e}),r=t&&n[t.appId];if(!r)return a=[],"break";a.push(r)},l.s();case 12:if((h=l.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),l.e(e.t0);case 23:return e.prev=23,l.f(),e.finish(23);case 26:return 0===a.length&&(a=Object.values(n)),e.next=29,Promise.all(a);case 29:t("event",i,o||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),rn.error(e.t1);case 35:case"end":return e.stop()}},e,null,[[0,32],[9,20,23,26]])}))).apply(this,arguments)}function hn(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(nn))return r}return null}var fn=new h.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),dn=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;d(this,e),this.throttleMetadata=t,this.intervalMillis=n}return f(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}());function pn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function vn(e){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,o={method:"GET",headers:pn(i)},a=tn.replace("{app-id}",r),e.next=6,fetch(a,o);case 6:if(200===(s=e.sent).status||304===s.status){e.next=19;break}return u="",e.prev=9,e.next=12,s.json();case 12:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(9);case 18:throw fn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 19:return e.abrupt("return",s.json());case 20:case"end":return e.stop()}},e,null,[[9,16]])}))).apply(this,arguments)}function mn(e){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,s,u,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:dn,r=h.length>2?h[2]:void 0,i=t.options,o=i.appId,a=i.apiKey,s=i.measurementId,o){e.next=5;break}throw fn.create("no-app-id");case 5:if(a){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:o});case 8:throw fn.create("no-api-key");case 9:return u=n.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new xn,e.abrupt("return",(setTimeout((0,c.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.abort();case 1:case"end":return e.stop()}},e)})),void 0!==r?r:6e4),kn({appId:o,apiKey:a,measurementId:s},u,l,n)));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kn(e,t,n){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,u,c,l,f,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,o=n.backoffCount,a=d.length>3&&void 0!==d[3]?d[3]:dn,s=t.appId,u=t.measurementId,e.prev=3,e.next=6,wn(r,i);case 6:e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(3),!u){e.next=12;break}return e.abrupt("return",(rn.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ".concat(u,' provided in the "measurementId" field in the local Firebase config. [').concat(e.t0.message,"]")),{appId:s,measurementId:u}));case 12:throw e.t0;case 13:return e.prev=13,e.next=16,vn(t);case 16:return c=e.sent,e.abrupt("return",(a.deleteThrottleMetadata(s),c));case 20:if(e.prev=20,e.t1=e.catch(13),bn(e.t1)){e.next=26;break}if(a.deleteThrottleMetadata(s),!u){e.next=25;break}return e.abrupt("return",(rn.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ".concat(u,' provided in the "measurementId" field in the local Firebase config. [').concat(e.t1.message,"]")),{appId:s,measurementId:u}));case 25:throw e.t1;case 26:return l=503===Number(e.t1.customData.httpStatus)?(0,h.$s)(o,a.intervalMillis,30):(0,h.$s)(o,a.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},e.abrupt("return",(a.setThrottleMetadata(s,f),rn.debug("Calling attemptFetch again in ".concat(l," millis")),kn(t,f,r,a)));case 28:case"end":return e.stop()}},e,null,[[3,8],[13,20]])}))).apply(this,arguments)}function wn(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(fn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function bn(e){if(!(e instanceof h.ZR&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var xn=function(){function e(){d(this,e),this.listeners=[]}return f(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach(function(e){return e()})}}]),e}();function Sn(){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,h.hl)()){e.next=2;break}return e.abrupt("return",(rn.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1));case 2:return e.prev=2,e.next=5,(0,h.eu)();case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",(rn.warn(fn.create("indexeddb-unavailable",{errorInfo:e.t0}).message),!1));case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}},e,null,[[2,7]])}))).apply(this,arguments)}function En(){return(En=(0,c.Z)(regeneratorRuntime.mark(function e(n,r,i,o,a,s,u){var c,l,h,f,d,p,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(l=mn(n)).then(function(e){i[e.measurementId]=e.appId,n.options.measurementId&&e.measurementId!==n.options.measurementId&&rn.warn("The measurement ID in the local Firebase config (".concat(n.options.measurementId,") does not match the measurement ID fetched from the server (").concat(e.measurementId,"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config."))}).catch(function(e){return rn.error(e)}),r.push(l),h=Sn().then(function(e){if(e)return o.getId()}),e.next=5,Promise.all([l,h]);case 5:return f=e.sent,d=t(f,2),p=d[0],v=d[1],hn()||an(s,p.measurementId),a("js",new Date),g=null!==(c=null==u?void 0:u.config)&&void 0!==c?c:{},e.abrupt("return",(g.origin="firebase",g.update=!0,null!=v&&(g[en]=v),a("config",p.measurementId,g),p.measurementId));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Cn,In,Rn=function(){function e(t){d(this,e),this.app=t}return f(e,[{key:"_delete",value:function(){return delete An[this.app.options.appId],Promise.resolve()}}]),e}(),An={},On=[],Pn={},Nn="dataLayer",Dn=!1;function Ln(){return(Ln=(0,c.Z)(regeneratorRuntime.mark(function e(t,n,r,i,o){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!o.global){e.next=4;break}t("event",r,i),e.next=8;break;case 4:return e.next=6,n;case 6:a=e.sent,t("event",r,Object.assign(Object.assign({},i),{send_to:a}));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,h.ru)()&&(0,h.zI)()&&(0,h.hl)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,h.eu)();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}var Mn="@firebase/analytics";(0,l._registerComponent)(new g.wA($t,function(e,t){var n=t.options;return function(e,t,n){!function(){var e=[];if((0,h.ru)()&&e.push("This is a browser extension environment."),(0,h.zI)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"(".concat(t+1,") ").concat(e)}).join(" "),n=fn.create("invalid-analytics-context",{errorInfo:t});rn.warn(n.message)}}();var r=e.options.appId;if(!r)throw fn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw fn.create("no-api-key");rn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '.concat(e.options.measurementId,' provided in the "measurementId" field in the local Firebase config.'))}if(null!=An[r])throw fn.create("already-exists",{id:r});if(!Dn){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Nn);var i=function(e,t,n,r,i){var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){function i(){return(i=(0,c.Z)(regeneratorRuntime.mark(function i(o,a,s){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==o){i.next=6;break}return i.next=4,cn(e,t,n,a,s);case 4:i.next=12;break;case 6:if("config"!==o){i.next=11;break}return i.next=9,sn(e,t,n,r,a,s);case 9:i.next=12;break;case 11:e("set",a);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),rn.error(i.t0);case 17:case"end":return i.stop()}},i,null,[[0,14]])}))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(An,On,Pn,Nn,"gtag"),o=i.wrappedGtag,a=i.gtagCore;In=o,Cn=a,Dn=!0}return An[r]=function(e,t,n,r,i,o,a){return En.apply(this,arguments)}(e,On,Pn,t,Cn,Nn,n),new Rn(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),(0,l._registerComponent)(new g.wA("analytics-internal",function(e){try{var t=e.getProvider($t).getImmediate();return{logEvent:function(e,n,r){return function(e,t,n,r){e=(0,h.m9)(e),function(e,t,n,r,i){return Ln.apply(this,arguments)}(In,An[e.app.options.appId],t,n,r).catch(function(e){return rn.error(e)})}(t,e,n,r)}}}catch(t){throw fn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,l.registerVersion)(Mn,"0.7.5"),(0,l.registerVersion)(Mn,"0.7.5","esm2017");var Un=r(4415),jn=new(function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n)}(r(2994).v))(function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return f(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?i(b(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?i(b(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=r&&r>0||null==r&&this.delay>0?i(b(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(Un.o)),Vn=r(6523),qn=r(8168),Bn=r(4119),zn=r(7513),Zn=new o.GfV("7.2.0"),Hn="__angularfire_symbol__analyticsIsSupported",Gn="__angularfire_symbol__remoteConfigIsSupported",Kn="__angularfire_symbol__messagingIsSupported";function Wn(e,t,n){if(t){if(1===t.length)return t[0];var r=t.filter(function(e){return e.app===n});if(1===r.length)return r[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Hn]||(globalThis[Hn]=function(){return Fn.apply(this,arguments)}().then(function(e){return globalThis.__angularfire_symbol__analyticsIsSupportedValue=e})),globalThis[Kn]||(globalThis[Kn]=function(){return Xt.apply(this,arguments)}().then(function(e){return globalThis.__angularfire_symbol__messagingIsSupportedValue=e})),globalThis[Gn]||(globalThis[Gn]=function(){return je.apply(this,arguments)}().then(function(e){return globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=e}));var Qn=function(e,t){var n=t?[t]:(0,s.C6)(),r=[];return n.forEach(function(t){t.container.getProvider(e).instances.forEach(function(e){r.includes(e)||r.push(e)})}),r};function Yn(){}var Jn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn;d(this,e),this.zone=t,this.delegate=n}return f(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule(function(t){var n=this;r.runGuarded(function(){e.apply(n,[t])})},t,n)}}]),e}(),Xn=function(){function e(t){d(this,e),this.zone=t,this.task=null}return f(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Yn,{},Yn,Yn)}),t.pipe((0,qn.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout(function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)},10)}}]),e}(),$n=function(){var e=f(function e(t){d(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular(function(){return new Jn(Zone.current)}),this.insideAngular=t.run(function(){return new Jn(Zone.current,Vn.z)}),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)});return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.R0b))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function er(){var e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function tr(e){return er(),function(e){return function(t){return(t=t.lift(new Xn(e.ngZone))).pipe((0,Bn.R)(e.outsideAngular),(0,zn.Q)(e.insideAngular))}}(er())(e)}},3854:function(e,n,r){"use strict";r.d(n,{BH:function(){return l},LL:function(){return P},ZR:function(){return O},zI:function(){return A},US:function(){return o},tV:function(){return s},$s:function(){return Z},r3:function(){return D},Sg:function(){return h},ne:function(){return q},vZ:function(){return F},ZB:function(){return u},pd:function(){return V},m9:function(){return H},z$:function(){return g},jU:function(){return w},ru:function(){return b},d:function(){return S},xb:function(){return L},w1:function(){return T},hl:function(){return I},uI:function(){return k},UG:function(){return _},b$:function(){return x},G6:function(){return C},Mn:function(){return E},xO:function(){return U},zd:function(){return j},eu:function(){return R}});var i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){return function(e){var t=i(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)!t.hasOwnProperty(n)||!c(n)||(e[n]=u(e[n],t[n]));return e}function c(e){return"__proto__"!==e}var l=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return f(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function h(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function _(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function w(){return"object"==typeof self&&self.self===self}function b(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function x(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function S(){return g().indexOf("Electron/")>=0}function T(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return g().indexOf("MSAppHost/")>=0}function C(){return!_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return"object"==typeof indexedDB}function R(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function A(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}var O=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(m(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(m(o),P.prototype.create),o}return f(n)}(y(Error)),P=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return f(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(N,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error";return new O(n,"".concat(this.serviceName,": ").concat(i," (").concat(n,")."),t)}}]),e}(),N=/\{\$([^}]+)}/g;function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(M(s)&&M(u)){if(!F(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function M(e){return null!==e&&"object"==typeof e}function U(e){for(var n=[],r=function(){var e=t(o[i],2),r=e[0],a=e[1];Array.isArray(a)?a.forEach(function(e){n.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):n.push(encodeURIComponent(r)+"="+encodeURIComponent(a))},i=0,o=Object.entries(e);i<o.length;i++)r();return n.length?"&"+n.join("&"):""}function j(e){var n={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var r=t(e.split("="),2),i=r[0],o=r[1];n[decodeURIComponent(i)]=decodeURIComponent(o)}}),n}function V(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function q(e,t){var n=new B(e,t);return n.subscribe.bind(n)}var B=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})}return f(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}();function z(){}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function H(e){return e&&e._delegate?e._delegate:e}},2329:function(e,t,n){"use strict";n.d(t,{Mq:function(){return r.getApp},C6:function(){return r.getApps}});var r=n(8026);(0,r.registerVersion)("firebase","9.6.4","app")},7841:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(3394);r.Z.registerVersion("firebase","9.6.4","app-compat")},7696:function(o,l,h){"use strict";h.r(l);var g=h(8239),y=h(3394),k=h(3854),_=h(8026),w=h(4762),x=h(5422),S=h(3910),T=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},E=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),C=new x.Yd("@firebase/auth");function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];C.logLevel<=x.in.ERROR&&C.error.apply(C,["Auth (".concat(_.SDK_VERSION,"): ").concat(e)].concat(n))}function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw N.apply(void 0,[e].concat(n))}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N.apply(void 0,[e].concat(n))}function O(t,n,r){var i=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),e({},n,r));return new k.LL("auth","Firebase",i).create(n,{appName:t.name})}function P(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&R(e,"argument-error"),O(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.Did you pass a reference from a different Auth SDK?"))}function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!=typeof e){var i,o=n[0],s=a(n.slice(1));return s[0]&&(s[0].appName=e.name),(i=e._errorFactory).create.apply(i,[o].concat(a(s)))}return E.create.apply(E,[e].concat(n))}function D(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e)throw N.apply(void 0,[t].concat(r))}function L(e){var t="INTERNAL ASSERTION FAILED: "+e;throw I(t),new Error(t)}function F(e,t){e||L(t)}var M=new Map;function U(e){F(e instanceof Function,"Expected a class definition");var t=M.get(e);return t?(F(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,M.set(e,t),t)}function j(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function V(){return"http:"===q()||"https:"===q()}function q(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var B=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,F(n>t,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}return f(e,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(V()||(0,k.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function z(e,t){F(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Z=function(){function e(){d(this,e)}return f(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void L("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void L("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void L("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),H={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},G=new B(3e4,6e4);function K(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function W(e,t,n,r){return Q.apply(this,arguments)}function Q(){return(Q=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",Y(t,o,(0,g.Z)(regeneratorRuntime.mark(function e(){var o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={},a={},i&&("GET"===n?a=i:o={body:JSON.stringify(i)}),s=(0,k.xO)(Object.assign({key:t.config.apiKey},a)).slice(1),e.next=5,t._getAdditionalHeaders();case 5:return u=e.sent,e.abrupt("return",(u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Z.fetch()(ee(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},o))));case 7:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e,t,n){return J.apply(this,arguments)}function J(){return(J=(0,g.Z)(regeneratorRuntime.mark(function e(n,r,i){var o,a,s,u,c,l,h,f,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n._canInitEmulator=!1,o=Object.assign(Object.assign({},H),r),e.prev=2,a=new te(n),e.next=6,Promise.race([i(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ne(n,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=15;break}return e.abrupt("return",u);case 15:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),h=t(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=18;break}throw ne(n,"credential-already-in-use",u);case 18:if("EMAIL_EXISTS"!==f){e.next=20;break}throw ne(n,"email-already-in-use",u);case 20:if(p=o[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=23;break}throw O(n,p,d);case 23:R(n,p),e.next=31;break;case 26:if(e.prev=26,e.t0=e.catch(2),!(e.t0 instanceof k.ZR)){e.next=30;break}throw e.t0;case 30:R(n,"network-request-failed");case 31:case"end":return e.stop()}},e,null,[[2,26]])}))).apply(this,arguments)}function X(e,t,n,r){return $.apply(this,arguments)}function $(){return($=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,W(t,n,r,i,o);case 3:return a=e.sent,e.abrupt("return",("mfaPendingCredential"in a&&R(t,"multi-factor-auth-required",{_serverResponse:a}),a));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?z(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var te=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(A(n.auth,"network-request-failed"))},G.get())})}return f(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ne(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=A(e,t,r);return i.customData._tokenResponse=n,i}function re(){return(re=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ie(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e,t){return se.apply(this,arguments)}function se(){return(se=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ce(){return(ce=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=(0,k.m9)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,D((o=he(i))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),a="object"==typeof o.firebase?o.firebase:void 0,s=null==a?void 0:a.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:ue(le(o.auth_time)),issuedAtTime:ue(le(o.iat)),expirationTime:ue(le(o.exp)),signInProvider:s||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(e){return 1e3*Number(e)}function he(e){var n=t(e.split("."),3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return I("JWT malformed, contained fewer than 3 sections"),null;try{var a=(0,k.tV)(i);return a?JSON.parse(a):(I("Failed to decode base64 JWT payload"),null)}catch(a){return I("Caught error parsing JWT payload as JSON",a),null}}function fe(e,t){return de.apply(this,arguments)}function de(){return(de=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),e.t1=e.t0 instanceof k.ZR&&pe(e.t0)&&t.auth.currentUser===t,!e.t1){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function pe(e){var t=e.code;return"auth/user-disabled"===t||"auth/user-token-expired"===t}var ve=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return f(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;if(this.isRunning){var n=this.getInterval(e);this.timerId=setTimeout((0,g.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.iteration();case 2:case"end":return e.stop()}},e)})),n)}}},{key:"iteration",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.user.getIdToken(!0);case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",void("auth/network-request-failed"===t.t0.code&&e.schedule(!0)));case 8:e.schedule();case 9:case"end":return t.stop()}},t,null,[[0,5]])}))()}}]),e}(),ge=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return f(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ue(this.lastLoginAt),this.creationTime=ue(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function me(e){return ye.apply(this,arguments)}function ye(){return(ye=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,fe(t,ae(r,{idToken:i}));case 6:D(null==(o=e.sent)?void 0:o.users.length,r,"internal-error"),a=o.users[0],t._notifyReloadListener(a),s=(null===(n=a.providerUserInfo)||void 0===n?void 0:n.length)?we(a.providerUserInfo):[],u=_e(t.providerData,s),c=!!t.isAnonymous&&!(t.email&&a.passwordHash||(null==u?void 0:u.length)),l={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ge(a.createdAt,a.lastLoginAt),isAnonymous:c},Object.assign(t,l);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ke(){return(ke=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,k.m9)(t),e.next=3,me(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _e(e,t){return[].concat(a(e.filter(function(e){return!t.some(function(t){return t.providerId===e.providerId})})),a(t))}function we(e){return e.map(function(e){var t=e.providerId,n=(0,w._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function be(){return(be=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,{},(0,g.Z)(regeneratorRuntime.mark(function e(){var r,i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.xO)({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,o=i.tokenApiHost,a=i.apiKey,s=ee(t,o,"/v1/token","key=".concat(a)),e.next=7,t._getAdditionalHeaders();case 7:return u=e.sent,e.abrupt("return",(u["Content-Type"]="application/x-www-form-urlencoded",Z.fetch()(s,{method:"POST",headers:u,body:r})));case 9:case"end":return e.stop()}},e)})));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var xe=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return f(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){D(e.idToken,"internal-error"),D(void 0!==e.idToken,"internal-error"),D(void 0!==e.refreshToken,"internal-error");var t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){var t=he(e);return D(t,"internal-error"),D(void 0!==t.exp,"internal-error"),D(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(D(!n.accessToken||n.refreshToken,e,"user-token-expired"),!t&&n.accessToken&&!n.isExpired){r.next=12;break}if(!n.refreshToken){r.next=8;break}return r.next=5,n.refresh(e,n.refreshToken);case 5:r.t1=n.accessToken,r.next=9;break;case 8:r.t1=null;case 9:r.t0=r.t1,r.next=13;break;case 12:r.t0=n.accessToken;case 13:return r.abrupt("return",r.t0);case 14:case"end":return r.stop()}},r)}))()}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(e,t){var n=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){var i,o,a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e,t){return be.apply(this,arguments)}(e,t);case 2:i=r.sent,o=i.accessToken,a=i.refreshToken,s=i.expiresIn,n.updateTokensAndExpiration(o,a,Number(s));case 7:case"end":return r.stop()}},r)}))()}},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return L("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new e;return r&&(D("string"==typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(D("string"==typeof i,"internal-error",{appName:t}),a.accessToken=i),o&&(D("number"==typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}}]),e}();function Se(e,t){D("string"==typeof e||void 0===e,"internal-error",{appName:t})}var Te=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=(0,w._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.metadata=new ge(o.createdAt||void 0,o.lastLoginAt||void 0)}return f(e,[{key:"getIdToken",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe(t,t.stsTokenManager.getToken(t.auth,e));case 2:if(D(r=n.sent,t.auth,"internal-error"),n.t0=t.accessToken!==r,!n.t0){n.next=10;break}return t.accessToken=r,n.next=9,t.auth._persistUserIfCurrent(t);case 9:t.auth._notifyListenersIfCurrent(t);case 10:return n.abrupt("return",r);case 11:case"end":return n.stop()}},n)}))()}},{key:"getIdTokenResult",value:function(e){return function(e){return ce.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ke.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return Object.assign({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=!1,e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),i=!0),r.t0=t,!r.t0){r.next=6;break}return r.next=6,me(n);case 6:return r.next=8,n.auth._persistUserIfCurrent(n);case 8:i&&n.auth._notifyListenersIfCurrent(n);case 9:case"end":return r.stop()}},r)}))()}},{key:"delete",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getIdToken();case 2:return n=t.sent,t.next=5,fe(e,function(e,t){return re.apply(this,arguments)}(e.auth,{idToken:n}));case 5:return e.stsTokenManager.clearRefreshToken(),t.abrupt("return",e.auth.signOut());case 7:case"end":return t.stop()}},t)}))()}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Object.assign({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,o,a,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,_=n.emailVerified,w=n.isAnonymous,b=n.providerData,x=n.stsTokenManager;D(k&&x,t,"internal-error");var S=xe.fromJSON(this.name,x);D("string"==typeof k,t,"internal-error"),Se(h,t.name),Se(f,t.name),D("boolean"==typeof _,t,"internal-error"),D("boolean"==typeof w,t,"internal-error"),Se(d,t.name),Se(p,t.name),Se(v,t.name),Se(g,t.name),Se(m,t.name),Se(y,t.name);var T=new e({uid:k,auth:t,email:f,emailVerified:_,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:y});return b&&Array.isArray(b)&&(T.providerData=b.map(function(e){return Object.assign({},e)})),g&&(T._redirectEventId=g),T}},{key:"_fromIdTokenResponse",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,g.Z)(regeneratorRuntime.mark(function i(){var o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return(o=new xe).updateFromServerResponse(n),a=new e({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r}),i.next=5,me(a);case 5:return i.abrupt("return",a);case 6:case"end":return i.stop()}},i)}))()}}]),e}(),Ee=function(){var e=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return f(e,[{key:"_isAvailable",value:function(){return(0,g.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}))()}},{key:"_set",value:function(e,t){var n=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n.storage[e]=t;case 1:case"end":return r.stop()}},r)}))()}},{key:"_get",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.storage[e],n.abrupt("return",void 0===r?null:r);case 2:case"end":return n.stop()}},n)}))()}},{key:"_remove",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:delete t.storage[e];case 1:case"end":return n.stop()}},n)}))()}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();return e.type="NONE",e}();function Ce(e,t,n){return"firebase:".concat(e,":").concat(t,":").concat(n)}var Ie=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,a=i.name;this.fullUserKey=Ce(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ce("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return f(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.persistence._get(e.fullUserKey);case 2:return n=t.sent,t.abrupt("return",n?Te._fromJSON(e.auth,n):null);case 4:case"end":return t.stop()}},t)}))()}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.persistence!==e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.getCurrentUser();case 4:return r=n.sent,n.next=7,t.removeCurrentUser();case 7:return t.persistence=e,n.abrupt("return",r?t.setCurrentUser(r):void 0);case 9:case"end":return n.stop()}},n)}))()}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";return(0,g.Z)(regeneratorRuntime.mark(function i(){var o,a,s,c,l,h,f,d,p,v;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n.length){i.next=2;break}return i.abrupt("return",new e(U(Ee),t,r));case 2:return i.next=4,Promise.all(n.map(function(){var e=(0,g.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:o=i.sent.filter(function(e){return e}),a=o[0]||U(Ee),s=Ce(r,t.config.apiKey,t.name),c=null,l=u(n),i.prev=9,l.s();case 11:if((h=l.n()).done){i.next=27;break}return f=h.value,i.prev=13,i.next=16,f._get(s);case 16:if(!(d=i.sent)){i.next=21;break}return p=Te._fromJSON(t,d),f!==a&&(c=p),a=f,i.abrupt("break",27);case 21:i.next=25;break;case 23:i.prev=23,i.t0=i.catch(13);case 25:i.next=11;break;case 27:i.next=32;break;case 29:i.prev=29,i.t1=i.catch(9),l.e(i.t1);case 32:return i.prev=32,l.f(),i.finish(32);case 35:if(v=o.filter(function(e){return e._shouldAllowMigration}),!a._shouldAllowMigration||!v.length){i.next=47;break}if(a=v[0],i.t3=c,!i.t3){i.next=42;break}return i.next=42,a._set(s,c.toJSON());case 42:return i.next=44,Promise.all(n.map(function(){var e=(0,g.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()));case 44:i.t2=new e(a,t,r),i.next=48;break;case 47:i.t2=new e(a,t,r);case 48:return i.abrupt("return",i.t2);case 49:case"end":return i.stop()}},i,null,[[9,29,32,35],[13,23]])}))()}}]),e}();function Re(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ne(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Le(t))return"Blackberry";if(Fe(t))return"Webos";if(Oe(t))return"Safari";if((t.includes("chrome/")||Pe(t))&&!t.includes("edge/"))return"Chrome";if(De(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==n?void 0:n.length)?n[1]:"Other"}function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/firefox\//i.test(e)}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/crios\//i.test(e)}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/iemobile/i.test(e)}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/android/i.test(e)}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/blackberry/i.test(e)}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/webos/i.test(e)}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/iphone|ipad|ipod/i.test(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return Me(e)||De(e)||Fe(e)||Le(e)||/windows phone/i.test(e)||Ne(e)}function je(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Re((0,k.z$)());break;case"Worker":t="".concat(Re((0,k.z$)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/JsCore/").concat(_.SDK_VERSION,"/").concat(r)}var Ve=function(){function e(t,n){d(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Be(this),this.idTokenSubscription=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return f(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=U(t)),this._initializationPromise=this.queue((0,g.Z)(regeneratorRuntime.mark(function r(){var i,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=!n._deleted,!r.t0){r.next=6;break}return r.next=4,Ie.create(n,e);case 4:n.persistenceManager=r.sent,r.t0=!n._deleted;case 6:if(!r.t0){r.next=19;break}if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t1=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted&&(n._isInitialized=!0);case 19:case"end":return r.stop()}},r,null,[[8,13]])}))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._deleted){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.assertedPersistence.getCurrentUser();case 4:if(n=t.sent,!e.currentUser&&!n){t.next=13;break}if(!e.currentUser||!n||e.currentUser.uid!==n.uid){t.next=11;break}return e._currentUser._assign(n),t.next=10,e.currentUser.getIdToken();case 10:return t.abrupt("return",void t.sent);case 11:return t.next=13,e._updateCurrentUser(n);case 13:case"end":return t.stop()}},t)}))()}},{key:"initializeCurrentUser",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r,i,o,a,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.getCurrentUser();case 2:if(i=n.sent,!e||!t.config.authDomain){n.next=12;break}return n.next=6,t.getOrInitRedirectPersistenceManager();case 6:return o=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,a=null==i?void 0:i._redirectEventId,n.next=10,t.tryRedirectSignIn(e);case 10:s=n.sent,(!o||o===a)&&(null==s?void 0:s.user)&&(i=s.user);case 12:if(!i){n.next=24;break}if(!i._redirectEventId){n.next=20;break}return D(t._popupRedirectResolver,t,"argument-error"),n.next=17,t.getOrInitRedirectPersistenceManager();case 17:n.t1=t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i),n.next=21;break;case 20:n.t1=t.reloadAndSetCurrentUserOrClear(i);case 21:n.t0=n.t1,n.next=25;break;case 24:n.t0=t.directlySetCurrentUser(null);case 25:return n.abrupt("return",n.t0);case 26:case"end":return n.stop()}},n)}))()}},{key:"tryRedirectSignIn",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,n.prev=1,n.next=4,t._popupRedirectResolver._completeRedirectFn(t,e,!0);case 4:r=n.sent,n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(1),n.next=11,t._setRedirectUser(null);case 11:return n.abrupt("return",r);case 12:case"end":return n.stop()}},n,null,[[1,7]])}))()}},{key:"reloadAndSetCurrentUserOrClear",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,me(e);case 3:n.next=9;break;case 5:if(n.prev=5,n.t0=n.catch(0),"auth/network-request-failed"===n.t0.code){n.next=9;break}return n.abrupt("return",t.directlySetCurrentUser(null));case 9:return n.abrupt("return",t.directlySetCurrentUser(e));case 10:case"end":return n.stop()}},n,null,[[0,5]])}))()}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e._deleted=!0;case 1:case"end":return t.stop()}},t)}))()}},{key:"updateCurrentUser",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e?(0,k.m9)(e):null,n.abrupt("return",(r&&D(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))));case 2:case"end":return n.stop()}},n)}))()}},{key:"_updateCurrentUser",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._deleted){n.next=2;break}return n.abrupt("return",(e&&D(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.directlySetCurrentUser(e);case 2:t.notifyAuthListeners();case 3:case"end":return n.stop()}},n)})))));case 2:case"end":return n.stop()}},n)}))()}},{key:"signOut",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.redirectPersistenceManager||e._popupRedirectResolver,!t.t0){t.next=4;break}return t.next=4,e._setRedirectUser(null);case 4:return t.abrupt("return",e._updateCurrentUser(null));case 5:case"end":return t.stop()}},t)}))()}},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(U(e));case 2:case"end":return n.stop()}},n)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new k.LL("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(e,t){var n=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getOrInitRedirectPersistenceManager(t);case 2:return i=r.sent,r.abrupt("return",null===e?i.removeCurrentUser():i.setCurrentUser(e));case 4:case"end":return r.stop()}},r)}))()}},{key:"getOrInitRedirectPersistenceManager",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.redirectPersistenceManager){n.next=9;break}return D(r=e&&U(e)||t._popupRedirectResolver,t,"argument-error"),n.next=5,Ie.create(t,[U(r._redirectPersistence)],"redirectUser");case 5:return t.redirectPersistenceManager=n.sent,n.next=8,t.redirectPersistenceManager.getCurrentUser();case 8:t.redirectUser=n.sent;case 9:return n.abrupt("return",t.redirectPersistenceManager);case 10:case"end":return n.stop()}},n)}))()}},{key:"_redirectUserForId",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t._isInitialized,!n.t0){n.next=4;break}return n.next=4,t.queue((0,g.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})));case 4:return n.abrupt("return",(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null);case 5:case"end":return n.stop()}},n)}))()}},{key:"_persistUserIfCurrent",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e!==t.currentUser){n.next=2;break}return n.abrupt("return",t.queue((0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.directlySetCurrentUser(e));case 1:case"end":return n.stop()}},n)}))));case 2:case"end":return n.stop()}},n)}))()}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"==typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return D(a,this,"internal-error"),a.then(function(){return o(i.currentUser)}),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,!e){n.next=7;break}return n.next=5,t.assertedPersistence.setCurrentUser(e);case 5:n.next=9;break;case 7:return n.next=9,t.assertedPersistence.removeCurrentUser();case 9:case"end":return n.stop()}},n)}))()}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=je(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={"X-Client-Version":e.clientVersion},t.abrupt("return",(e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId),n));case 2:case"end":return t.stop()}},t)}))()}}]),e}();function qe(e){return(0,k.m9)(e)}var Be=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=(0,k.ne)(function(e){return n.observer=e})}return f(e,[{key:"next",get:function(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ze(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ze(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var He=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return f(e,[{key:"toJSON",value:function(){return L("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return L("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return L("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return L("not implemented")}}]),e}();function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:resetPassword",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function We(e,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ye(e,t){return Je.apply(this,arguments)}function Je(){return(Je=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xe(){return(Xe=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:signInWithPassword",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $e(e,t){return et.apply(this,arguments)}function et(){return(et=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:sendOobCode",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$e(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$e(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ot(e,t){return at.apply(this,arguments)}function at(){return(at=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$e(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function st(e,t){return ut.apply(this,arguments)}function ut(){return(ut=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$e(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(){return(ct=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:signInWithEmailLink",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lt(){return(lt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:signInWithEmailLink",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ht=function(e){p(n,e);var t=v(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(o=t.call(this,"password",i))._email=e,o._password=r,o._tenantId=a,o}return f(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t.signInMethod,n.next="password"===n.t0?3:"emailLink"===n.t0?4:5;break;case 3:return n.abrupt("return",function(e,t){return Xe.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password}));case 4:return n.abrupt("return",function(e,t){return ct.apply(this,arguments)}(e,{email:t._email,oobCode:t._password}));case 5:R(e,"internal-error");case 6:case"end":return n.stop()}},n)}))()}},{key:"_linkToIdToken",value:function(e,t){var n=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=n.signInMethod,r.next="password"===r.t0?3:"emailLink"===r.t0?4:5;break;case 3:return r.abrupt("return",We(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password}));case 4:return r.abrupt("return",function(e,t){return lt.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password}));case 5:R(e,"internal-error");case 6:case"end":return r.stop()}},r)}))()}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(He);function ft(e,t){return dt.apply(this,arguments)}function dt(){return(dt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:signInWithIdp",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var pt=function(e){p(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return f(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ft(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ft(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ft(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,k.xO)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):R("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=(0,w._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}}]),n}(He);function vt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:sendVerificationCode",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mt(){return(mt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:signInWithPhoneNumber",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yt(){return(yt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t,"POST","/v1/accounts:signInWithPhoneNumber",K(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ne(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var kt={USER_NOT_FOUND:"user-not-found"};function _t(){return(_t=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:signInWithPhoneNumber",K(t,Object.assign(Object.assign({},n),{operation:"REAUTH"})),kt));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var wt=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return yt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return _t.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,o=t.phoneNumber,a=t.temporaryProof;return i||r||o||a?new n({verificationId:r,verificationCode:i,phoneNumber:o,temporaryProof:a}):null}}]),n}(He),bt=function(){function e(t){var n,r,i,o,a,s;d(this,e);var u=(0,k.zd)((0,k.pd)(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);D(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=u.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return f(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=(0,k.zd)((0,k.pd)(e)).link,n=t?(0,k.zd)((0,k.pd)(t)).deep_link_id:null,r=(0,k.zd)((0,k.pd)(e)).deep_link_id;return(r?(0,k.zd)((0,k.pd)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}(),xt=function(){var e=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return f(e,null,[{key:"credential",value:function(e,t){return ht._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=bt.parseLink(t);return D(n,"argument-error"),ht._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e}(),St=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return f(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Tt=function(e){p(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return f(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return a(this.scopes)}}]),n}(St),Et=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return D(e.idToken||e.accessToken,"argument-error"),pt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return D("providerId"in t&&"signInMethod"in t,"argument-error"),pt._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,o=t.oauthTokenSecret,a=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!o&&!r&&!a||!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:a})}catch(c){return null}}}]),n}(Tt),Ct=function(){var e=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.call(this,"facebook.com")}return f(n,null,[{key:"credential",value:function(e){return pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Tt);return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e}(),It=function(){var e=function(e){p(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return f(n,null,[{key:"credential",value:function(e,t){return pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(Tt);return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e}(),Rt=function(){var e=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.call(this,"github.com")}return f(n,null,[{key:"credential",value:function(e){return pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Tt);return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e}(),At=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return f(n,[{key:"_getIdTokenResponse",value:function(e){return ft(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ft(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ft(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=t.pendingToken;return r&&i&&o&&r===i?new n(r,o):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(He),Ot=function(e){p(n,e);var t=v(n);function n(e){return d(this,n),D(e.startsWith("saml."),"argument-error"),t.call(this,e)}return f(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=At.fromJSON(e);return D(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return At._create(r,n)}catch(i){return null}}}]),n}(St),Pt=function(){var e=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.call(this,"twitter.com")}return f(n,null,[{key:"credential",value:function(e,t){return pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(Tt);return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e}();function Nt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:signUp",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Lt=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return f(e,null,[{key:"_fromIdTokenResponse",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,g.Z)(regeneratorRuntime.mark(function o(){var a,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Te._fromIdTokenResponse(t,r,i);case 2:return a=o.sent,s=Ft(r),o.abrupt("return",new e({user:a,providerId:s,_tokenResponse:r,operationType:n}));case 5:case"end":return o.stop()}},o)}))()}},{key:"_forOperation",value:function(t,n,r){return(0,g.Z)(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t._updateTokensIfNecessary(r,!0);case 2:return o=Ft(r),i.abrupt("return",new e({user:t,providerId:o,_tokenResponse:r,operationType:n}));case 4:case"end":return i.stop()}},i)}))()}}]),e}();function Ft(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Mt(){return(Mt=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=qe(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Lt({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Nt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Lt._fromIdTokenResponse(r,"signIn",i,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ut=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a,s;return d(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=o,Object.setPrototypeOf(m(a),n.prototype),a.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},a}return f(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(k.ZR);function jt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){throw"auth/multi-factor-auth-required"===n.code?Ut._fromErrorAndOperation(e,n,t,r):n})}function Vt(e){return new Set(e.map(function(e){return e.providerId}).filter(function(e){return!!e}))}function qt(){return(qt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.m9)(t),e.next=3,Zt(!0,r,n);case 3:return e.t0=ie,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,o=i.providerUserInfo,a=Vt(o||[]),r.providerData=r.providerData.filter(function(e){return a.has(e.providerId)}),a.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bt(e,t){return zt.apply(this,arguments)}function zt(){return(zt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=fe,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Lt._forOperation(t,"link",i));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zt(e,t,n){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(n);case 2:i=!1===t?"provider-already-linked":"no-such-provider",D(Vt(n.providerData).has(r)===t,n.auth,i);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,o="reauthenticate",e.prev=2,e.next=5,fe(t,jt(i,o,n,t),r);case 5:return D((a=e.sent).idToken,i,"internal-error"),D(s=he(a.idToken),i,"internal-error"),u=s.sub,e.abrupt("return",(D(t.uid===u,i,"user-mismatch"),Lt._forOperation(t,o,a)));case 13:throw e.prev=13,e.t0=e.catch(2),"auth/user-not-found"===(null==e.t0?void 0:e.t0.code)&&R(i,"user-mismatch"),e.t0;case 16:case"end":return e.stop()}},e,null,[[2,13]])}))).apply(this,arguments)}function Wt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,jt(t,i,n);case 4:return o=e.sent,e.next=7,Lt._fromIdTokenResponse(t,i,o);case 7:if(a=e.sent,e.t0=r,e.t0){e.next=12;break}return e.next=12,t._updateCurrentUser(a.user);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wt(qe(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xt(e,t){return $t.apply(this,arguments)}function $t(){return($t=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.m9)(t),e.next=3,Zt(!1,r,n.providerId);case 3:return e.abrupt("return",Bt(r,n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function en(e,t){return tn.apply(this,arguments)}function tn(){return(tn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gt((0,k.m9)(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:signInWithCustomToken",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function on(){return(on=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=qe(t),e.next=3,nn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Lt._fromIdTokenResponse(r,"signIn",i);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var an=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return f(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?sn._fromServerResponse(e,t):R(e,"internal-error")}}]),e}(),sn=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return f(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(an);function un(e,t,n){var r;D((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),D(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(D(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(D(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function cn(){return(cn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),o={requestType:"PASSWORD_RESET",email:n},r&&un(i,o,r),e.next=4,rt(i,o);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ln(){return(ln=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge((0,k.m9)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hn(){return(hn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye((0,k.m9)(t),{oobCode:n});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fn(e,t){return dn.apply(this,arguments)}function dn(){return(dn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.m9)(t),e.next=3,Ge(r,{oobCode:n});case 3:i=e.sent,o=i.requestType,e.t0=(D(o,r,"internal-error"),o),e.next="EMAIL_SIGNIN"===e.t0?8:"VERIFY_AND_CHANGE_EMAIL"===e.t0?9:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?11:12;break;case 8:return e.abrupt("break",13);case 9:return D(i.newEmail,r,"internal-error"),e.abrupt("break",13);case 11:D(i.mfaInfo,r,"internal-error");case 12:D(i.email,r,"internal-error");case 13:return a=null,e.abrupt("return",(i.mfaInfo&&(a=an._fromServerResponse(qe(r),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:a},operation:o}));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pn(){return(pn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn((0,k.m9)(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vn(){return(vn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),e.next=3,Nt(i,{returnSecureToken:!0,email:n,password:r});case 3:return o=e.sent,e.next=6,Lt._fromIdTokenResponse(i,"signIn",o);case 6:return a=e.sent,e.next=9,i._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gn(){return(gn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),o={requestType:"EMAIL_SIGNIN",email:n},D(r.handleCodeInApp,i,"argument-error"),r&&un(i,o,r),e.next=5,ot(i,o);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mn(){return(mn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),o=xt.credentialWithLink(n,r||j()),e.abrupt("return",(D(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Yt(i,o)));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:createAuthUri",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _n(){return(_n=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={identifier:n,continueUri:V()?j():"http://localhost"},e.next=3,yn((0,k.m9)(t),r);case 3:return i=e.sent,o=i.signinMethods,e.abrupt("return",o||[]);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wn(){return(wn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.m9)(t),e.next=3,t.getIdToken();case 3:return e.t0=e.sent,i={requestType:"VERIFY_EMAIL",idToken:e.t0},n&&un(r.auth,i,n),e.next=8,tt(r.auth,i);case 8:if(o=e.sent,a=o.email,e.t1=a!==t.email,!e.t1){e.next=14;break}return e.next=14,t.reload();case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bn(){return(bn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),e.next=3,t.getIdToken();case 3:return e.t0=e.sent,e.t1=n,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e.t0,newEmail:e.t1},r&&un(i.auth,o,r),e.next=9,st(i.auth,o);case 9:if(a=e.sent,s=a.email,e.t2=s!==t.email,!e.t2){e.next=15;break}return e.next=15,t.reload();case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xn(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tn(){return(Tn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return o=(0,k.m9)(t),e.next=6,o.getIdToken();case 6:return e.t0=e.sent,e.t1=r,e.t2=i,e.t3=!0,a={idToken:e.t0,displayName:e.t1,photoUrl:e.t2,returnSecureToken:e.t3},e.next=13,fe(o,xn(o.auth,a));case 13:return s=e.sent,o.displayName=s.displayName||null,o.photoURL=s.photoUrl||null,(u=o.providerData.find(function(e){return"password"===e.providerId}))&&(u.displayName=o.displayName,u.photoURL=o.photoURL),e.next=19,o._updateTokensIfNecessary(s);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function En(e,t,n){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return e.t0=e.sent,e.t1=!0,o={idToken:e.t0,returnSecureToken:e.t1},n&&(o.email=n),r&&(o.password=r),e.next=9,fe(t,We(i,o));case 9:return a=e.sent,e.next=12,t._updateTokensIfNecessary(a,!0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var In=f(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r}),Rn=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,r,i)).username=o,a}return f(n)}(In),An=function(e){p(n,e);var t=v(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return f(n)}(In),On=function(e){p(n,e);var t=v(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"==typeof(null==r?void 0:r.login)?null==r?void 0:r.login:null)}return f(n)}(Rn),Pn=function(e){p(n,e);var t=v(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return f(n)}(In),Nn=function(e){p(n,e);var t=v(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return f(n)}(Rn);function Dn(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){var a=null===(n=null===(t=he(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(a)return new In(o,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new An(o,i);case"github.com":return new On(o,i);case"google.com":return new Pn(o,i);case"twitter.com":return new Nn(o,i,e.screenName||null);case"custom":case"anonymous":return new In(o,null);default:return new In(o,r,i)}}(n)}var Ln=function(){function t(e,n){d(this,t),this.type=e,this.credential=n}return f(t,[{key:"toJSON",value:function(){return{multiFactorSession:e({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(e){return new t("enroll",e)}},{key:"_fromMfaPendingCredential",value:function(e){return new t("signin",e)}},{key:"fromJSON",value:function(e){var n,r;if(null==e?void 0:e.multiFactorSession){if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(r=e.multiFactorSession)||void 0===r?void 0:r.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}}]),t}(),Fn=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return f(e,[{key:"resolveSignIn",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.signInResolver(e));case 1:case"end":return n.stop()}},n)}))()}}],[{key:"_fromError",value:function(t,n){var r=qe(t),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(function(e){return an._fromServerResponse(r,e)});D(i.mfaPendingCredential,r,"internal-error");var a,s=Ln._fromMfaPendingCredential(i.mfaPendingCredential);return new e(s,o,(a=(0,g.Z)(regeneratorRuntime.mark(function e(t){var o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,s);case 2:o=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,a=Object.assign(Object.assign({},i),{idToken:o.idToken,refreshToken:o.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?8:"reauthenticate"===e.t0?14:15;break;case 8:return e.next=10,Lt._fromIdTokenResponse(r,n.operationType,a);case 10:return u=e.sent,e.next=13,r._updateCurrentUser(u.user);case 13:return e.abrupt("return",u);case 14:return e.abrupt("return",(D(n.user,r,"internal-error"),Lt._forOperation(n.user,n.operationType,a)));case 15:R(r,"internal-error");case 16:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}))}}]),e}();function Mn(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:start",K(e,t))}var Un=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload(function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map(function(e){return an._fromServerResponse(t.auth,e)}))})}return f(e,[{key:"getSession",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ln,t.next=3,e.user.getIdToken();case 3:return t.t1=t.sent,t.abrupt("return",t.t0._fromIdtoken.call(t.t0,t.t1));case 5:case"end":return t.stop()}},t)}))()}},{key:"enroll",value:function(e,t){var n=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){var i,o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=e,r.next=3,n.getSession();case 3:return o=r.sent,r.next=6,fe(n.user,i._process(n.user.auth,o,t));case 6:return a=r.sent,r.next=9,n.user._updateTokensIfNecessary(a);case 9:return r.abrupt("return",n.user.reload());case 10:case"end":return r.stop()}},r)}))()}},{key:"unenroll",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r,i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r="string"==typeof e?e:e.uid,n.next=3,t.user.getIdToken();case 3:return i=n.sent,n.next=6,fe(t.user,function(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:withdraw",K(e,t))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return o=n.sent,t.enrolledFactors=t.enrolledFactors.filter(function(e){return e.uid!==r}),n.next=10,t.user._updateTokensIfNecessary(o);case 10:return n.prev=10,n.next=13,t.user.reload();case 13:n.next=19;break;case 15:if(n.prev=15,n.t0=n.catch(10),"auth/user-token-expired"===n.t0.code){n.next=19;break}throw n.t0;case 19:case"end":return n.stop()}},n,null,[[10,15]])}))()}}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),jn=new WeakMap,Vn="__sak",qn=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return f(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Vn,"1"),this.storage.removeItem(Vn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}(),Bn=function(){var e=function(e){p(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.call(this,function(){return window.localStorage},"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=(0,k.z$)();return Oe(e)||Me(e)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),e.fallbackToPolling=Ue(),e._shouldAllowMigration=!0,e}return f(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o=function(){var e=t.storage.getItem(r);!n&&t.localCache[r]===e||t.notifyListeners(r,e)},a=this.storage.getItem(r);(0,k.w1)()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t&&JSON.parse(t))}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(e,t){var r=this,o=this;return(0,g.Z)(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i(b(n.prototype),"_set",r).call(o,e,t);case 2:o.localCache[e]=JSON.stringify(t);case 3:case"end":return a.stop()}},a)}))()}},{key:"_get",value:function(e){var t=this,r=this;return(0,g.Z)(regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i(b(n.prototype),"_get",t).call(r,e);case 2:return a=o.sent,o.abrupt("return",(r.localCache[e]=JSON.stringify(a),a));case 4:case"end":return o.stop()}},o)}))()}},{key:"_remove",value:function(e){var t=this,r=this;return(0,g.Z)(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i(b(n.prototype),"_remove",t).call(r,e);case 2:delete r.localCache[e];case 3:case"end":return o.stop()}},o)}))()}}]),n}(qn);return e.type="LOCAL",e}(),zn=function(){var e=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.call(this,function(){return window.sessionStorage},"SESSION")}return f(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(qn);return e.type="SESSION",e}(),Zn=function(){var e=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return f(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r,i,o,a,s,u,c,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=(r=e).data,o=i.eventId,a=i.eventType,s=i.data,null==(u=t.handlersMap[a])?void 0:u.size){n.next=3;break}return n.abrupt("return");case 3:return r.ports[0].postMessage({status:"ack",eventId:o,eventType:a}),c=Array.from(u).map(function(){var e=(0,g.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(r.origin,s));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.next=7,function(e){return Promise.all(e.map((t=(0,g.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=!0,e.next=4,t;case 4:return e.t1=e.sent,e.abrupt("return",{fulfilled:e.t0,value:e.t1});case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t2});case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return t.apply(this,arguments)})));var t}(c);case 7:l=n.sent,r.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:l});case 9:case"end":return n.stop()}},n)}))()}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();return e.receivers=[],e}();function Hn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}var Gn=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return f(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=this;return(0,g.Z)(regeneratorRuntime.mark(function i(){var o,a,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o="undefined"!=typeof MessageChannel?new MessageChannel:null){i.next=3;break}throw new Error("connection_unavailable");case 3:return i.abrupt("return",new Promise(function(i,u){var c=Hn("",20);o.port1.start();var l=setTimeout(function(){u(new Error("unsupported_event"))},n);s={messageChannel:o,onMessage:function(e){var t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),a=setTimeout(function(){u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),i(t.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},r.handlers.add(s),o.port1.addEventListener("message",s.onMessage),r.target.postMessage({eventType:e,eventId:c,data:t},[o.port2])}).finally(function(){s&&r.removeMessageHandler(s)}));case 4:case"end":return i.stop()}},i)}))()}}]),e}();function Kn(){return window}function Wn(){return void 0!==Kn().WorkerGlobalScope&&"function"==typeof Kn().importScripts}function Qn(){return(Qn=(0,g.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return e.abrupt("return",e.sent.active);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}var Yn="firebaseLocalStorageDb",Jn="firebaseLocalStorage",Xn="fbase_key",$n=function(){function e(t){d(this,e),this.request=t}return f(e,[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}]),e}();function er(e,t){return e.transaction([Jn],t?"readwrite":"readonly").objectStore(Jn)}function tr(){var e=indexedDB.open(Yn,1);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore(Jn,{keyPath:Xn})}catch(r){n(r)}}),e.addEventListener("success",(0,g.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=e.result).objectStoreNames.contains(Jn)){n.next=5;break}t(r),n.next=13;break;case 5:return r.close(),n.next=8,function(){var e=indexedDB.deleteDatabase(Yn);return new $n(e).toPromise()}();case 8:return n.t0=t,n.next=11,tr();case 11:n.t1=n.sent,(0,n.t0)(n.t1);case 13:case"end":return n.stop()}},n)})))})}function nr(e,t,n){return rr.apply(this,arguments)}function rr(){return(rr=(0,g.Z)(regeneratorRuntime.mark(function t(n,r,i){var o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=er(n,!0).put((e(o={},Xn,r),e(o,"value",i),o)),t.abrupt("return",new $n(a).toPromise());case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ir(){return(ir=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=er(t,!1).get(n),e.next=3,new $n(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function or(e,t){var n=er(e,!0).delete(t);return new $n(n).toPromise()}var ar=function(){var e=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return f(e,[{key:"_openDb",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.db,t.t0){t.next=5;break}return t.next=4,tr();case 4:e.db=t.sent;case 5:return t.abrupt("return",e.db);case 6:case"end":return t.stop()}},t)}))()}},{key:"_withRetries",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:return n.prev=1,n.next=4,t._openDb();case 4:return i=n.sent,n.next=7,e(i);case 7:return n.abrupt("return",n.sent);case 10:if(n.prev=10,n.t0=n.catch(1),!(r++>3)){n.next=14;break}throw n.t0;case 14:t.db&&(t.db.close(),t.db=void 0);case 15:n.next=1;break;case 17:case"end":return n.stop()}},n,null,[[1,10]])}))()}},{key:"initializeServiceWorkerMessaging",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Wn()?e.initializeReceiver():e.initializeSender());case 1:case"end":return t.stop()}},t)}))()}},{key:"initializeReceiver",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.receiver=Zn._getInstance(Wn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,g.Z)(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._poll();case 2:return t.t0=t.sent.includes(r.key),t.abrupt("return",{keyProcessed:t.t0});case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t)}))()}},{key:"initializeSender",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(){return Qn.apply(this,arguments)}();case 2:if(e.activeServiceWorker=t.sent,e.activeServiceWorker){t.next=5;break}return t.abrupt("return");case 5:return e.sender=new Gn(e.activeServiceWorker),t.next=8,e.sender._send("ping",{},800);case 8:!(i=t.sent)||(null===(n=i[0])||void 0===n?void 0:n.fulfilled)&&(null===(r=i[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0);case 10:case"end":return t.stop()}},t)}))()}},{key:"notifyServiceWorker",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.sender||!t.activeServiceWorker||function(){var e;return(null===(e=null==navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()!==t.activeServiceWorker){n.next=8;break}return n.prev=1,n.next=4,t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}},n,null,[[1,6]])}))()}},{key:"_isAvailable",value:function(){return(0,g.Z)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,tr();case 5:return t=e.sent,e.next=8,nr(t,Vn,"1");case 8:return e.next=10,or(t,Vn);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[0,13]])}))()}},{key:"_withPendingWrite",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.pendingWrites++,n.prev=1,n.next=4,e();case 4:return n.prev=4,t.pendingWrites--,n.finish(4);case 7:case"end":return n.stop()}},n,null,[[1,,4,7]])}))()}},{key:"_set",value:function(e,t){var n=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n._withPendingWrite((0,g.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n._withRetries(function(n){return nr(n,e,t)});case 2:return n.localCache[e]=t,r.abrupt("return",n.notifyServiceWorker(e));case 4:case"end":return r.stop()}},r)}))));case 1:case"end":return r.stop()}},r)}))()}},{key:"_get",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._withRetries(function(t){return function(e,t){return ir.apply(this,arguments)}(t,e)});case 2:return r=n.sent,n.abrupt("return",(t.localCache[e]=r,r));case 4:case"end":return n.stop()}},n)}))()}},{key:"_remove",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._withPendingWrite((0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._withRetries(function(t){return or(t,e)});case 2:return delete t.localCache[e],n.abrupt("return",t.notifyServiceWorker(e));case 4:case"end":return n.stop()}},n)}))));case 1:case"end":return n.stop()}},n)}))()}},{key:"_poll",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o,a,s,c,l,h,f,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._withRetries(function(e){var t=er(e,!1).getAll();return new $n(t).toPromise()});case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",[]);case 5:if(0===e.pendingWrites){t.next=7;break}return t.abrupt("return",[]);case 7:r=[],i=new Set,o=u(n);try{for(o.s();!(a=o.n()).done;)s=a.value,c=s.fbase_key,l=s.value,i.add(c),JSON.stringify(e.localCache[c])!==JSON.stringify(l)&&(e.notifyListeners(c,l),r.push(c))}catch(p){o.e(p)}finally{o.f()}for(h=0,f=Object.keys(e.localCache);h<f.length;h++)d=f[h],e.localCache[d]&&!i.has(d)&&(e.notifyListeners(d,null),r.push(d));return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))()}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}},t)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();return e.type="LOCAL",e}();function sr(e,t){return W(e,"POST","/v2/accounts/mfaSignIn:start",K(e,t))}function ur(){return(ur=(0,g.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cr(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=A("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function lr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var hr=1e12,fr=function(){function e(t){d(this,e),this.auth=t,this.counter=hr,this._widgets=new Map}return f(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new dr(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||hr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t;return(null===(t=this._widgets.get(e||hr))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(null===(r=t._widgets.get(e||hr))||void 0===r||r.execute(),""));case 1:case"end":return n.stop()}},n)}))()}}]),e}(),dr=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"==typeof t?document.getElementById(t):t;D(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return f(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout(function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()},6e4)},500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}(),pr=lr("rcb"),vr=new B(3e4,6e4),gr=function(){function e(){d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Kn().grecaptcha}return f(e,[{key:"load",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return D((t=r).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t),e,"argument-error"),this.shouldResolveImmediately(r)?Promise.resolve(Kn().grecaptcha):new Promise(function(t,i){var o=Kn().setTimeout(function(){i(A(e,"network-request-failed"))},vr.get());Kn()[pr]=function(){Kn().clearTimeout(o),delete Kn()[pr];var a=Kn().grecaptcha;if(a){var s=a.render;a.render=function(e,t){var r=s(e,t);return n.counter++,r},n.hostLanguage=r,t(a)}else i(A(e,"internal-error"))},cr("https://www.google.com/recaptcha/api.js??".concat((0,k.xO)({onload:pr,render:"explicit",hl:r}))).catch(function(){clearTimeout(o),i(A(e,"internal-error"))})})}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Kn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}(),mr=function(){function e(){d(this,e)}return f(e,[{key:"load",value:function(e){return(0,g.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new fr(e));case 1:case"end":return t.stop()}},t)}))()}},{key:"clearedOneInstance",value:function(){}}]),e}(),yr="recaptcha",kr={theme:"light",type:"image"},_r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},kr),r=arguments.length>2?arguments[2]:void 0;d(this,e),this.parameters=n,this.type=yr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qe(r),this.isInvisible="invisible"===this.parameters.size,D("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"==typeof t?document.getElementById(t):t;D(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mr:new gr,this.validateStartingState()}return f(e,[{key:"verify",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.assertNotDestroyed(),t.next=3,e.render();case 3:return n=t.sent,r=e.getAssertedRecaptcha(),t.abrupt("return",r.getResponse(n)||new Promise(function(t){e.tokenChangeListeners.add(function n(r){!r||(e.tokenChangeListeners.delete(n),t(r))}),e.isInvisible&&r.execute(n)}));case 6:case"end":return t.stop()}},t)}))()}},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(function(t){throw e.renderPromise=null,t})),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(function(t){e.container.removeChild(t)})}},{key:"validateStartingState",value:function(){D(!this.parameters.sitekey,this.auth,"argument-error"),D(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),D("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach(function(e){return e(n)}),"function"==typeof e)e(n);else if("string"==typeof e){var r=Kn()[e];"function"==typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){D(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:if(e.widgetId){t.next=6;break}n=e.container,e.isInvisible||(r=document.createElement("div"),n.appendChild(r),n=r),e.widgetId=e.getAssertedRecaptcha().render(n,e.parameters);case 6:return t.abrupt("return",e.widgetId);case 7:case"end":return t.stop()}},t)}))()}},{key:"init",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return D(V()&&!Wn(),e.auth,"internal-error"),t.next=3,function(){var e=null;return new Promise(function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()}).catch(function(t){throw e&&window.removeEventListener("load",e),t})}();case 3:return t.next=5,e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);case 5:return e.recaptcha=t.sent,t.next=8,function(e){return ur.apply(this,arguments)}(e.auth);case 8:D(n=t.sent,e.auth,"internal-error"),e.parameters.sitekey=n;case 10:case"end":return t.stop()}},t)}))()}},{key:"getAssertedRecaptcha",value:function(){return D(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}(),wr=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return f(e,[{key:"confirm",value:function(e){var t=wt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function br(){return(br=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),e.next=3,Tr(i,n,(0,k.m9)(r));case 3:return o=e.sent,e.abrupt("return",new wr(o,function(e){return Yt(i,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xr(){return(xr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),e.next=3,Zt(!1,i,"phone");case 3:return e.next=5,Tr(i.auth,n,(0,k.m9)(r));case 5:return o=e.sent,e.abrupt("return",new wr(o,function(e){return Xt(i,e)}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Sr(){return(Sr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),e.next=3,Tr(i.auth,n,(0,k.m9)(r));case 3:return o=e.sent,e.abrupt("return",new wr(o,function(e){return en(i,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tr(e,t,n){return Er.apply(this,arguments)}function Er(){return(Er=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,D("string"==typeof o,t,"argument-error"),D(r.type===yr,t,"argument-error"),!("session"in(a="string"==typeof n?{phoneNumber:n}:n))){e.next=17;break}if(s=a.session,!("phoneNumber"in a)){e.next=11;break}return D("enroll"===s.type,t,"internal-error"),e.next=10,Mn(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}});case 10:return e.abrupt("return",e.sent.phoneSessionInfo.sessionInfo);case 11:return D("signin"===s.type,t,"internal-error"),D(u=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),e.next=16,sr(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:u,phoneSignInInfo:{recaptchaToken:o}});case 16:return e.abrupt("return",e.sent.phoneResponseInfo.sessionInfo);case 17:return e.next=19,vt(t,{phoneNumber:a.phoneNumber,recaptchaToken:o});case 19:return c=e.sent,l=c.sessionInfo,e.abrupt("return",l);case 22:return e.prev=22,r._reset(),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[3,,22,25]])}))).apply(this,arguments)}function Cr(){return(Cr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt((0,k.m9)(t),n);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ir=function(){var e=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=qe(t)}return f(e,[{key:"verifyPhoneNumber",value:function(e,t){return Tr(this.auth,e,(0,k.m9)(t))}}],[{key:"credential",value:function(e,t){return wt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){return e.credentialFromTaggedObject(t)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?wt._fromTokenResponse(n,r):null}}]),e}();return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e}();function Rr(e,t){return t?U(t):(D(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Ar=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return ft(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ft(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ft(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(He);function Or(e){return Wt(e.auth,new Ar(e),e.bypassAuthState)}function Pr(e){var t=e.auth,n=e.user;return D(n,t,"internal-error"),Gt(n,new Ar(e),e.bypassAuthState)}function Nr(e){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,r=t.user,e.abrupt("return",(D(r,n,"internal-error"),Bt(r,new Ar(t),t.bypassAuthState)));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Lr=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return f(e,[{key:"execute",value:function(){var e,t=this;return new Promise((e=(0,g.Z)(regeneratorRuntime.mark(function e(n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.pendingPromise={resolve:n,reject:r},e.prev=1,e.next=4,t.resolver._initialize(t.auth);case 4:return t.eventManager=e.sent,e.next=7,t.onExecution();case 7:t.eventManager.registerConsumer(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.reject(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])})),function(t,n){return e.apply(this,arguments)}))}},{key:"onAuthEvent",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.urlResponse,i=e.sessionId,o=e.postBody,a=e.tenantId,s=e.error,u=e.type,!s){n.next=3;break}return n.abrupt("return",void t.reject(s));case 3:return c={auth:t.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState},n.prev=4,n.t0=t,n.next=8,t.getIdpTask(u)(c);case 8:n.t1=n.sent,n.t0.resolve.call(n.t0,n.t1),n.next=15;break;case 12:n.prev=12,n.t2=n.catch(4),t.reject(n.t2);case 15:case"end":return n.stop()}},n,null,[[4,12]])}))()}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Or;case"linkViaPopup":case"linkViaRedirect":return Nr;case"reauthViaPopup":case"reauthViaRedirect":return Pr;default:R(this.auth,"internal-error")}}},{key:"resolve",value:function(e){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Fr=new B(2e3,1e4);function Mr(){return(Mr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),P(t,n,St),o=Rr(i,r),e.abrupt("return",new Vr(i,"signInViaPopup",n,o).executeNotNull());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ur(){return(Ur=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P((i=(0,k.m9)(t)).auth,n,St),o=Rr(i.auth,r),e.abrupt("return",new Vr(i.auth,"reauthViaPopup",n,o,i).executeNotNull());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jr(){return(jr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P((i=(0,k.m9)(t)).auth,n,St),o=Rr(i.auth,r),e.abrupt("return",new Vr(i.auth,"linkViaPopup",n,o,i).executeNotNull());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Vr=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r,i,o,a){var s;return d(this,n),(s=t.call(this,e,r,o,a)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=m(s),s}return f(n,[{key:"executeNotNull",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute();case 2:return n=t.sent,t.abrupt("return",(D(n,e.auth,"internal-error"),n));case 4:case"end":return t.stop()}},t)}))()}},{key:"onExecution",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return F(1===e.filter.length,"Popup operations only handle one event"),n=Hn(),t.next=4,e.resolver._openPopup(e.auth,e.provider,e.filter[0],n);case 4:e.authWindow=t.sent,e.authWindow.associatedEvent=n,e.resolver._originValidation(e.auth).catch(function(t){e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,function(t){t||e.reject(A(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation();case 9:case"end":return t.stop()}},t)}))()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(A(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;e.pollId=(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?window.setTimeout(function(){e.pollId=null,e.reject(A(e.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,Fr.get())}()}}]),n}(Lr);return e.currentPopupAction=null,e}(),qr=new Map,Br=function(e){p(n,e);var t=v(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,i}return f(n,[{key:"execute",value:function(){var e=this,t=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){var o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=qr.get(t.auth._key())){r.next=20;break}return r.prev=2,r.next=5,function(e,t){return zr.apply(this,arguments)}(t.resolver,t.auth);case 5:if(!r.sent){r.next=11;break}return r.next=8,i(b(n.prototype),"execute",e).call(t);case 8:r.t0=r.sent,r.next=12;break;case 11:r.t0=null;case 12:a=r.t0,o=function(){return Promise.resolve(a)},r.next=19;break;case 16:r.prev=16,r.t1=r.catch(2),o=function(){return Promise.reject(r.t1)};case 19:qr.set(t.auth._key(),o);case 20:return r.abrupt("return",(t.bypassAuthState||qr.set(t.auth._key(),function(){return Promise.resolve(null)}),o()));case 21:case"end":return r.stop()}},r,null,[[2,16]])}))()}},{key:"onAuthEvent",value:function(e){var t=this,r=function(){return i(b(n.prototype),"onAuthEvent",t)},o=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("signInViaRedirect"!==e.type){t.next=2;break}return t.abrupt("return",r().call(o,e));case 2:if("unknown"===e.type){t.next=12;break}if(!e.eventId){t.next=10;break}return t.next=6,o.auth._redirectUserForId(e.eventId);case 6:if(!(n=t.sent)){t.next=9;break}return t.abrupt("return",(o.user=n,r().call(o,e)));case 9:o.resolve(null);case 10:t.next=13;break;case 12:o.resolve(null);case 13:case"end":return t.stop()}},t)}))()}},{key:"onExecution",value:function(){return(0,g.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()}},{key:"cleanUp",value:function(){}}]),n}(Lr);function zr(){return(zr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kr(n),i=Gr(t),e.next=3,i._isAvailable();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,i._get(r);case 7:return e.t0=e.sent,o="true"===e.t0,e.next=11,i._remove(r);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zr(e,t){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gr(t)._set(Kr(n),"true"));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gr(e){return U(e._redirectPersistence)}function Kr(e){return Ce("pendingRedirect",e.config.apiKey,e.name)}function Wr(){return(Wr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),P(t,n,St),o=Rr(i,r),e.next=5,Zr(o,i);case 5:return e.abrupt("return",o._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P((i=(0,k.m9)(t)).auth,n,St),o=Rr(i.auth,r),e.next=5,Zr(o,i.auth);case 5:return e.next=7,ei(i);case 7:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"reauthViaRedirect",a));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yr(){return(Yr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P((i=(0,k.m9)(t)).auth,n,St),o=Rr(i.auth,r),e.next=5,Zt(!1,i,n.providerId);case 5:return e.next=7,Zr(o,i.auth);case 7:return e.next=9,ei(i);case 9:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"linkViaRedirect",a));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(t)._initializationPromise;case 2:return e.abrupt("return",Xr(t,n,!1));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xr(e,t){return $r.apply(this,arguments)}function $r(){return($r=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=qe(t),o=Rr(i,n),e.next=5,new Br(i,o,r).execute();case 5:if(a=e.sent,e.t0=a&&!r,!e.t0){e.next=13;break}return delete a.user._redirectEventId,e.next=11,i._persistUserIfCurrent(a.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ei(e){return ti.apply(this,arguments)}function ti(){return(ti=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ni=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return f(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ii(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ii(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(A(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ri(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ri(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ri(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function ii(e){var t=e.type,n=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==n?void 0:n.code)}function oi(e){return ai.apply(this,arguments)}function ai(){return(ai=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",W(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var si=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ui=/^https?/;function ci(){return(ci=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,oi(t);case 4:n=e.sent,r=n.authorizedDomains,i=u(r),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=20;break}if(a=o.value,e.prev=11,!li(a)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:R(t,"unauthorized-domain");case 29:case"end":return e.stop()}},e,null,[[7,22,25,28],[11,16]])}))).apply(this,arguments)}function li(e){var t=j(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!ui.test(r))return!1;if(si.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var hi=new B(3e4,6e4);function fi(){var e=Kn().___jsl;if(null==e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=a(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var di=null;function pi(e){return di=di||function(e){return new Promise(function(t,n){var r,i,o;function a(){fi(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){fi(),n(A(e,"network-request-failed"))},timeout:hi.get()})}if(null===(i=null===(r=Kn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Kn().gapi)||void 0===o?void 0:o.load)){var s=lr("iframefcb");return Kn()[s]=function(){gapi.load?a():n(A(e,"network-request-failed"))},cr("https://apis.google.com/js/api.js?onload=".concat(s)).catch(function(e){return n(e)})}a()}}).catch(function(e){throw di=null,e})}(e)}var vi=new B(5e3,15e3),gi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yi(e){var t=e.config;D(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?z(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:_.SDK_VERSION},i=mi.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat((0,k.xO)(r).slice(1))}function ki(){return(ki=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(t);case 2:return n=e.sent,r=Kn().gapi,e.abrupt("return",(D(r,t,"internal-error"),n.open({where:document.body,url:yi(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gi,dontclear:!0},function(e){return new Promise((n=(0,g.Z)(regeneratorRuntime.mark(function n(r,i){var o,a,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Kn().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=A(t,"network-request-failed"),a=Kn().setTimeout(function(){i(o)},vi.get()),e.ping(s).then(s,function(){i(o)});case 5:case"end":return n.stop()}},n)})),function(e,t){return n.apply(this,arguments)}));var n})));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _i={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wi=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return f(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function bi(e,n,r,i,o,a){D(e.config.authDomain,e,"auth-domain-config-required"),D(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:i,v:_.SDK_VERSION,eventId:o};if(n instanceof St){n.setDefaultLanguage(e.languageCode),s.providerId=n.providerId||"",(0,k.xb)(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=t(c[u],2),h=l[0],f=l[1];s[h]=f}}if(n instanceof Tt){var d=n.getScopes().filter(function(e){return""!==e});d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,g=Object.keys(p);v<g.length;v++){var m=g[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;return t.emulator?z(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/__/auth/handler")}(e),"?").concat((0,k.xO)(p).slice(1))}var xi,Si="webStorageSupport",Ti=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return f(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:finalize",K(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return W(e,"POST","/v2/accounts/mfaSignIn:finalize",K(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){d(this,e),this.factorId=t}return f(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return L("unexpected MultiFactorSessionType")}}}]),e}()),Ei=function(){var e=function(){function e(){d(this,e)}return f(e,null,[{key:"assertion",value:function(e){return Ti._fromCredential(e)}}]),e}();return e.FACTOR_ID="phone",e}(),Ci="@firebase/auth",Ii=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return f(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.assertAuthConfigured(),n.next=3,t.auth._initializationPromise;case 3:if(!t.auth.currentUser){n.next=10;break}return n.next=6,t.auth.currentUser.getIdToken(e);case 6:n.t1=n.sent,n.t0={accessToken:n.t1},n.next=11;break;case 10:n.t0=null;case 11:return n.abrupt("return",n.t0);case 12:case"end":return n.stop()}},n)}))()}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ri(){return window}function Ai(){return(Ai=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ri(),a=o.BuildInfo,F(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ni(n.sessionId);case 4:return s=e.sent,u={},e.abrupt("return",(Me()?u.ibi=a.packageName:De()?u.apn=a.packageName:R(t,"operation-not-supported-in-this-environment"),a.displayName&&(u.appDisplayName=a.displayName),u.sessionId=s,bi(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u)));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Oi(){return(Oi=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ri(),r=n.BuildInfo,i={},Me()?i.iosBundleId=r.packageName:De()?i.androidPackageName=r.packageName:R(t,"operation-not-supported-in-this-environment"),e.next=4,oi(t,i);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pi(){return(Pi=(0,g.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ri(),o=i.cordova,a=function(){},e.prev=2,e.next=5,new Promise(function(e,i){var s=null;function u(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof n&&n(),"function"==typeof(null==r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout(function(){i(A(t,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null==document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),De()&&document.addEventListener("visibilitychange",l,!1),a=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}});case 5:return e.prev=5,a(),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[2,,5,8]])}))).apply(this,arguments)}function Ni(e){return Di.apply(this,arguments)}function Di(){return(Di=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Li(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,e.abrupt("return",Array.from(new Uint8Array(r)).map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Li(e){if(F(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}xi="Browser",(0,_._registerComponent)(new S.wA("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,o=i.apiKey,a=i.authDomain;return function(e){D(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),D(!(null==a?void 0:a.includes(":")),"argument-error",{appName:e.name});var t={apiKey:o,authDomain:a,clientPlatform:xi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:je(xi)},r=new Ve(e,t);return function(e,t){var n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(U);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(r,n),r}(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),(0,_._registerComponent)(new S.wA("auth-internal",function(e){var t=qe(e.getProvider("auth").getImmediate());return new Ii(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_.registerVersion)(Ci,"0.19.6",void 0),(0,_.registerVersion)(Ci,"0.19.6","esm2017");var Fi=function(e){p(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise(function(t){e.resolveInialized=t}),e}return f(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach(function(t){return t(e)}),i(b(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initPromise;case 2:case"end":return t.stop()}},t)}))()}}]),n}(ni);function Mi(e){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vi()._get(qi(t));case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=7;break}return e.next=7,Vi()._remove(qi(t));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ji(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Vi(){return U(Bn)}function qi(e){return Ce("authEvent",e.config.apiKey,e.name)}function Bi(e){if(!(null==e?void 0:e.includes("?")))return{};var t,i=e.split("?"),o=r(t=i)||s(t)||c(t)||n(),a=(o[0],o.slice(1));return(0,k.zd)(a.join("?"))}function zi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:A("no-auth-event")}}function Zi(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return!("file:"!==Zi()&&"ionic:"!==Zi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gi(){try{var e=self.localStorage,t=Hn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/Edge\/\d+/.test(e)}(e)}()||(0,k.hl)()}catch(xi){return Ki()&&(0,k.hl)()}return!1}function Ki(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wi(){return("http:"===Zi()||"https:"===Zi()||(0,k.ru)()||Hi())&&!((0,k.b$)()||(0,k.UG)())&&Gi()&&!Ki()}function Qi(){return Hi()&&"undefined"!=typeof document}function Yi(){return(Yi=(0,g.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!Qi()&&new Promise(function(e){var t=setTimeout(function(){e(!1)},1e3);document.addEventListener("deviceready",function(){clearTimeout(t),e(!0)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ji={LOCAL:"local",NONE:"none",SESSION:"session"},Xi=D,$i="persistence";function eo(e){return to.apply(this,arguments)}function to(){return(to=(0,g.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=no(),r=Ce($i,t.config.apiKey,t.name),(null==n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function no(){return"undefined"!=typeof window?window:null}var ro=D,io=function(){function e(){d(this,e),this.browserResolver=U(function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zn,this._completeRedirectFn=Xr}return f(e,[{key:"_openPopup",value:function(e,n,r,i){var o=this;return(0,g.Z)(regeneratorRuntime.mark(function a(){var s,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return F(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()"),u=bi(e,n,r,j(),i),a.abrupt("return",function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),u="",c=Object.assign(Object.assign({},_i),{width:i.toString(),height:o.toString(),top:a,left:s}),l=(0,k.z$)().toLowerCase();r&&(u=Pe(l)?"_blank":r),Ae(l)&&(n=n||"http://localhost",c.scrollbars="yes");var h=Object.entries(c).reduce(function(e,n){var r=t(n,2),i=r[0],o=r[1];return"".concat(e).concat(i,"=").concat(o,",")},"");if(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return Me(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(n||"",u),new wi(null);var f=window.open(n||"",u,h);D(f,e,"popup-blocked");try{f.focus()}catch(d){}return new wi(f)}(e,u,Hn()));case 3:case"end":return a.stop()}},a)}))()}},{key:"_openRedirect",value:function(e,t,n,r){var i=this;return(0,g.Z)(regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i._originValidation(e);case 2:return a=bi(e,t,n,j(),r),Kn().location.href=a,o.abrupt("return",new Promise(function(){}));case 5:case"end":return o.stop()}},o)}))()}},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,o=r.promise;return i?Promise.resolve(i):(F(o,"If manager is not set, promise should be"),o)}var a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(function(){delete t.eventManagers[n]}),a}},{key:"initAndGetManager",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,function(e){return ki.apply(this,arguments)}(e);case 2:return r=n.sent,i=new ni(e),n.abrupt("return",(r.register("authEvent",function(t){return D(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:i.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i));case 5:case"end":return n.stop()}},n)}))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Si,{type:Si},function(n){var r,i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Si];void 0!==i&&t(!!i),R(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ci.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ue()||Oe()||Me()}}]),e}()),this.cordovaResolver=U(function(){function e(){d(this,e),this._redirectPersistence=zn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xr}return f(e,[{key:"_initialize",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e._key(),i=t.eventManagers.get(r),n.abrupt("return",(i||(i=new Fi(e),t.eventManagers.set(r,i),t.attachCallbackListeners(e,i)),i));case 3:case"end":return n.stop()}},n)}))()}},{key:"_openPopup",value:function(e){R(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(e,t,n,r){var i=this;return(0,g.Z)(regeneratorRuntime.mark(function o(){var a,s,u,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return function(e){var t,n,r,i,o,a,s,u,c,l,h=Ri();D("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),D(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),D("function"==typeof(null===(o=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D("function"==typeof(null===(u=null===(s=null===(a=null==h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e),o.next=3,i._initialize(e);case 3:return a=o.sent,o.next=6,a.initialized();case 6:return a.resetRedirect(),qr.clear(),o.next=10,i._originValidation(e);case 10:return s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ji(),postBody:null,tenantId:e.tenantId,error:A(e,"no-auth-event")}}(e,n,r),o.next=13,function(e,t){return Vi()._set(qi(e),t)}(e,s);case 13:return o.next=15,function(e,t,n){return Ai.apply(this,arguments)}(e,s,t);case 15:return u=o.sent,o.next=18,function(e){var t=Ri().cordova;return new Promise(function(n){t.plugins.browsertab.isAvailable(function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(u);case 18:return c=o.sent,o.abrupt("return",function(e,t,n){return Pi.apply(this,arguments)}(e,a,c));case 20:case"end":return o.stop()}},o)}))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Oi.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n,r=Ri(),i=r.universalLinks,o=r.handleOpenURL,a=r.BuildInfo,s=setTimeout((0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mi(e);case 2:t.onEvent(zi());case 3:case"end":return n.stop()}},n)})),500),u=(n=(0,g.Z)(regeneratorRuntime.mark(function n(r){var i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(s),n.next=3,Mi(e);case 3:i=n.sent,o=null,i&&(null==r?void 0:r.url)&&(o=function(e,t){var n,r,i=function(e){var t=Bi(e),n=t.link?decodeURIComponent(t.link):void 0,r=Bi(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Bi(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var o=Bi(i),a=o.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(o.firebaseError)):null,s=null===(r=null===(n=null==a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?A(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(i,r.url)),t.onEvent(o||zi());case 6:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)});void 0!==i&&"function"==typeof i.subscribe&&i.subscribe(null,u);var c=o,l="".concat(a.packageName.toLowerCase(),"://");Ri().handleOpenURL=function(){var e=(0,g.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&u({url:t}),"function"==typeof c)try{c(t)}catch(n){console.error(n)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}]),e}()),this.underlyingResolver=null,this._redirectPersistence=zn,this._completeRedirectFn=Xr}return f(e,[{key:"_initialize",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.selectUnderlyingResolver();case 2:return n.abrupt("return",t.assertedUnderlyingResolver._initialize(e));case 3:case"end":return n.stop()}},n)}))()}},{key:"_openPopup",value:function(e,t,n,r){var i=this;return(0,g.Z)(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i.selectUnderlyingResolver();case 2:return o.abrupt("return",i.assertedUnderlyingResolver._openPopup(e,t,n,r));case 3:case"end":return o.stop()}},o)}))()}},{key:"_openRedirect",value:function(e,t,n,r){var i=this;return(0,g.Z)(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i.selectUnderlyingResolver();case 2:return o.abrupt("return",i.assertedUnderlyingResolver._openRedirect(e,t,n,r));case 3:case"end":return o.stop()}},o)}))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Qi()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ro(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.underlyingResolver){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,function(){return Yi.apply(this,arguments)}();case 4:n=t.sent,e.underlyingResolver=n?e.cordovaResolver:e.browserResolver;case 6:case"end":return t.stop()}},t)}))()}}]),e}();function oo(e){return e.unwrap()}function ao(e){return so(e)}function so(e){var t=(e instanceof k.ZR?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof k.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return Ir.credentialFromResult(e);var n,r=t.providerId;if(!r||"password"===r)return null;switch(r){case"google.com":n=It;break;case"facebook.com":n=Ct;break;case"github.com":n=Rt;break;case"twitter.com":n=Pt;break;default:var i=t.oauthIdToken,o=t.oauthAccessToken,a=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return o||a||i||s?s?r.startsWith("saml.")?At._create(r,s):pt._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:o}):new Et(r).credential({idToken:i,accessToken:o,rawNonce:u}):null}return e instanceof k.ZR?n.credentialFromError(e):n.credentialFromResult(e)}function uo(e,t){return t.catch(function(t){throw t instanceof k.ZR&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new ho(e,function(e,t){var n,r=(0,k.m9)(e),i=t;return D(t.customData.operationType,r,"argument-error"),D(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Fn._fromError(r,i)}(e,t));else if(r){var i=so(t),o=t;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(function(e){var t=e.user;return{operationType:e.operationType,credential:ao(e),additionalUserInfo:Dn(e),user:fo.getOrCreate(t)}})}function co(e,t){return lo.apply(this,arguments)}function lo(){return(lo=(0,g.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return uo(t,r.confirm(e))}});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ho=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return f(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return uo(oo(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),fo=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=(0,k.m9)(e);return jn.has(t)||jn.set(t,Un._fromUser(t)),jn.get(t)}(t)}return f(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",uo(t.auth,Xt(t._delegate,e)));case 1:case"end":return n.stop()}},n)}))()}},{key:"linkWithPhoneNumber",value:function(e,t){var n=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",co(n.auth,function(e,t,n){return xr.apply(this,arguments)}(n._delegate,e,t)));case 1:case"end":return r.stop()}},r)}))()}},{key:"linkWithPopup",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",uo(t.auth,function(e,t,n){return jr.apply(this,arguments)}(t._delegate,e,io)));case 1:case"end":return n.stop()}},n)}))()}},{key:"linkWithRedirect",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,eo(qe(t.auth));case 2:return n.abrupt("return",function(e,t,n){return function(e,t,n){return Yr.apply(this,arguments)}(e,t,n)}(t._delegate,e,io));case 3:case"end":return n.stop()}},n)}))()}},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",uo(t.auth,en(t._delegate,e)));case 1:case"end":return n.stop()}},n)}))()}},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return co(this.auth,function(e,t,n){return Sr.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return uo(this.auth,function(e,t,n){return Ur.apply(this,arguments)}(this._delegate,e,io))}},{key:"reauthenticateWithRedirect",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,eo(qe(t.auth));case 2:return n.abrupt("return",function(e,t,n){return function(e,t,n){return Qr.apply(this,arguments)}(e,t,n)}(t._delegate,e,io));case 3:case"end":return n.stop()}},n)}))()}},{key:"sendEmailVerification",value:function(e){return function(e,t){return wn.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,function(e,t){return qt.apply(this,arguments)}(t._delegate,e);case 2:return n.abrupt("return",t);case 3:case"end":return n.stop()}},n)}))()}},{key:"updateEmail",value:function(e){return function(e,t){return En((0,k.m9)(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return En((0,k.m9)(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Cr.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Tn.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return bn.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();fo.USER_MAP=new WeakMap;var po=D,vo=function(){var e=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;po(r,"invalid-api-key",{appName:t.name}),po(r,"invalid-api-key",{appName:t.name});var i="undefined"!=typeof window?io:void 0;this._delegate=n.initialize({options:{persistence:mo(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(T),this.linkUnderlyingAuth()}return f(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?fo.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,n){!function(e,n,r){var i=qe(e);D(i._canInitEmulator,i,"emulator-config-failed"),D(/^https?:\/\//.test(n),i,"invalid-emulator-scheme");var o=!!(null==r?void 0:r.disableWarnings),a=ze(n),s=function(e){var n=ze(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(n.length));if(!r)return{host:"",port:null};var i=r[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){var a=o[1];return{host:a,port:Ze(i.substr(a.length+1))}}var s=t(i.split(":"),2);return{host:s[0],port:Ze(s[1])}}(n),u=s.host,c=s.port;i.config.emulator={url:"".concat(a,"//").concat(u).concat(null===c?"":":".concat(c),"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,n)}},{key:"applyActionCode",value:function(e){return function(e,t){return hn.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return fn(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ln.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(e,t){var n=this;return(0,g.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",uo(n._delegate,function(e,t,n){return vn.apply(this,arguments)}(n._delegate,e,t)));case 1:case"end":return r.stop()}},r)}))()}},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return _n.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=bt.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}},{key:"getRedirectResult",value:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return po(Wi(),e._delegate,"operation-not-supported-in-this-environment"),t.next=3,function(e,t){return Jr.apply(this,arguments)}(e._delegate,io);case 3:return n=t.sent,t.abrupt("return",n?uo(e._delegate,Promise.resolve(n)):{credential:null,user:null});case 5:case"end":return t.stop()}},t)}))()}},{key:"addFrameworkForLogging",value:function(e){!function(e,t){qe(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=go(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onAuthStateChanged(i,o,a)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=go(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onIdTokenChanged(i,o,a)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return gn.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return cn.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=(function(e,t){Xi(Object.values(Ji).includes(t),e,"invalid-persistence-type"),(0,k.b$)()?Xi(t!==Ji.SESSION,e,"unsupported-persistence-type"):(0,k.UG)()?Xi(t===Ji.NONE,e,"unsupported-persistence-type"):Ki()?Xi(t===Ji.NONE||t===Ji.LOCAL&&(0,k.hl)(),e,"unsupported-persistence-type"):Xi(t===Ji.NONE||Gi(),e,"unsupported-persistence-type")}(t._delegate,e),e),n.next=n.t0===Ji.SESSION?3:n.t0===Ji.LOCAL?5:n.t0===Ji.NONE?14:16;break;case 3:return r=zn,n.abrupt("break",17);case 5:return n.next=7,U(ar)._isAvailable();case 7:if(!n.sent){n.next=11;break}n.t1=ar,n.next=12;break;case 11:n.t1=Bn;case 12:return r=n.t1,n.abrupt("break",17);case 14:return r=Ee,n.abrupt("break",17);case 16:return n.abrupt("return",R("argument-error",{appName:t._delegate.name}));case 17:return n.abrupt("return",t._delegate.setPersistence(r));case 18:case"end":return n.stop()}},n)}))()}},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return uo(this._delegate,function(e){return Mt.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return uo(this._delegate,Yt(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return uo(this._delegate,function(e,t){return on.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return uo(this._delegate,function(e,t,n){return Yt((0,k.m9)(e),xt.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return uo(this._delegate,function(e,t,n){return mn.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return co(this._delegate,function(e,t,n){return br.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(po(Wi(),t._delegate,"operation-not-supported-in-this-environment"),uo(t._delegate,function(e,t,n){return Mr.apply(this,arguments)}(t._delegate,e,io))));case 1:case"end":return n.stop()}},n)}))()}},{key:"signInWithRedirect",value:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return po(Wi(),t._delegate,"operation-not-supported-in-this-environment"),n.next=3,eo(t._delegate);case 3:return n.abrupt("return",function(e,t,n){return function(e,t,n){return Wr.apply(this,arguments)}(e,t,n)}(t._delegate,e,io));case 4:case"end":return n.stop()}},n)}))()}},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return pn.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();return e.Persistence=Ji,e}();function go(e,t,n){var r,i=e;"function"!=typeof e&&(i=(r=e).next,t=r.error,n=r.complete);var o=i;return{next:function(e){return o(e&&fo.getOrCreate(e))},error:t,complete:n}}function mo(e,t){var n=function(e,t){var n=no();if(!(null==n?void 0:n.sessionStorage))return[];var r=Ce($i,e,t);switch(n.sessionStorage.getItem(r)){case Ji.NONE:return[Ee];case Ji.LOCAL:return[ar,zn];case Ji.SESSION:return[zn];default:return[]}}(e,t);if("undefined"!=typeof self&&!n.includes(ar)&&n.push(ar),"undefined"!=typeof window)for(var r=0,i=[Bn,zn];r<i.length;r++){var o=i[r];n.includes(o)||n.push(o)}return n.includes(Ee)||n.push(Ee),n}var yo=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new Ir(oo(y.Z.auth()))}return f(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ir.credential(e,t)}}]),e}();yo.PHONE_SIGN_IN_METHOD=Ir.PHONE_SIGN_IN_METHOD,yo.PROVIDER_ID=Ir.PROVIDER_ID;var ko=D,_o=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.Z.app();d(this,e),ko(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new _r(t,n,i.auth()),this.type=this._delegate.type}return f(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new S.wA("auth-compat",function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new vo(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:xt,FacebookAuthProvider:Ct,GithubAuthProvider:Rt,GoogleAuthProvider:It,OAuthProvider:Et,SAMLAuthProvider:Ot,PhoneAuthProvider:yo,PhoneMultiFactorGenerator:Ei,RecaptchaVerifier:_o,TwitterAuthProvider:Pt,Auth:vo,AuthCredential:He,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.6")}(y.Z)},6676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,o=new Promise(function(o,a){n(i=e[t].apply(e,r)).then(o,a)});return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function o(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function a(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function s(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function u(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},7241:function(e,t,n){"use strict";n.d(t,{y:function(){return h}});var r,i=n(5756),o=n(9593),a=n(3122),s=n(7824),u=n(2046),c=n(5975),l=n(1519),h=((r=function(e){function t(e){d(this,t),e&&(this._subscribe=e)}return f(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(e,t,n){var r=this,a=function(e){return e&&e instanceof i.Lv||function(e){return e&&(0,c.m)(e.next)&&(0,c.m)(e.error)&&(0,c.m)(e.complete)}(e)&&(0,o.Nn)(e)}(e)?e:new i.Hp(e,t,n);return(0,l.x)(function(){var e=r.operator,t=r.source;a.add(e?e.call(a,t):t?r._subscribe(a):r._trySubscribe(a))}),a}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){e.error(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=p(t))(function(t,r){var o=new i.Hp({next:function(t){try{e(t)}catch(n){r(n),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)})}},{key:"_subscribe",value:function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}},{key:e,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.U)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=p(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),t}(a.L)).create=function(e){return new r(e)},r);function p(e){var t;return null!==(t=null!=e?e:u.v.Promise)&&void 0!==t?t:Promise}},9359:function(e,t,n){"use strict";n.d(t,{x:function(){return h}});var r,o=n(7241),a=n(9593),s=(0,n(5776).d)(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),c=n(8308),l=n(1519),h=((r=function(e){p(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.call(this)).closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return f(n,[{key:"lift",value:function(e){var t=new g(this,this);return t.operator=e,t}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new s}},{key:"next",value:function(e){var t=this;(0,l.x)(function(){if(t._throwIfClosed(),!t.isStopped){var n,r=u(t.observers.slice());try{for(r.s();!(n=r.n()).done;)n.value.next(e)}catch(i){r.e(i)}finally{r.f()}}})}},{key:"error",value:function(e){var t=this;(0,l.x)(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})}},{key:"complete",value:function(){var e=this;(0,l.x)(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=null}},{key:"observed",get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}},{key:"_trySubscribe",value:function(e){return this._throwIfClosed(),i(b(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}},{key:"_innerSubscribe",value:function(e){var t=this.hasError,n=this.isStopped,r=this.observers;return t||n?a.Lc:(r.push(e),new a.w0(function(){return(0,c.P)(r,e)}))}},{key:"_checkFinalizedStatuses",value:function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()}},{key:"asObservable",value:function(){var e=new o.y;return e.source=this,e}}]),n}(o.y)).create=function(e,t){return new g(e,t)},r),g=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).destination=e,i.source=r,i}return f(n,[{key:"next",value:function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}},{key:"error",value:function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}},{key:"complete",value:function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}},{key:"_subscribe",value:function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:a.Lc}}]),n}(h)},5756:function(e,t,n){"use strict";n.d(t,{Hp:function(){return _},Lv:function(){return k}});var r=n(5975),o=n(9593),a=n(2046),s=n(4922),u=n(408),c=l("C",void 0,void 0);function l(e,t,n){return{kind:e,value:t,error:n}}var h=n(4146),y=n(1519),k=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).isStopped=!1,e?(r.destination=e,(0,o.Nn)(e)&&e.add(m(r))):r.destination=T,r}return f(n,[{key:"next",value:function(e){this.isStopped?S(l("N",e,void 0),this):this._next(e)}},{key:"error",value:function(e){this.isStopped?S(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped?S(c,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,i(b(n.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){try{this.destination.error(e)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(e,t,n){return new _(e,t,n)}}]),n}(o.w0),_=function(e){p(n,e);var t=v(n);function n(e,i,o){var s,c;if(d(this,n),s=t.call(this),(0,r.m)(e))c=e;else if(e){var l,h;c=(l=e).next,i=l.error,o=l.complete,m(s)&&a.v.useDeprecatedNextContext?(h=Object.create(e)).unsubscribe=function(){return s.unsubscribe()}:h=e,c=null==c?void 0:c.bind(h),i=null==i?void 0:i.bind(h),o=null==o?void 0:o.bind(h)}return s.destination={next:c?w(c):u.Z,error:w(null!=i?i:x),complete:o?w(o):u.Z},g(s)}return f(n)}(k);function w(e,t){return function(){try{e.apply(void 0,arguments)}catch(t){a.v.useDeprecatedSynchronousErrorHandling?(0,y.O)(t):(0,s.h)(t)}}}function x(e){throw e}function S(e,t){var n=a.v.onStoppedNotification;n&&h.z.setTimeout(function(){return n(e,t)})}var T={closed:!0,next:u.Z,error:x,complete:u.Z}},9593:function(e,t,n){"use strict";n.d(t,{Lc:function(){return l},w0:function(){return c},Nn:function(){return h}});var r,i=n(5975),o=(0,n(5776).d)(function(e){return function(t){e(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t}}),s=n(8308),c=function(){function e(t){d(this,e),this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}return f(e,[{key:"unsubscribe",value:function(){var e;if(!this.closed){this.closed=!0;var t=this._parentage;if(t)if(this._parentage=null,Array.isArray(t)){var n,r=u(t);try{for(r.s();!(n=r.n()).done;){var s;n.value.remove(this)}}catch(v){r.e(v)}finally{r.f()}}else t.remove(this);var c=this.initialTeardown;if((0,i.m)(c))try{c()}catch(s){e=s instanceof o?s.errors:[s]}var l=this._teardowns;if(l){this._teardowns=null;var h,f=u(l);try{for(f.s();!(h=f.n()).done;){var d=h.value;try{p(d)}catch(g){e=null!=e?e:[],g instanceof o?e=[].concat(a(e),a(g.errors)):e.push(g)}}}catch(v){f.e(v)}finally{f.f()}}if(e)throw new o(e)}}},{key:"add",value:function(t){var n;if(t&&t!==this)if(this.closed)p(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}},{key:"_hasParent",value:function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)}},{key:"_addParent",value:function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}},{key:"_removeParent",value:function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,s.P)(t,e)}},{key:"remove",value:function(t){var n=this._teardowns;n&&(0,s.P)(n,t),t instanceof e&&t._removeParent(this)}}]),e}();c.EMPTY=((r=new c).closed=!0,r);var l=c.EMPTY;function h(e){return e instanceof c||e&&"closed"in e&&(0,i.m)(e.remove)&&(0,i.m)(e.add)&&(0,i.m)(e.unsubscribe)}function p(e){(0,i.m)(e)?e():e.unsubscribe()}},2046:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9018:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var r=new(n(7241).y)(function(e){return e.complete()})},8169:function(e,t,n){"use strict";n.d(t,{D:function(){return y}});var r=n(5955),i=n(7513),o=n(4119),a=n(7241),s=n(4565),u=n(5975),c=n(6903);function l(e,t){if(!e)throw new Error("Iterable cannot be null");return new a.y(function(n){(0,c.f)(n,t,function(){var r=e[Symbol.asyncIterator]();(0,c.f)(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}var h=n(2021),f=n(9450),d=n(6602),p=n(6920),v=n(2604),g=n(5626),m=n(1559);function y(e,t){return t?function(e,t){if(null!=e){if((0,h.c)(e))return function(e,t){return(0,r.Xf)(e).pipe((0,o.R)(t),(0,i.Q)(t))}(e,t);if((0,d.z)(e))return function(e,t){return new a.y(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if((0,f.t)(e))return function(e,t){return(0,r.Xf)(e).pipe((0,o.R)(t),(0,i.Q)(t))}(e,t);if((0,v.D)(e))return l(e,t);if((0,p.T)(e))return function(e,t){return new a.y(function(n){var r;return(0,c.f)(n,t,function(){r=e[s.h](),(0,c.f)(n,t,function(){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():n.next(e)},0,!0)}),function(){return(0,u.m)(null==r?void 0:r.return)&&r.return()}})}(e,t);if((0,m.L)(e))return function(e,t){return l((0,m.Q)(e),t)}(e,t)}throw(0,g.z)(e)}(e,t):(0,r.Xf)(e)}},5955:function(e,t,n){"use strict";n.d(t,{Xf:function(){return g}});var r=n(4762),i=n(6602),o=n(9450),a=n(7241),s=n(2021),c=n(2604),l=n(5626),h=n(6920),f=n(1559),d=n(5975),p=n(4922),v=n(3122);function g(e){if(e instanceof a.y)return e;if(null!=e){if((0,s.c)(e))return function(e){return new a.y(function(t){var n=e[v.L]();if((0,d.m)(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if((0,i.z)(e))return function(e){return new a.y(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if((0,o.t)(e))return function(e){return new a.y(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,p.h)})}(e);if((0,c.D)(e))return m(e);if((0,h.T)(e))return function(e){return new a.y(function(t){var n,r=u(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.next(i),t.closed)return}}catch(o){r.e(o)}finally{r.f()}t.complete()})}(e);if((0,f.L)(e))return function(e){return m((0,f.Q)(e))}(e)}throw(0,l.z)(e)}function m(e){return new a.y(function(t){(function(e,t){var n,i,o,a;return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:s.prev=0,n=(0,r.KL)(e);case 2:return s.next=4,n.next();case 4:if((i=s.sent).done){s.next=9;break}if(t.next(i.value),!t.closed){s.next=7;break}return s.abrupt("return");case 7:s.next=2;break;case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),o={error:s.t0};case 14:if(s.prev=14,s.prev=15,s.t1=i&&!i.done&&(a=n.return),!s.t1){s.next=20;break}return s.next=20,a.call(n);case 20:if(s.prev=20,!o){s.next=23;break}throw o.error;case 23:return s.finish(20);case 24:return s.finish(14);case 25:t.complete();case 26:case"end":return s.stop()}},s,null,[[0,11,14,25],[15,,20,24]])}))})(e,t).catch(function(e){return t.error(e)})})}},1860:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var r=n(549),i=n(5955),o=n(9018),a=n(6651),s=n(8169);function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var u=(0,a.yG)(t),c=(0,a._6)(t,1/0),l=t;return l.length?1===l.length?(0,i.Xf)(l[0]):(0,r.J)(c)((0,s.D)(l,u)):o.E}},8499:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var r=function(e){p(n,e);var t=v(n);function n(e,r,o,a,s){var u,c,l,h;return d(this,n),(h=t.call(this,e)).onFinalize=s,h._next=r?function(t){try{r(t)}catch(n){e.error(n)}}:i((u=m(h),b(n.prototype)),"_next",u),h._error=a?function(t){try{a(t)}catch(n){e.error(n)}finally{this.unsubscribe()}}:i((c=m(h),b(n.prototype)),"_error",c),h._complete=o?function(){try{o()}catch(t){e.error(t)}finally{this.unsubscribe()}}:i((l=m(h),b(n.prototype)),"_complete",l),h}return f(n,[{key:"unsubscribe",value:function(){var e,t=this.closed;i(b(n.prototype),"unsubscribe",this).call(this),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}]),n}(n(5756).Lv)},7969:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(2085),i=n(8499);function o(e,t){return(0,r.e)(function(n,r){var o=0;n.subscribe(new i.Q(r,function(n){r.next(e.call(t,n,o++))}))})}},549:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(3159),i=n(8330);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return(0,r.z)(i.y,e)}},3159:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(7969),i=n(5955),o=n(2085),a=(n(6903),n(8499)),s=n(5975);function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return(0,s.m)(t)?u(function(n,o){return(0,r.U)(function(e,r){return t(n,e,o,r)})((0,i.Xf)(e(n,o)))},n):("number"==typeof t&&(n=t),(0,o.e)(function(t,r){return function(e,t,n,r,o,s,u,c){var l=[],h=0,f=0,d=!1,p=function(){d&&!l.length&&!h&&t.complete()},v=function e(o){h++;var s=!1;(0,i.Xf)(n(o,f++)).subscribe(new a.Q(t,function(e){t.next(e)},function(){s=!0},void 0,function(){if(s)try{for(h--;l.length&&h<r;){var n=l.shift();e(n)}p()}catch(n){t.error(n)}}))};return e.subscribe(new a.Q(t,function(e){return h<r?v(e):l.push(e)},function(){d=!0,p()})),function(){}}(t,r,e,n)}))}},7513:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(6903),i=n(2085),o=n(8499);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,i.e)(function(n,i){n.subscribe(new o.Q(i,function(n){return(0,r.f)(i,e,function(){return i.next(n)},t)},function(){return(0,r.f)(i,e,function(){return i.complete()},t)},function(n){return(0,r.f)(i,e,function(){return i.error(n)},t)}))})}},815:function(e,t,n){"use strict";n.d(t,{B:function(){return u}});var r=n(8169),i=n(5598),o=n(9359),a=n(5756),s=n(2085);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connector,n=void 0===t?function(){return new o.x}:t,i=e.resetOnError,u=void 0===i||i,l=e.resetOnComplete,h=void 0===l||l,f=e.resetOnRefCountZero,d=void 0===f||f;return function(e){var t=null,i=null,o=null,l=0,f=!1,p=!1,v=function(){null==i||i.unsubscribe(),i=null},g=function(){v(),t=o=null,f=p=!1},m=function(){var e=t;g(),null==e||e.unsubscribe()};return(0,s.e)(function(e,s){l++,!p&&!f&&v();var y=o=null!=o?o:n();s.add(function(){0===--l&&!p&&!f&&(i=c(m,d))}),y.subscribe(s),t||(t=new a.Hp({next:function(e){return y.next(e)},error:function(e){p=!0,v(),i=c(g,u,e),y.error(e)},complete:function(){f=!0,v(),i=c(g,h),y.complete()}}),(0,r.D)(e).subscribe(t))})(e)}}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return!0===t?(e(),null):!1===t?null:t.apply(void 0,r).pipe((0,i.q)(1)).subscribe(function(){return e()})}},4119:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(2085);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,r.e)(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}},5598:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(9018),i=n(2085),o=n(8499);function a(e){return e<=0?function(){return r.E}:(0,i.e)(function(t,n){var r=0;t.subscribe(new o.Q(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}},8168:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var r=n(5975),i=n(2085),o=n(8499),a=n(8330);function s(e,t,n){var s=(0,r.m)(e)||t||n?{next:e,error:t,complete:n}:e;return s?(0,i.e)(function(e,t){var n;null===(n=s.subscribe)||void 0===n||n.call(s);var r=!0;e.subscribe(new o.Q(t,function(e){var n;null===(n=s.next)||void 0===n||n.call(s,e),t.next(e)},function(){var e;r=!1,null===(e=s.complete)||void 0===e||e.call(s),t.complete()},function(e){var n;r=!1,null===(n=s.error)||void 0===n||n.call(s,e),t.error(e)},function(){var e,t;r&&(null===(e=s.unsubscribe)||void 0===e||e.call(s)),null===(t=s.finalize)||void 0===t||t.call(s)}))}):a.y}},4415:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var r=function(e){p(n,e);var t=v(n);function n(e,r){return d(this,n),t.call(this)}return f(n,[{key:"schedule",value:function(e){return this}}]),n}(n(9593).w0),o={setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=o.delegate;return((null==e?void 0:e.setInterval)||setInterval).apply(void 0,arguments)}),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=o.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)}),delegate:void 0},a=n(8308),s=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return f(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o.setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=n&&this.delay===n&&!1===this.pending)return t;o.clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}},{key:"unsubscribe",value:function(){if(!this.closed){var e=this.id,t=this.scheduler,r=t.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,i(b(n.prototype),"unsubscribe",this).call(this)}}}]),n}(r)},2994:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(2069),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;d(this,e),this.schedulerActionCtor=t,this.now=n}return f(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,e).schedule(n,t)}}]),e}();i.now=r.l.now;var o=function(e){p(n,e);var t=v(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.now;return d(this,n),(r=t.call(this,e,o)).actions=[],r._active=!1,r._scheduled=void 0,r}return f(n,[{key:"flush",value:function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(i)},6523:function(e,t,n){"use strict";n.d(t,{z:function(){return i},P:function(){return o}});var r=n(4415),i=new(n(2994).v)(r.o),o=i},2069:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},4146:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r={setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=r.delegate;return((null==e?void 0:e.setTimeout)||setTimeout).apply(void 0,arguments)}),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=r.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)}),delegate:void 0}},4565:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},3122:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},6651:function(e,t,n){"use strict";n.d(t,{jO:function(){return a},yG:function(){return s},_6:function(){return u}});var r=n(5975),i=n(1830);function o(e){return e[e.length-1]}function a(e){return(0,r.m)(o(e))?e.pop():void 0}function s(e){return(0,i.K)(o(e))?e.pop():void 0}function u(e,t){return"number"==typeof o(e)?e.pop():t}},8308:function(e,t,n){"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:function(){return r}})},5776:function(e,t,n){"use strict";function r(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:function(){return r}})},1519:function(e,t,n){"use strict";n.d(t,{x:function(){return o},O:function(){return a}});var r=n(2046),i=null;function o(e){if(r.v.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var n=i,o=n.errorThrown,a=n.error;if(i=null,o)throw a}}else e()}function a(e){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},6903:function(e,t,n){"use strict";function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}n.d(t,{f:function(){return r}})},8330:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},6602:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},2604:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(5975);function i(e){return Symbol.asyncIterator&&(0,r.m)(null==e?void 0:e[Symbol.asyncIterator])}},5975:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},2021:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(3122),i=n(5975);function o(e){return(0,i.m)(e[r.L])}},6920:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(4565),i=n(5975);function o(e){return(0,i.m)(null==e?void 0:e[r.h])}},9450:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(5975);function i(e){return(0,r.m)(null==e?void 0:e.then)}},1559:function(e,t,n){"use strict";n.d(t,{Q:function(){return o},L:function(){return a}});var r=n(4762),i=n(5975);function o(e){return(0,r.FC)(this,arguments,regeneratorRuntime.mark(function t(){var n,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.getReader(),t.prev=1;case 2:return t.next=4,(0,r.qq)(n.read());case 4:if(i=t.sent,o=i.value,!i.done){t.next=11;break}return t.next=10,(0,r.qq)(void 0);case 10:return t.abrupt("return",t.sent);case 11:return t.next=13,(0,r.qq)(o);case 13:return t.next=15,t.sent;case 15:t.next=2;break;case 17:return t.prev=17,n.releaseLock(),t.finish(17);case 20:case"end":return t.stop()}},t,null,[[1,,17,20]])}))}function a(e){return(0,i.m)(null==e?void 0:e.getReader)}},1830:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(5975);function i(e){return e&&(0,r.m)(e.schedule)}},2085:function(e,t,n){"use strict";n.d(t,{A:function(){return i},e:function(){return o}});var r=n(5975);function i(e){return(0,r.m)(null==e?void 0:e.lift)}function o(e){return function(t){if(i(t))return t.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}},408:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},7824:function(e,t,n){"use strict";n.d(t,{z:function(){return i},U:function(){return o}});var r=n(8330);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}},4922:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(2046),i=n(4146);function o(e){i.z.setTimeout(function(){var t=r.v.onUnhandledError;if(!t)throw e;t(e)})}},5626:function(e,t,n){"use strict";function r(e){return new TypeError("You provided ".concat(null!==e&&"object"==typeof e?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}n.d(t,{z:function(){return r}})},2058:function(n,r,o){"use strict";var s=o(7716),c=null;function l(){return c}var h=new s.OlP("DocumentToken"),y=function(){var e=function(){function e(){d(this,e)}return f(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,s.Yz7)({factory:_,token:e,providedIn:"platform"}),e}();function _(){return(0,s.LFG)(x)}var w=new s.OlP("Location Initialized"),x=function(){var e=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this))._doc=e,r._init(),r}return f(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return l().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){var t=l().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),function(){return t.removeEventListener("popstate",e)}}},{key:"onHashChange",value:function(e){var t=l().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),function(){return t.removeEventListener("hashchange",e)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){S()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){S()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(e)}},{key:"getState",value:function(){return this._history.state}}]),n}(y);return e.\u0275fac=function(t){return new(t||e)(s.LFG(h))},e.\u0275prov=(0,s.Yz7)({factory:T,token:e,providedIn:"platform"}),e}();function S(){return!!window.history.pushState}function T(){return new x((0,s.LFG)(h))}function E(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function C(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function I(e){return e&&"?"!==e[0]?"?"+e:e}var R=function(){var e=function(){function e(){d(this,e)}return f(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,s.Yz7)({factory:A,token:e,providedIn:"root"}),e}();function A(e){var t=(0,s.LFG)(h).location;return new P((0,s.LFG)(y),t&&t.origin||"")}var O=new s.OlP("appBaseHref"),P=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r){var i;if(d(this,n),(i=t.call(this))._platformLocation=e,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,g(i)}return f(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return E(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+I(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+I(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+I(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(s.LFG(y),s.LFG(O,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),N=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return f(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=E(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+I(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+I(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(s.LFG(y),s.LFG(O,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),D=function(){var e=function(){function e(t,n){var r=this;d(this,e),this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=C(F(i)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return f(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+I(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,F(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+I(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+I(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformStrategy).historyGo)||void 0===t||t.call(e,n)}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(R),s.LFG(y))},e.normalizeQueryParams=I,e.joinWithSlash=E,e.stripTrailingSlash=C,e.\u0275prov=(0,s.Yz7)({factory:L,token:e,providedIn:"root"}),e}();function L(){return new D((0,s.LFG)(R),(0,s.LFG)(y))}function F(e){return e.replace(/\/index.html$/,"")}var M=((M=M||{})[M.Zero=0]="Zero",M[M.One=1]="One",M[M.Two=2]="Two",M[M.Few=3]="Few",M[M.Many=4]="Many",M[M.Other=5]="Other",M),U=s.kL8,j=f(function e(){d(this,e)}),V=function(){var e=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).locale=e,r}return f(n,[{key:"getPluralCategory",value:function(e,t){switch(U(t||this.locale)(e)){case M.Zero:return"zero";case M.One:return"one";case M.Two:return"two";case M.Few:return"few";case M.Many:return"many";default:return"other"}}}]),n}(j);return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.soG))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}();function q(e,n){n=encodeURIComponent(n);var r,i=u(e.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.indexOf("="),s=t(-1==a?[o,""]:[o.slice(0,a),o.slice(a+1)],2),c=s[0],l=s[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(h){i.e(h)}finally{i.f()}return null}var B=function(){var e=function(){function e(t,n,r,i){d(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return f(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat((0,s.AaK)(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},e.\u0275dir=s.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),z=function(){var e=function(){function e(t,n){d(this,e),this._viewContainer=t,this._context=new Z,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return f(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){H("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){H("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.s_b),s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),Z=f(function e(){d(this,e),this.$implicit=null,this.ngIf=null});function H(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat((0,s.AaK)(t),"'."))}var G=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[{provide:j,useClass:V}]}),e}();function K(e){return"server"===e}var W=function(){var e=f(function e(){d(this,e)});return e.\u0275prov=(0,s.Yz7)({token:e,providedIn:"root",factory:function(){return new Q((0,s.LFG)(h),window)}}),e}(),Q=function(){function e(t,n){d(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return f(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var a=o.getElementById(t)||o.querySelector('[name="'.concat(t,'"]'));if(a)return a}i=r.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=Y(this.window.history)||Y(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function Y(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var J,X=f(function e(){d(this,e)}),$=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=(ee=ee||document.querySelector("base"))?ee.getAttribute("href"):null;return null==t?null:function(e){(J=J||document.createElement("a")).setAttribute("href",e);var t=J.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){ee=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return q(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,c||(c=e)}}]),n}(function(e){p(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).supportsDOMEvents=!0,e}return f(n)}(function(){return f(function e(){d(this,e)})}())),ee=null,te=new s.OlP("TRANSITION_ID"),ne=[{provide:s.ip1,useFactory:function(e,t,n){return function(){n.get(s.CZH).donePromise.then(function(){for(var n=l(),r=t.querySelectorAll('style[ng-transition="'.concat(e,'"]')),i=0;i<r.length;i++)n.remove(r[i])})}},deps:[te,h,s.zs3],multi:!0}],re=function(){function e(){d(this,e)}return f(e,[{key:"addToWindow",value:function(e){s.dqk.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.dqk.getAllAngularTestabilities=function(){return e.getAllTestabilities()},s.dqk.getAllAngularRootElements=function(){return e.getAllRootElements()},s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(function(e){var t=s.dqk.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?l().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){(0,s.VLi)(new e)}}]),e}(),ie=function(){var e=function(){function e(){d(this,e)}return f(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),oe=new s.OlP("EventManagerPlugins"),ae=function(){var e=function(){function e(t,n){var r=this;d(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return f(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(oe),s.LFG(s.R0b))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),se=function(){function e(t){d(this,e),this._doc=t}return f(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=l().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),ue=function(){var e=function(){function e(){d(this,e),this._stylesSet=new Set}return f(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),ce=function(){var e=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return f(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(le),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(le)})}}]),n}(ue);return e.\u0275fac=function(t){return new(t||e)(s.LFG(h))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}();function le(e){l().remove(e)}var he={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fe=/%COMP%/g;function de(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?de(e,i,n):(i=i.replace(fe,e),n.push(i))}return n}function pe(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var ve=function(){var e=function(){function e(t,n,r){d(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ge(t)}return f(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case s.ifc.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new me(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case s.ifc.ShadowDom:return new ye(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=de(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(ae),s.LFG(ce),s.LFG(s.AFp))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),ge=function(){function e(t){d(this,e),this.eventManager=t,this.data=Object.create(null)}return f(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(he[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=he[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=he[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,n,r&s.JOm.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pe(n)):this.eventManager.addEventListener(e,t,pe(n))}}]),e}(),me=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a;d(this,n),(a=t.call(this,e)).component=i;var s=de(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(fe,o+"-"+i.id),a.hostAttr=function(e){return"_nghost-%COMP%".replace(fe,e)}(o+"-"+i.id),a}return f(n,[{key:"applyToHost",value:function(e){i(b(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=i(b(n.prototype),"createElement",this).call(this,e,t);return i(b(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(ge),ye=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a;d(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=de(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return f(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return i(b(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return i(b(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return i(b(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(i(b(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(ge),ke=function(){var e=function(e){p(n,e);var t=v(n);function n(e){return d(this,n),t.call(this,e)}return f(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(se);return e.\u0275fac=function(t){return new(t||e)(s.LFG(h))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),_e=["alt","control","meta","shift"],we={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},be={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xe={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Se=function(){var e=function(e){p(n,e);var t=v(n);function n(e){return d(this,n),t.call(this,e)}return f(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return l().onAndCancel(e,i.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(_e.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&be.hasOwnProperty(t)&&(t=be[t]))}return we[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),_e.forEach(function(r){r!=n&&xe[r](e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(se);return e.\u0275fac=function(t){return new(t||e)(s.LFG(h))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Te=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,s.Yz7)({factory:function(){return(0,s.LFG)(Ee)},token:e,providedIn:"root"}),e}(),Ee=function(){var e=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this))._doc=e,r}return f(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case s.q3G.NONE:return t;case s.q3G.HTML:return(0,s.qzn)(t,"HTML")?(0,s.z3N)(t):(0,s.EiD)(this._doc,String(t)).toString();case s.q3G.STYLE:return(0,s.qzn)(t,"Style")?(0,s.z3N)(t):t;case s.q3G.SCRIPT:if((0,s.qzn)(t,"Script"))return(0,s.z3N)(t);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(t),(0,s.qzn)(t,"URL")?(0,s.z3N)(t):(0,s.mCW)(String(t));case s.q3G.RESOURCE_URL:if((0,s.qzn)(t,"ResourceURL"))return(0,s.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return(0,s.JVY)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return(0,s.L6k)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return(0,s.eBb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return(0,s.LAX)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return(0,s.pB0)(e)}}]),n}(Te);return e.\u0275fac=function(t){return new(t||e)(s.LFG(h))},e.\u0275prov=(0,s.Yz7)({factory:function(){return function(e){return new Ee(e.get(h))}((0,s.LFG)(s.gxx))},token:e,providedIn:"root"}),e}(),Ce=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function(){$.makeCurrent(),re.init()},multi:!0},{provide:h,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),Ie=[[],{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:oe,useClass:ke,multi:!0,deps:[h,s.R0b,s.Lbi]},{provide:oe,useClass:Se,multi:!0,deps:[h]},[],{provide:ve,useClass:ve,deps:[ae,ce,s.AFp]},{provide:s.FYo,useExisting:ve},{provide:ue,useExisting:ce},{provide:ce,useClass:ce,deps:[h]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:ae,useClass:ae,deps:[oe,s.R0b]},{provide:X,useClass:ie,deps:[]},[]],Re=function(){var e=function(){function e(t){if(d(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return f(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:s.AFp,useValue:t.appId},{provide:te,useExisting:s.AFp},ne]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(e,12))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:Ie,imports:[G,s.hGG]}),e}();"undefined"!=typeof window&&window;var Ae=o(8169),Oe=o(6651);function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,Oe.yG)(t);return(0,Ae.D)(t,r)}var Ne=o(9359),De=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this))._value=e,r}return f(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=i(b(n.prototype),"_subscribe",this).call(this,e);return!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n}},{key:"next",value:function(e){i(b(n.prototype),"next",this).call(this,this._value=e)}}]),n}(Ne.x),Le=o(7241),Fe=Array.isArray,Me=Object.getPrototypeOf,Ue=Object.prototype,je=Object.keys;function Ve(e){if(1===e.length){var t=e[0];if(Fe(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&Me(e)===Ue}(t)){var n=je(t);return{args:n.map(function(e){return t[e]}),keys:n}}}return{args:e,keys:null}}var qe=o(8330),Be=o(7969),ze=Array.isArray;function Ze(e){return(0,Be.U)(function(t){return function(e,t){return ze(t)?e.apply(void 0,a(t)):e(t)}(e,t)})}function He(e,t){return e.reduce(function(e,n,r){return e[n]=t[r],e},{})}var Ge=o(8499),Ke=o(6903);function We(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,Oe.yG)(t),i=(0,Oe.jO)(t),o=Ve(t),a=o.args,s=o.keys;if(0===a.length)return(0,Ae.D)([],r);var u=new Le.y(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe.y;return function(r){Qe(t,function(){for(var i=e.length,o=new Array(i),a=i,s=i,u=function(i){Qe(t,function(){var u=(0,Ae.D)(e[i],t),c=!1;u.subscribe(new Ge.Q(r,function(e){o[i]=e,c||(c=!0,s--),s||r.next(n(o.slice()))},function(){--a||r.complete()}))},r)},c=0;c<i;c++)u(c)},r)}}(a,r,s?function(e){return He(s,e)}:qe.y));return i?u.pipe(Ze(i)):u}function Qe(e,t,n){e?(0,Ke.f)(n,e,t):t()}var Ye=(0,o(5776).d)(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}),Je=o(549);function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Je.J)(1)((0,Ae.D)(t,(0,Oe.yG)(t)))}var $e=o(5955);function et(e){return new Le.y(function(t){(0,$e.Xf)(e()).subscribe(t)})}var tt=o(9018),nt=o(9593),rt=o(2085);function it(){return(0,rt.e)(function(e,t){var n=null;e._refCount++;var r=new Ge.Q(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount)n=null;else{var r=e._connection,i=n;n=null,r&&(!i||r===i)&&r.unsubscribe(),t.unsubscribe()}});e.subscribe(r),r.closed||(n=e.connect())})}var ot=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,(0,rt.A)(e)&&(i.lift=e.lift),i}return f(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()}},{key:"connect",value:function(){var e=this,t=this._connection;if(!t){t=this._connection=new nt.w0;var n=this.getSubject();t.add(this.source.subscribe(new Ge.Q(n,void 0,function(){e._teardown(),n.complete()},function(t){e._teardown(),n.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=nt.w0.EMPTY)}return t}},{key:"refCount",value:function(){return it()(this)}}]),n}(Le.y);function at(e,t){return(0,rt.e)(function(n,r){var i=null,o=0,a=!1,s=function(){return a&&!i&&r.complete()};n.subscribe(new Ge.Q(r,function(n){null==i||i.unsubscribe();var a=0,u=o++;(0,$e.Xf)(e(n,u)).subscribe(i=new Ge.Q(r,function(e){return r.next(t?t(n,e,u,a++):e)},function(){i=null,s()}))},function(){a=!0,s()}))})}var st=o(5598);function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,Oe.yG)(t);return(0,rt.e)(function(e,n){(r?Xe(t,e,r):Xe(t,e)).subscribe(n)})}function ct(e,t,n,r,i){return function(o,a){var s=n,u=t,c=0;o.subscribe(new Ge.Q(a,function(t){var n=c++;u=s?e(u,t,n):(s=!0,t),r&&a.next(u)},i&&function(){s&&a.next(u),a.complete()}))}}function lt(e,t){return(0,rt.e)(ct(e,t,arguments.length>=2,!0))}function ht(e,t){return(0,rt.e)(function(n,r){var i=0;n.subscribe(new Ge.Q(r,function(n){return e.call(t,n,i++)&&r.next(n)}))})}function ft(e){return(0,rt.e)(function(t,n){var r,i=null,o=!1;i=t.subscribe(new Ge.Q(n,void 0,void 0,function(a){r=(0,$e.Xf)(e(a,ft(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):o=!0})),o&&(i.unsubscribe(),i=null,r.subscribe(n))})}var dt=o(3159),pt=o(5975);function vt(e,t){return(0,pt.m)(t)?(0,dt.z)(e,t,1):(0,dt.z)(e,1)}function gt(e){return e<=0?function(){return tt.E}:(0,rt.e)(function(t,n){var r=[];t.subscribe(new Ge.Q(n,function(t){r.push(t),e<r.length&&r.shift()},function(){var e,t=u(r);try{for(t.s();!(e=t.n()).done;){var i=e.value;n.next(i)}}catch(o){t.e(o)}finally{t.f()}n.complete()},void 0,function(){r=null}))})}function mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;return(0,rt.e)(function(t,n){var r=!1;t.subscribe(new Ge.Q(n,function(e){r=!0,n.next(e)},function(){return r?n.complete():n.error(e())}))})}function yt(){return new Ye}function kt(e){return(0,rt.e)(function(t,n){var r=!1;t.subscribe(new Ge.Q(n,function(e){r=!0,n.next(e)},function(){r||n.next(e),n.complete()}))})}function _t(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ht(function(t,n){return e(t,n,r)}):qe.y,(0,st.q)(1),n?kt(t):mt(function(){return new Ye}))}}var wt=o(8168);function bt(e){return(0,rt.e)(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}var xt=f(function e(t,n){d(this,e),this.id=t,this.url=n}),St=function(e){p(n,e);var t=v(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return f(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(xt),Tt=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return f(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(xt),Et=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r)).reason=i,o}return f(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(xt),Ct=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r)).error=i,o}return f(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(xt),It=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return f(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(xt),Rt=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return f(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(xt),At=function(e){p(n,e);var t=v(n);function n(e,r,i,o,a){var s;return d(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return f(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(xt),Ot=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return f(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(xt),Pt=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return f(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(xt),Nt=function(){function e(t){d(this,e),this.route=t}return f(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Dt=function(){function e(t){d(this,e),this.route=t}return f(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Lt=function(){function e(t){d(this,e),this.snapshot=t}return f(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ft=function(){function e(t){d(this,e),this.snapshot=t}return f(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Mt=function(){function e(t){d(this,e),this.snapshot=t}return f(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ut=function(){function e(t){d(this,e),this.snapshot=t}return f(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),jt=function(){function e(t,n,r){d(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return f(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Vt="primary",qt=function(){function e(t){d(this,e),this.params=t||{}}return f(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Bt(e){return new qt(e)}var zt="ngNavigationCancelingError";function Zt(e){var t=Error("NavigationCancelingError: "+e);return t[zt]=!0,t}function Ht(e,t,n){var r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Gt(e,t){var n,r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Kt(e[n=r[o]],t[n]))return!1;return!0}function Kt(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=a(e).sort(),r=a(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function Wt(e){return Array.prototype.concat.apply([],e)}function Qt(e){return e.length>0?e[e.length-1]:null}function Yt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Jt(e){return(0,s.CqO)(e)?e:(0,s.QGY)(e)?(0,Ae.D)(Promise.resolve(e)):Pe(e)}var Xt={exact:function e(t,n,r){if(!un(t.segments,n.segments)||!rn(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children)if(!t.children[i]||!e(t.children[i],n.children[i],r))return!1;return!0},subset:tn},$t={exact:function(e,t){return Gt(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return Kt(e[n],t[n])})},ignored:function(){return!0}};function en(e,t,n){return Xt[n.paths](e.root,t.root,n.matrixParams)&&$t[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function tn(e,t,n){return nn(e,t,t.segments,n)}function nn(e,t,n,r){if(e.segments.length>n.length){var i=e.segments.slice(0,n.length);return!(!un(i,n)||t.hasChildren()||!rn(i,n,r))}if(e.segments.length===n.length){if(!un(e.segments,n)||!rn(e.segments,n,r))return!1;for(var o in t.children)if(!e.children[o]||!tn(e.children[o],t.children[o],r))return!1;return!0}var a=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(un(e.segments,a)&&rn(e.segments,a,r)&&e.children[Vt])&&nn(e.children[Vt],t,s,r)}function rn(e,t,n){return t.every(function(t,r){return $t[n](e[r].parameters,t.parameters)})}var on=function(){function e(t,n,r){d(this,e),this.root=t,this.queryParams=n,this.fragment=r}return f(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Bt(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return hn.serialize(this)}}]),e}(),an=function(){function e(t,n){var r=this;d(this,e),this.segments=t,this.children=n,this.parent=null,Yt(n,function(e,t){return e.parent=r})}return f(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return fn(this)}}]),e}(),sn=function(){function e(t,n){d(this,e),this.path=t,this.parameters=n}return f(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Bt(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return kn(this)}}]),e}();function un(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var cn=f(function e(){d(this,e)}),ln=function(){function e(){d(this,e)}return f(e,[{key:"parse",value:function(e){var t=new Sn(e);return new on(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t;return"".concat("/".concat(dn(e.root,!0)),function(e){var t=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(vn(t),"=").concat(vn(e))}).join("&"):"".concat(vn(t),"=").concat(vn(n))}).filter(function(e){return!!e});return t.length?"?".concat(t.join("&")):""}(e.queryParams)).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),hn=new ln;function fn(e){return e.segments.map(function(e){return kn(e)}).join("/")}function dn(e,t){if(!e.hasChildren())return fn(e);if(t){var n=e.children[Vt]?dn(e.children[Vt],!1):"",r=[];return Yt(e.children,function(e,t){t!==Vt&&r.push("".concat(t,":").concat(dn(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return Yt(e.children,function(e,r){r===Vt&&(n=n.concat(t(e,r)))}),Yt(e.children,function(e,r){r!==Vt&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return n===Vt?[dn(e.children[Vt],!1)]:["".concat(n,":").concat(dn(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children[Vt]?"".concat(fn(e),"/").concat(i[0]):"".concat(fn(e),"/(").concat(i.join("//"),")")}function pn(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vn(e){return pn(e).replace(/%3B/gi,";")}function gn(e){return pn(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mn(e){return decodeURIComponent(e)}function yn(e){return mn(e.replace(/\+/g,"%20"))}function kn(e){return"".concat(gn(e.path)).concat(function(e){return Object.keys(e).map(function(t){return";".concat(gn(t),"=").concat(gn(e[t]))}).join("")}(e.parameters))}var _n=/^[^\/()?;=#]+/;function wn(e){var t=e.match(_n);return t?t[0]:""}var bn=/^[^=?&#]+/,xn=/^[^?&#]+/,Sn=function(){function e(t){d(this,e),this.url=t,this.remaining=t}return f(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Vt]=new an(e,t)),n}},{key:"parseSegment",value:function(){var e=wn(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new sn(mn(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=wn(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=wn(this.remaining);r&&(n=r,this.capture(n))}e[mn(t)]=mn(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(bn);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(xn);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=yn(t),o=yn(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=wn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Vt);var o=this.parseChildren();t[i]=1===Object.keys(o).length?o[Vt]:new an([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Tn=function(){function e(t){d(this,e),this._root=t}return f(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=En(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=En(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Cn(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return Cn(e,this._root).map(function(e){return e.value})}}]),e}();function En(e,t){if(e===t.value)return t;var n,r=u(t.children);try{for(r.s();!(n=r.n()).done;){var i=En(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Cn(e,t){if(e===t.value)return[t];var n,r=u(t.children);try{for(r.s();!(n=r.n()).done;){var i=Cn(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var In=function(){function e(t,n){d(this,e),this.value=t,this.children=n}return f(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Rn(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var An=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).snapshot=r,Fn(m(i),e),i}return f(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Tn);function On(e,t){var n=function(e,t){var n=new Dn([],{},{},"",{},Vt,t,null,e.root,-1,{});return new Ln("",new In(n,[]))}(e,t),r=new De([new sn("",{})]),i=new De({}),o=new De({}),a=new De({}),s=new De(""),u=new Pn(r,i,a,s,o,Vt,t,n.root);return u.snapshot=n.root,new An(new In(u,[]),n)}var Pn=function(){function e(t,n,r,i,o,a,s,u){d(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return f(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe((0,Be.U)(function(e){return Bt(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Be.U)(function(e){return Bt(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function Nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Dn=function(){function e(t,n,r,i,o,a,s,u,c,l,h){d(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return f(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Bt(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Bt(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),Ln=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,r)).url=e,Fn(m(i),r),i}return f(n,[{key:"toString",value:function(){return Mn(this._root)}}]),n}(Tn);function Fn(e,t){t.value._routerState=e,t.children.forEach(function(t){return Fn(e,t)})}function Mn(e){var t=e.children.length>0?" { ".concat(e.children.map(Mn).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Un(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Gt(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Gt(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Gt(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Gt(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function jn(e,t){return Gt(e.params,t.params)&&function(e,t){return un(e,t)&&e.every(function(e,n){return Gt(e.parameters,t[n].parameters)})}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||jn(e.parent,t.parent))}function Vn(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var i=function(e,t,n){return t.children.map(function(t){var r,i=u(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(e.shouldReuseRoute(t.value,o.value.snapshot))return Vn(e,t,o)}}catch(a){i.e(a)}finally{i.f()}return Vn(e,t)})}(e,t,n);return new In(r,i)}if(e.shouldAttach(t.value)){var o=e.retrieve(t.value);if(null!==o){var a=o.route;return qn(t,a),a}}var s=function(e){return new Pn(new De(e.url),new De(e.params),new De(e.queryParams),new De(e.fragment),new De(e.data),e.outlet,e.component,e)}(t.value),c=t.children.map(function(t){return Vn(e,t)});return new In(s,c)}function qn(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)qn(e.children[n],t.children[n])}function Bn(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zn(e){return"object"==typeof e&&null!=e&&e.outlets}function Zn(e,t,n,r,i){var o={};return r&&Yt(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new on(n.root===e?t:Hn(n.root,e,t),o,i)}function Hn(e,t,n){var r={};return Yt(e.children,function(e,i){r[i]=e===t?n:Hn(e,t,n)}),new an(e.segments,r)}var Gn=function(){function e(t,n,r){if(d(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Bn(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(zn);if(i&&i!==Qt(r))throw new Error("{outlets:{}} has to be the last command")}return f(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Kn=f(function e(t,n,r){d(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r});function Wn(e,t,n){if(e||(e=new an([],{})),0===e.segments.length&&e.hasChildren())return Qn(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=n[r];if(zn(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!$n(u,c,a))return o;r+=2}else{if(!$n(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new an(e.segments.slice(0,r.pathIndex),{});return o.children[Vt]=new an(e.segments.slice(r.pathIndex),e.children),Qn(o,0,i)}return r.match&&0===i.length?new an(e.segments,{}):r.match&&!e.hasChildren()?Yn(e,t,n):r.match?Qn(e,0,i):Yn(e,t,n)}function Qn(t,n,r){if(0===r.length)return new an(t.segments,{});var i=function(t){return zn(t[0])?t[0].outlets:e({},Vt,t)}(r),o={};return Yt(i,function(e,r){"string"==typeof e&&(e=[e]),null!==e&&(o[r]=Wn(t.children[r],n,e))}),Yt(t.children,function(e,t){void 0===i[t]&&(o[t]=e)}),new an(t.segments,o)}function Yn(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var o=n[i];if(zn(o)){var a=Jn(o.outlets);return new an(r,a)}if(0===i&&Bn(n[0]))r.push(new sn(e.segments[t].path,Xn(n[0]))),i++;else{var s=zn(o)?o.outlets[Vt]:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&Bn(u)?(r.push(new sn(s,Xn(u))),i+=2):(r.push(new sn(s,{})),i++)}}return new an(r,{})}function Jn(e){var t={};return Yt(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Yn(new an([],{}),0,e))}),t}function Xn(e){var t={};return Yt(e,function(e,n){return t[n]="".concat(e)}),t}function $n(e,t,n){return e==n.path&&Gt(t,n.parameters)}var er=function(){function e(t,n,r,i){d(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return f(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Un(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Rn(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),Yt(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Rn(e),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Rn(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Ut(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Ft(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Un(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),tr(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function tr(e){Un(e.value),e.children.forEach(tr)}var nr=f(function e(t,n){d(this,e),this.routes=t,this.module=n});function rr(e){return"function"==typeof e}function ir(e){return e instanceof on}var or=Symbol("INITIAL_VALUE");function ar(){return at(function(e){return We(e.map(function(e){return e.pipe((0,st.q)(1),ut(or))})).pipe(lt(function(e,t){var n=!1;return t.reduce(function(e,r,i){return e!==or?e:(r===or&&(n=!0),n||!1!==r&&i!==t.length-1&&!ir(r)?e:r)},e)},or),ht(function(e){return e!==or}),(0,Be.U)(function(e){return ir(e)?e:!0===e}),(0,st.q)(1))})}var sr=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"router-outlet")},directives:function(){return[ri]},encapsulation:2}),e}();function ur(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];cr(r,lr(t,r))}}function cr(e,t){e.children&&ur(e.children,t)}function lr(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function hr(e){var t=e.children&&e.children.map(hr),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Vt&&(n.component=sr),n}function fr(e){return e.outlet||Vt}function dr(e,t){var n=e.filter(function(e){return fr(e)===t});return n.push.apply(n,a(e.filter(function(e){return fr(e)!==t}))),n}var pr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function vr(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},pr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||Ht)(n,e,t);if(!i)return Object.assign({},pr);var o={};Yt(i.posParams,function(e,t){o[t]=e.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function gr(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return mr(e,t,n)&&fr(n)!==Vt})}(e,n,r)){var o=new an(t,function(e,t,n,r){var i={};i[Vt]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=u(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&fr(s)!==Vt){var c=new an([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,i[fr(s)]=c}}}catch(l){a.e(l)}finally{a.f()}return i}(e,t,r,new an(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return mr(e,t,n)})}(e,n,r)){var a=new an(e.segments,function(e,t,n,r,i,o){var a,s={},c=u(r);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(mr(e,n,l)&&!i[fr(l)]){var h=new an([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[fr(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new an(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function mr(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function yr(e,t,n,r){return!!(fr(e)===r||r!==Vt&&mr(t,n,e))&&("**"===e.path||vr(t,e,n).matched)}function kr(e,t,n){return 0===t.length&&!e.children[n]}var _r=f(function e(t){d(this,e),this.segmentGroup=t||null}),wr=f(function e(t){d(this,e),this.urlTree=t});function br(e){return new Le.y(function(t){return t.error(new _r(e))})}function xr(e){return new Le.y(function(t){return t.error(new wr(e))})}function Sr(e){return new Le.y(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var Tr=function(){function t(e,n,r,i,o){d(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(s.h0i)}return f(t,[{key:"apply",value:function(){var e=this,t=gr(this.urlTree.root,[],[],this.config).segmentGroup,n=new an(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Vt).pipe((0,Be.U)(function(t){return e.createUrlTree(Er(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(ft(function(t){if(t instanceof wr)return e.allowRedirects=!1,e.match(t.urlTree);throw t instanceof _r?e.noMatchError(t):t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Vt).pipe((0,Be.U)(function(n){return t.createUrlTree(Er(n),e.queryParams,e.fragment)})).pipe(ft(function(e){throw e instanceof _r?t.noMatchError(e):e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,n,r){var i=t.segments.length>0?new an([],e({},Vt,t)):t;return new on(i,n,r)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,Be.U)(function(e){return new an([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return(0,Ae.D)(i).pipe(vt(function(i){var o=n.children[i],a=dr(t,i);return r.expandSegmentGroup(e,a,o,i).pipe((0,Be.U)(function(e){return{segment:e,outlet:i}}))}),lt(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?ht(function(t,n){return e(t,n,r)}):qe.y,gt(1),n?kt(t):mt(function(){return new Ye}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return(0,Ae.D)(n).pipe(vt(function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(ft(function(e){if(e instanceof _r)return Pe(null);throw e}))}),_t(function(e){return!!e}),ft(function(e,n){if(e instanceof Ye||"EmptyError"===e.name){if(kr(t,r,i))return Pe(new an([],{}));throw new _r(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return yr(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):br(t):br(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?xr(o):this.lineralizeSegments(n,o).pipe((0,dt.z)(function(n){var o=new an(n,{});return i.expandSegment(e,o,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=vr(t,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return br(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?xr(f):this.lineralizeSegments(r,f).pipe((0,dt.z)(function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Pe(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,Be.U)(function(e){return n._loadedConfig=e,new an(r,{})})):Pe(new an(r,{}));var a=vr(t,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return br(t);var l=r.slice(c);return this.getChildConfig(e,n,r).pipe((0,dt.z)(function(e){var r=e.module,a=e.routes,s=gr(t,u,l,a),c=s.segmentGroup,h=s.slicedSegments,f=new an(c.segments,c.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe((0,Be.U)(function(e){return new an(u,e)}));if(0===a.length&&0===h.length)return Pe(new an(u,{}));var d=fr(n)===i;return o.expandSegment(r,f,a,h,d?Vt:i,!0).pipe((0,Be.U)(function(e){return new an(u.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Pe(new nr(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Pe(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,dt.z)(function(n){return n?r.configLoader.load(e.injector,t).pipe((0,Be.U)(function(e){return t._loadedConfig=e,e})):(i=t,new Le.y(function(e){return e.error(Zt("Cannot load children because the guard of the route \"path: '".concat(i.path,"'\" returned false")))}));var i})):Pe(new nr([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;return i&&0!==i.length?Pe(i.map(function(r){var i,o,a=e.get(r);if((o=a)&&rr(o.canLoad))i=a.canLoad(t,n);else{if(!rr(a))throw new Error("Invalid CanLoad guard");i=a(t,n)}return Jt(i)})).pipe(ar(),(0,wt.b)(function(e){if(ir(e)){var t=Zt('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),(0,Be.U)(function(e){return!0===e})):Pe(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Pe(n);if(r.numberOfChildren>1||!r.children[Vt])return Sr(e.redirectTo);r=r.children[Vt]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new on(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Yt(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Yt(t.children,function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)}),new an(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=u(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),t}();function Er(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],o=Er(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(e){if(1===e.numberOfChildren&&e.children[Vt]){var t=e.children[Vt];return new an(e.segments.concat(t.segments),t.children)}return e}(new an(e.segments,t))}var Cr=f(function e(t){d(this,e),this.path=t,this.route=this.path[this.path.length-1]}),Ir=f(function e(t,n){d(this,e),this.component=t,this.route=n});function Rr(e,t,n){var r=e._root;return Or(r,t?t._root:null,n,[r.value])}function Ar(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Or(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Rn(t);return e.children.forEach(function(e){(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!un(e.url,t.url);case"pathParamsOrQueryParamsChange":return!un(e.url,t.url)||!Gt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jn(e,t)||!Gt(e.queryParams,t.queryParams);case"paramsChange":default:return!jn(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cr(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Or(e,t,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Ir(s.outlet.component,a))}else a&&Pr(t,s,i),i.canActivateChecks.push(new Cr(r)),Or(e,null,o.component?s?s.children:null:n,r,i)})(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),Yt(o,function(e,t){return Pr(e,n.getContext(t),i)}),i}function Pr(e,t,n){var r=Rn(e),i=e.value;Yt(r,function(e,r){Pr(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Ir(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Nr=f(function e(){d(this,e)});function Dr(e){return new Le.y(function(t){return t.error(e)})}var Lr=function(){function e(t,n,r,i,o,a){d(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return f(e,[{key:"recognize",value:function(){var e=gr(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Vt);if(null===t)return null;var n=new Dn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new In(n,t),i=new Ln(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Nn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,i=Object.keys(t.children);r<i.length;r++){var o=i[r],s=t.children[o],u=dr(e,o),c=this.processSegmentGroup(u,s,o);if(null===c)return null;n.push.apply(n,a(c))}var l=Fr(n);return l.sort(function(e,t){return e.value.outlet===Vt?-1:t.value.outlet===Vt?1:e.value.outlet.localeCompare(t.value.outlet)}),l}},{key:"processSegment",value:function(e,t,n,r){var i,o=u(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.processSegmentAgainstRoute(a,t,n,r);if(null!==s)return s}}catch(c){o.e(c)}finally{o.f()}return kr(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!yr(e,t,n,r))return null;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Qt(n).parameters:{};i=new Dn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(e),fr(e),e.component,e,Mr(t),Ur(t)+n.length,Vr(e))}else{var u=vr(t,e,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new Dn(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(e),fr(e),e.component,e,Mr(t),Ur(t)+o.length,Vr(e))}var c,l=(c=e).children?c.children:c.loadChildren?c._loadedConfig.routes:[],h=gr(t,o,a,l.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),f=h.segmentGroup,d=h.slicedSegments;if(0===d.length&&f.hasChildren()){var p=this.processChildren(l,f);return null===p?null:[new In(i,p)]}if(0===l.length&&0===d.length)return[new In(i,[])];var v=fr(e)===r,g=this.processSegment(l,f,d,v?Vt:r);return null===g?null:[new In(i,g)]}}]),e}();function Fr(e){var t,n=[],r=new Set,i=u(e);try{var o=function(){var e,i=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(i))return n.push(i),"continue";var o=n.find(function(e){return i.value.routeConfig===e.value.routeConfig});void 0!==o?((e=o.children).push.apply(e,a(i.children)),r.add(o)):n.push(i)};for(i.s();!(t=i.n()).done;)o()}catch(f){i.e(f)}finally{i.f()}var s,c=u(r);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=Fr(l.children);n.push(new In(l.value,h))}}catch(f){c.e(f)}finally{c.f()}return n.filter(function(e){return!r.has(e)})}function Mr(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Ur(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function jr(e){return e.data||{}}function Vr(e){return e.resolve||{}}function qr(e){return at(function(t){var n=e(t);return n?(0,Ae.D)(n).pipe((0,Be.U)(function(){return t})):Pe(t)})}var Br=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n)}(function(){function e(){d(this,e)}return f(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),zr=new s.OlP("ROUTES"),Zr=function(){function e(t,n,r,i){d(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return f(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe((0,Be.U)(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new nr(Wt(i.injector.get(zr,void 0,s.XFs.Self|s.XFs.Optional)).map(hr),i)}),ft(function(e){throw t._loader$=void 0,e}));return t._loader$=new ot(r,function(){return new Ne.x}).pipe(it()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?(0,Ae.D)(this.loader.load(e)):Jt(e()).pipe((0,dt.z)(function(e){return e instanceof s.YKP?Pe(e):(0,Ae.D)(t.compiler.compileModuleAsync(e))}))}}]),e}(),Hr=f(function e(){d(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Gr,this.attachRef=null}),Gr=function(){function e(){d(this,e),this.contexts=new Map}return f(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Hr,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Kr=function(){function e(){d(this,e)}return f(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Wr(e){throw e}function Qr(e,t,n){return t.parse("/")}function Yr(e,t){return Pe(null)}var Jr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$r=function(){var e=function(){function e(t,n,r,i,o,a,u,c){var l=this;d(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ne.x,this.errorHandler=Wr,this.malformedUriErrorHandler=Qr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yr,afterPreactivation:Yr},this.urlHandlingStrategy=new Kr,this.routeReuseStrategy=new Br,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(s.h0i),this.console=o.get(s.c2e);var h=o.get(s.R0b);this.isNgZoneEnabled=h instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new on(new an([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zr(a,u,function(e){return l.triggerEvent(new Nt(e))},function(e){return l.triggerEvent(new Dt(e))}),this.routerState=On(this.currentUrlTree,this.rootComponentType),this.transitions=new De({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return f(e,[{key:"browserPageId",get:function(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}},{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(ht(function(e){return 0!==e.id}),(0,Be.U)(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),at(function(e){var r=!1,i=!1;return Pe(e).pipe((0,wt.b)(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),at(function(e){var r=t.browserUrlTree.toString(),o=!t.navigated||e.extractedUrl.toString()!==r||r!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||o)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ei(e.source)&&(t.browserUrlTree=e.extractedUrl),Pe(e).pipe(at(function(e){var r=t.transitions.getValue();return n.next(new St(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?tt.E:Promise.resolve(e)}),function(e,t,n,r){return at(function(i){return function(e,t,n,r,i){return new Tr(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe((0,Be.U)(function(e){return Object.assign(Object.assign({},i),{urlAfterRedirects:e})}))})}(t.ngModule.injector,t.configLoader,t.urlSerializer,t.config),(0,wt.b)(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,o,a){return(0,dt.z)(function(r){return function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var s=new Lr(e,t,n,r,o,a).recognize();return null===s?Dr(new Nr):Pe(s)}catch(i){return Dr(i)}}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),o,a).pipe((0,Be.U)(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var s})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),(0,wt.b)(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,e),t.browserUrlTree=e.urlAfterRedirects);var r=new It(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(o&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var a=e.id,s=e.extractedUrl,u=e.source,c=e.restoredState,l=e.extras,h=new St(a,t.serializeUrl(s),u,c);n.next(h);var f=On(s,t.rootComponentType).snapshot;return Pe(Object.assign(Object.assign({},e),{targetSnapshot:f,urlAfterRedirects:s,extras:Object.assign(Object.assign({},l),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),tt.E}),qr(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),(0,wt.b)(function(e){var n=new Rt(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),(0,Be.U)(function(e){return Object.assign(Object.assign({},e),{guards:Rr(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return(0,dt.z)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Pe(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,Ae.D)(e).pipe((0,dt.z)(function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Pe(o.map(function(o){var a,s=Ar(o,t,i);if(function(e){return e&&rr(e.canDeactivate)}(s))a=Jt(s.canDeactivate(e,t,n,r));else{if(!rr(s))throw new Error("Invalid CanDeactivate guard");a=Jt(s(e,t,n,r))}return a.pipe(_t())})).pipe(ar()):Pe(!0)}(e.component,e.route,n,t,r)}),_t(function(e){return!0!==e},!0))}(s,r,i,e).pipe((0,dt.z)(function(n){return n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,Ae.D)(t).pipe(vt(function(t){return Xe(function(e,t){return null!==e&&t&&t(new Lt(e)),Pe(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Mt(e)),Pe(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return et(function(){return Pe(t.guards.map(function(i){var o,a=Ar(i,t.node,n);if(function(e){return e&&rr(e.canActivateChild)}(a))o=Jt(a.canActivateChild(r,e));else{if(!rr(a))throw new Error("Invalid CanActivateChild guard");o=Jt(a(r,e))}return o.pipe(_t())})).pipe(ar())})});return Pe(i).pipe(ar())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Pe(r.map(function(r){return et(function(){var i,o=Ar(r,t,n);if(function(e){return e&&rr(e.canActivate)}(o))i=Jt(o.canActivate(t,e));else{if(!rr(o))throw new Error("Invalid CanActivate guard");i=Jt(o(t,e))}return i.pipe(_t())})})).pipe(ar()):Pe(!0)}(e,t.route,n))}),_t(function(e){return!0!==e},!0))}(r,a,e,t):Pe(n)}),(0,Be.U)(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),(0,wt.b)(function(e){if(ir(e.guardsResult)){var n=Zt('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new At(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),ht(function(e){return!!e.guardsResult||(t.restoreHistory(e),t.cancelNavigationTransition(e,""),!1)}),qr(function(e){if(e.guards.canActivateChecks.length)return Pe(e).pipe((0,wt.b)(function(e){var n=new Ot(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),at(function(e){var n=!1;return Pe(e).pipe(function(e,t){return(0,dt.z)(function(n){var r=n.targetSnapshot,i=n.guards.canActivateChecks;if(!i.length)return Pe(n);var o=0;return(0,Ae.D)(i).pipe(vt(function(n){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Pe({});var o={};return(0,Ae.D)(i).pipe((0,dt.z)(function(i){return function(e,t,n,r){var i=Ar(e,t,r);return Jt(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,wt.b)(function(e){o[i]=e}))}),gt(1),(0,dt.z)(function(){return Object.keys(o).length===i.length?Pe(o):tt.E}))}(e._resolve,e,t,r).pipe((0,Be.U)(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Nn(e,n).resolve),null}))}(n.route,r,e,t)}),(0,wt.b)(function(){return o++}),gt(1),(0,dt.z)(function(e){return o===i.length?Pe(n):tt.E}))})}(t.paramsInheritanceStrategy,t.ngModule.injector),(0,wt.b)({next:function(){return n=!0},complete:function(){n||(t.restoreHistory(e),t.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),(0,wt.b)(function(e){var n=new Pt(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),qr(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),(0,Be.U)(function(e){var n=function(e,t,n){var r=Vn(e,t._root,n?n._root:void 0);return new An(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),(0,wt.b)(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,e),t.browserUrlTree=e.urlAfterRedirects)}),function(e,t,n){return(0,Be.U)(function(r){return new er(t,r.targetRouterState,r.currentRouterState,n).activate(e),r})}(t.rootContexts,t.routeReuseStrategy,function(e){return t.triggerEvent(e)}),(0,wt.b)({next:function(){r=!0},complete:function(){r=!0}}),bt(function(){var n;if(!r&&!i){var o="Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId);"replace"===t.canceledNavigationResolution?(t.restoreHistory(e),t.cancelNavigationTransition(e,o)):t.cancelNavigationTransition(e,o)}(null===(n=t.currentNavigation)||void 0===n?void 0:n.id)===e.id&&(t.currentNavigation=null)}),ft(function(r){if(i=!0,function(e){return e&&e[zt]}(r)){var o=ir(r.url);o||(t.navigated=!0,t.restoreHistory(e,!0));var a=new Et(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(a),o?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree),i={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ei(e.source)};t.scheduleNavigation(n,"imperative",null,i,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.restoreHistory(e,!0);var s=new Ct(e.id,t.serializeUrl(e.extractedUrl),r);n.next(s);try{e.resolve(t.errorHandler(r))}catch(a){e.reject(a)}}return tt.E}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(o.state=a)}e.scheduleNavigation(i,t,r,o)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){ur(e),this.config=e.map(hr),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.queryParamsHandling,s=t.preserveFragment,u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return Zn(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Gn(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Yt(r.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),[].concat(a(e),[{outlets:o}])}if(r.segmentPath)return[].concat(a(e),[r.segmentPath])}return"string"!=typeof r?[].concat(a(e),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(a(e),[r])},[]);return new Gn(n,t,r)}(n);if(o.toRoot())return Zn(t.root,new an([],{}),t,r,i);var s=function(e,t,n){if(e.isAbsolute)return new Kn(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Kn(r,r===t.root,0)}var i=Bn(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Kn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),u=s.processChildren?Qn(s.segmentGroup,s.index,o.commands):Wn(s.segmentGroup,s.index,o.commands);return Zn(s.segmentGroup,u,t,r,i)}(u,this.currentUrlTree,e,l,null!=c?c:null)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=ir(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){var n;if(n=!0===t?Object.assign({},Jr):!1===t?Object.assign({},Xr):t,ir(e))return en(this.currentUrlTree,e,n);var r=this.parseUrl(e);return en(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.currentPageId=t.targetPageId,e.events.next(new Tt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ".concat(t))})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a;if(this.disposed)return Promise.resolve(!1);var s,u,c,l=this.getTransition(),h=ei(t)&&l&&!ei(l.source),f=(this.lastSuccessfulId===l.id||this.currentNavigation?l.rawUrl:l.urlAfterRedirects).toString()===e.toString();if(h&&f)return Promise.resolve(!0);i?(s=i.resolve,u=i.reject,c=i.promise):c=new Promise(function(e,t){s=e,u=t});var d,p=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),d=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(a=this.browserPageId)&&void 0!==a?a:0)+1):d=0,this.setTransition({id:p,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:s,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t){var n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}},{key:"restoreHistory",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(t=this.currentNavigation)||void 0===t?void 0:t.finalUrl)||0===i?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(e,t){var n=new Et(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}},{key:"generateNgRouterState",value:function(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.DyG),s.LFG(cn),s.LFG(Gr),s.LFG(D),s.LFG(s.zs3),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}();function ei(e){return"imperative"!==e}var ti=function(){var e=function(){function e(t,n,r,i,o){d(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new Ne.x,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return f(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"onClick",value:function(){var e={skipLocationChange:ni(this.skipLocationChange),replaceUrl:ni(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ni(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36($r),s.Y36(Pn),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),e}();function ni(e){return""===e||!!e}var ri=function(){var e=function(){function e(t,n,r,i,o){d(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.name=i||Vt,t.onChildOutletCreated(this.name,this)}return f(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ii(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Gr),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},e.\u0275dir=s.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),ii=function(){function e(t,n,r){d(this,e),this.route=t,this.childContexts=n,this.parent=r}return f(e,[{key:"get",value:function(e,t){return e===Pn?this.route:e===Gr?this.childContexts:this.parent.get(e,t)}}]),e}(),oi=f(function e(){d(this,e)}),ai=function(){function e(){d(this,e)}return f(e,[{key:"preload",value:function(e,t){return Pe(null)}}]),e}(),si=function(){var e=function(){function e(t,n,r,i,o){d(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Zr(n,r,function(e){return t.triggerEvent(new Nt(e))},function(e){return t.triggerEvent(new Dt(e))})}return f(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(ht(function(e){return e instanceof Tt}),vt(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=u(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return(0,Ae.D)(r).pipe((0,Je.J)(),(0,Be.U)(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?Pe(t._loadedConfig):n.loader.load(e.injector,t)).pipe((0,dt.z)(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG($r),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(oi))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),ui=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return f(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof St?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tt&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof jt&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new jt(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG($r),s.LFG(W),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),ci=new s.OlP("ROUTER_CONFIGURATION"),li=new s.OlP("ROUTER_FORROOT_GUARD"),hi=[D,{provide:cn,useClass:ln},{provide:$r,useFactory:function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new $r(null,e,t,n,r,i,o,Wt(a));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(s,l),s.enableTracing&&l.events.subscribe(function(e){var t,n;null===(t=console.group)||void 0===t||t.call(console,"Router Event: ".concat(e.constructor.name)),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[cn,Gr,D,s.zs3,s.v3s,s.Sil,zr,ci,[function(){return f(function e(){d(this,e)})}(),new s.FiY],[function(){return f(function e(){d(this,e)})}(),new s.FiY]]},Gr,{provide:Pn,useFactory:function(e){return e.routerState.root},deps:[$r]},{provide:s.v3s,useClass:s.EAV},si,ai,function(){function e(){d(this,e)}return f(e,[{key:"preload",value:function(e,t){return t().pipe(ft(function(){return Pe(null)}))}}]),e}(),{provide:ci,useValue:{enableTracing:!1}}];function fi(){return new s.PXZ("Router",$r)}var di=function(){var e=function(){function e(t,n){d(this,e)}return f(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[hi,mi(t),{provide:li,useFactory:gi,deps:[[$r,new s.FiY,new s.tp0]]},{provide:ci,useValue:n||{}},{provide:R,useFactory:vi,deps:[y,[new s.tBr(O),new s.FiY],ci]},{provide:ui,useFactory:pi,deps:[$r,W,ci]},{provide:oi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ai},{provide:s.PXZ,multi:!0,useFactory:fi},[yi,{provide:s.ip1,multi:!0,useFactory:ki,deps:[yi]},{provide:wi,useFactory:_i,deps:[yi]},{provide:s.tb,multi:!0,useExisting:wi}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[mi(t)]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(li,8),s.LFG($r,8))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e}();function pi(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new ui(e,t,n)}function vi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new N(e,t):new P(e,t)}function gi(e){return"guarded"}function mi(e){return[{provide:s.deG,multi:!0,useValue:e},{provide:zr,multi:!0,useValue:e}]}var yi=function(){var e=function(){function e(t){d(this,e),this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ne.x}return f(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(w,Promise.resolve(null)).then(function(){if(e.destroyed)return Promise.resolve(!0);var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get($r),i=e.injector.get(ci);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?Pe(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(ci),n=this.injector.get(si),r=this.injector.get(ui),i=this.injector.get($r),o=this.injector.get(s.z2F);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}();function ki(e){return e.appInitializer.bind(e)}function _i(e){return e.bootstrapListener.bind(e)}var wi=new s.OlP("Router Initializer"),bi=function(){var e=f(function e(){d(this,e),this.title="OpenBook v1.0.0"});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"router-outlet")},directives:[ri],styles:[".container[_ngcontent-%COMP%]{height:90%;display:flex;align-items:center;justify-content:center;flex-direction:column}.content[_ngcontent-%COMP%]{overflow-y:scroll}"]}),e}(),xi=f(function e(){d(this,e)}),Si="*";function Ti(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Ei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function Ci(e){return{type:6,styles:e,offset:null}}function Ii(e,t,n){return{type:0,name:e,styles:t,options:n}}function Ri(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function Ai(e){Promise.resolve(null).then(e)}var Oi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return f(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Ai(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Pi=function(){function e(t){var n=this;d(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?Ai(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++r==a&&n._onFinish()}),e.onDestroy(function(){++i==a&&n._onDestroy()}),e.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return f(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}();function Ni(){return"undefined"!=typeof window&&void 0!==window.document}function Di(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Li(e){switch(e.length){case 0:return new Oi;case 1:return e[0];default:return new Pi(e)}}function Fi(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach(function(e){var n=e.offset,r=n==u,l=r&&c||{};Object.keys(e).forEach(function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case"!":s=i[n];break;case Si:s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}l[r]=s}),r||s.push(l),c=l,u=n}),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function Mi(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&Ui(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&Ui(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&Ui(n,"destroy",e))})}}function Ui(e,t,n){var r=n.totalTime,i=ji(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function ji(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Vi(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function qi(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Bi=function(e,t){return!1},zi=function(e,t){return!1},Zi=function(e,t,n){return[]},Hi=Di();(Hi||"undefined"!=typeof Element)&&(Bi=Ni()?function(e,t){for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:function(e,t){return e.contains(t)},zi=function(){if(Hi||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:zi}(),Zi=function(e,t,n){var r=[];if(n)for(var i=e.querySelectorAll(t),o=0;o<i.length;o++)r.push(i[o]);else{var a=e.querySelector(t);a&&r.push(a)}return r});var Gi=null,Ki=!1;function Wi(e){Gi||(Gi=("undefined"!=typeof document?document.body:null)||{},Ki=!!Gi.style&&"WebkitAppearance"in Gi.style);var t=!0;return Gi.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in Gi.style)&&Ki&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Gi.style)),t}var Qi=zi,Yi=Bi,Ji=Zi;function Xi(e){var t={};return Object.keys(e).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}var $i=function(){var e=function(){function e(){d(this,e)}return f(e,[{key:"validateStyleProperty",value:function(e){return Wi(e)}},{key:"matchesElement",value:function(e,t){return Qi(e,t)}},{key:"containsElement",value:function(e,t){return Yi(e,t)}},{key:"query",value:function(e,t,n){return Ji(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new Oi(n,r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),eo=function(){var e=f(function e(){d(this,e)});return e.NOOP=new $i,e}(),to="ng-enter",no="ng-leave",ro="ng-trigger",io=".ng-trigger",oo="ng-animating",ao=".ng-animating";function so(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:uo(parseFloat(t[1]),t[2])}function uo(e,t){switch(t){case"s":return 1e3*e;default:return e}}function co(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=uo(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=uo(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function lo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function ho(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else lo(e,n);return n}function fo(e,t,n){return n?t+":"+n+";":""}function po(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=fo(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=fo(0,So(i),e.style[i]));e.setAttribute("style",t)}function vo(e,t,n){e.style&&(Object.keys(t).forEach(function(r){var i=xo(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),Di()&&po(e))}function go(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=xo(t);e.style[n]=""}),Di()&&po(e))}function mo(e){return Array.isArray(e)?1==e.length?e[0]:Ei(e):e}var yo=new RegExp("{{\\s*(.+?)\\s*}}","g");function ko(e){var t=[];if("string"==typeof e){for(var n;n=yo.exec(e);)t.push(n[1]);yo.lastIndex=0}return t}function _o(e,t,n){var r=e.toString(),i=r.replace(yo,function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?e:i}function wo(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var bo=/-+([a-z0-9])/g;function xo(e){return e.replace(bo,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function So(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function To(e,t){return 0===e||0===t}function Eo(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach(function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]}),o.length)for(var a=function(){var n=t[s];o.forEach(function(t){n[t]=Io(e,t)})},s=1;s<t.length;s++)a()}return t}function Co(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function Io(e,t){return window.getComputedStyle(e)[t]}function Ro(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(Po(o,s)),"<"==a[0]&&("*"!=o||"*"!=s)&&t.push(Po(s,o))}(e,n,t)}):n.push(e),n}var Ao=new Set(["true","1"]),Oo=new Set(["false","0"]);function Po(e,t){var n=Ao.has(e)||Oo.has(e),r=Ao.has(t)||Oo.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?Ao.has(e):Oo.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?Ao.has(t):Oo.has(t)),a&&s}}var No=new RegExp("s*:selfs*,?","g");function Do(e,t,n){return new Lo(e).build(t,n)}var Lo=function(){function e(t){d(this,e),this._driver=t}return f(e,[{key:"build",value:function(e,t){var n=new Fo(t);return this._resetContextStyleTimingState(n),Co(this,mo(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(e){s.name=e,o.push(n.visitState(s,t))}),s.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,a.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(e){if(Mo(e)){var t=e;Object.keys(t).forEach(function(e){ko(t[e]).forEach(function(e){o.hasOwnProperty(e)||i.add(e)})})}}),i.size){var a=wo(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n=Co(this,mo(e.animation),t);return{type:1,matchers:Ro(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Uo(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return Co(n,e,t)}),options:Uo(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map(function(e){t.currentTime=r;var o=Co(n,e,t);return i=Math.max(i,t.currentTime),o});return t.currentTime=i,{type:3,steps:o,options:Uo(e.options)}}},{key:"visitAnimate",value:function(e,t){var n=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return jo(co(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var i=jo(0,0,"");return i.dynamic=!0,i.strValue=r,i}return jo((n=n||co(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;var r,i=e.styles?e.styles:Ci({});if(5==i.type)r=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};n.easing&&(s.easing=n.easing),o=Ci(s)}t.currentTime+=n.duration+n.delay;var u=this.visitStyle(o,t);u.isEmptyStep=a,r=u}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==Si?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var r=!1,i=null;return n.forEach(function(e){if(Mo(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a=t.collectedStyles[t.currentQuerySelector],s=a[r],u=!0;s&&(o!=i&&o>=s.startTime&&i<=s.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(s.startTime,'ms" and "').concat(s.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),u=!1),o=s.startTime),u&&(a[r]={startTime:o,endTime:i}),t.options&&function(e,t,n){var r=t.params||{},i=ko(e);i.length&&i.forEach(function(e){r.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})}(e[r],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=e.steps.map(function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(Mo(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(Mo(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return c.forEach(function(e,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)}),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:Co(this,mo(e.animation),t),options:Uo(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Uo(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Uo(e.options)}}},{key:"visitQuery",value:function(e,n){var r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;var o=t(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(No,"")),[e=e.replace(/@\*/g,io).replace(/@\w+/g,function(e){return io+"-"+e.substr(1)}).replace(/:animating/g,ao),t]}(e.selector),2),a=o[0],s=o[1];n.currentQuerySelector=r.length?r+" "+a:a,Vi(n.collectedStyles,n.currentQuerySelector,{});var u=Co(this,mo(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:u,originalSelector:e.selector,options:Uo(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:co(e.timings,t.errors,!0);return{type:12,animation:Co(this,mo(e.animation),t),timings:n,options:null}}}]),e}(),Fo=f(function e(t){d(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null});function Mo(e){return!Array.isArray(e)&&"object"==typeof e}function Uo(e){return e?(e=lo(e)).params&&(e.params=function(e){return e?lo(e):null}(e.params)):e={},e}function jo(e,t,n){return{duration:e,delay:t,easing:n}}function Vo(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var qo=function(){function e(){d(this,e),this._map=new Map}return f(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,a(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Bo=new RegExp(":enter","g"),zo=new RegExp(":leave","g");function Zo(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Ho).buildKeyframes(e,t,n,r,i,o,a,s,u,c)}var Ho=function(){function e(){d(this,e)}return f(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new qo;var l=new Ko(e,t,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),Co(this,n,l);var h=l.timelines.filter(function(e){return e.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map(function(e){return e.buildKeyframes()}):[Vo(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?so(n.duration):null,o=null!=n.delay?so(n.delay):null;return 0!==i&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Co(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Go);var a=so(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(function(e){return Co(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?so(e.options.delay):0;e.steps.forEach(function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),Co(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return co(t.params?_o(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?so(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Go);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(u=s.currentTimeline),Co(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;Co(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),Go={},Ko=function(){function e(t,n,r,i,o,a,s,u){d(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Go,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Wo(this._driver,n,0),s.push(this.currentTimeline)}return f(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=so(r.duration)),null!=r.delay&&(i.delay=so(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(e){(!t||!a.hasOwnProperty(e))&&(a[e]=_o(o[e],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Go,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Qo(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(Bo,"."+this._enterClassName)).replace(zo,"."+this._leaveClassName);var u=this._driver.query(this.element,e,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,a(u))}return!i&&0==s.length&&o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}}]),e}(),Wo=function(){function e(t,n,r,i){d(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return f(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||Si,t._currentKeyframe[e]=Si}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){r[e]=Si}):ho(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(a).forEach(function(e){var t=_o(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:Si),i._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=ho(o,!0);Object.keys(s).forEach(function(e){var r=s[e];"!"==r?t.add(e):r==Si&&n.add(e)}),r||(s.offset=a/e.duration),i.push(s)});var o=t.size?wo(t.values()):[],a=n.size?wo(n.values()):[];if(r){var s=i[0],u=lo(s);s.offset=0,u.offset=1,i=[s,u]}return Vo(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),e}(),Qo=function(e){p(n,e);var t=v(n);function n(e,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return d(this,n),(u=t.call(this,e,r,s.delay)).keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return f(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=ho(e[0],!1);u.offset=0,o.push(u);var c=ho(e[0],!1);c.offset=Yo(s),o.push(c);for(var l=e.length-1,h=1;h<=l;h++){var f=ho(e[h],!1);f.offset=Yo((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",e=o}return Vo(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Wo);function Yo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Jo=f(function e(){d(this,e)}),Xo=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"normalizePropertyName",value:function(e,t){return xo(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if($o[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(Jo),$o=function(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function ea(e,t,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var ta={},na=function(){function e(t,n,r){d(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return f(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some(function(e){return e(t,n,r,i)})}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||ta,f=this.buildStyles(n,a&&a.params||ta,l),d=s&&s.params||ta,p=this.buildStyles(r,d,l),v=new Set,g=new Map,m=new Map,y="void"===r,k={params:Object.assign(Object.assign({},h),d)},_=c?[]:Zo(e,t,this.ast.animation,i,o,f,p,k,u,l),w=0;if(_.forEach(function(e){w=Math.max(e.duration+e.delay,w)}),l.length)return ea(t,this._triggerName,n,r,y,f,p,[],[],g,m,w,l);_.forEach(function(e){var n=e.element,r=Vi(g,n,{});e.preStyleProps.forEach(function(e){return r[e]=!0});var i=Vi(m,n,{});e.postStyleProps.forEach(function(e){return i[e]=!0}),n!==t&&v.add(n)});var b=wo(v.values());return ea(t,this._triggerName,n,r,y,f,p,_,b,g,m,w)}}]),e}(),ra=function(){function e(t,n,r){d(this,e),this.styles=t,this.defaultParams=n,this.normalizer=r}return f(e,[{key:"buildStyles",value:function(e,t){var n=this,r={},i=lo(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var o=e;Object.keys(o).forEach(function(e){var a=o[e];a.length>1&&(a=_o(a,i,t));var s=n.normalizer.normalizePropertyName(e,t);a=n.normalizer.normalizeStyleValue(e,s,a,t),r[s]=a})}}),r}}]),e}(),ia=function(){function e(t,n,r){var i=this;d(this,e),this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states={},n.states.forEach(function(e){i.states[e.name]=new ra(e.style,e.options&&e.options.params||{},r)}),oa(this.states,"true","1"),oa(this.states,"false","0"),n.transitions.forEach(function(e){i.transitionFactories.push(new na(t,e,i.states))}),this.fallbackTransition=function(e,t,n){return new na(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},t)}(t,this.states)}return f(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find(function(i){return i.match(e,t,n,r)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function oa(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var aa=new qo,sa=function(){function e(t,n,r){d(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return f(e,[{key:"register",value:function(e,t){var n=[],r=Do(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Fi(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=Zo(this._driver,t,a,to,no,{},{},i,aa,o)).forEach(function(e){var t=Vi(s,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=r._driver.computeStyle(t,n,Si)})});var u=Li(n.map(function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)}));return this._playersById[e]=u,u.onDestroy(function(){return r.destroy(e)}),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=ji(t,"","","");return Mi(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),ua="ng-animate-queued",ca="ng-animate-disabled",la=".ng-animate-disabled",ha=[],fa={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},da={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pa="__ng_removed",va=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";d(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=lo(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return f(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),ga="void",ma=new va(ga),ya=function(){function e(t,n,r){d(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ea(n,this._hostClassName)}return f(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=Vi(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var u=Vi(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(Ea(e,ro),Ea(e,ro+"-"+t),u[t]=ma),function(){o._engine.afterFlush(function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete u[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new _a(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Ea(e,ro),Ea(e,ro+"-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],c=new va(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[t]=c,u||(u=ma),c.value===ga||u.value!==c.value){var l=Vi(this._engine.playersByElement,e,[]);l.forEach(function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()});var h=o.matchTransition(u.value,c.value,e,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(Ea(e,ua),a.onStart(function(){Ca(e,ua)})),a.onDone(function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}}),this.players.push(a),l.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){go(e,p),vo(e,v)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,r){t._elementListeners.set(r,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,io,!0);r.forEach(function(e){if(!e[pa]){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach(function(t){if(i._triggers[t]){var n=i.trigger(e,t,ga,r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Li(a).onDone(function(){return i._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){var i=new Set;n.forEach(function(n){var o=n.name;if(!i.has(o)){i.add(o);var a=t._triggers[o].fallbackTransition,s=r[o]||ma,u=new va(ga),c=new _a(t.id,o,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:o,transition:a,fromState:s,toState:u,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e[pa];(!s||s===fa)&&(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Ea(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach(function(t){if(t.name==r.triggerName){var n=ji(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,Mi(r.player,t.phase,n,t.callback)}}),i.markedForDestroy?t._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),ka=function(){function e(t,n,r){d(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return f(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new ya(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(wa(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(wa(t)){var i=t[pa];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ea(e,ca)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ca(e,ca))}},{key:"removeNode",value:function(e,t,n,r){if(wa(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t[pa]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return wa(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,io,!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,ao,!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return Li(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e[pa];if(n&&n.setForRemoval){if(e[pa]=fa,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,la)&&this.markElementAsDisabled(e,!1),this.driver.query(e,la,!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Ea(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Li(n).onDone(function(){s.forEach(function(e){return e()})}):s.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new qo,i=[],o=new Map,s=[],u=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(function(e){h.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)h.add(t[r])});var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=Sa(d,this.collectedEnterElements),v=new Map,g=0;p.forEach(function(e,t){var n=to+g++;v.set(t,n),e.forEach(function(e){return Ea(e,n)})});for(var m=[],y=new Set,k=new Set,_=0;_<this.collectedLeaveElements.length;_++){var w=this.collectedLeaveElements[_],b=w[pa];b&&b.setForRemoval&&(m.push(w),y.add(w),b.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach(function(e){return y.add(e)}):k.add(w))}var x=new Map,S=Sa(d,Array.from(y));S.forEach(function(e,t){var n=no+g++;x.set(t,n),e.forEach(function(e){return Ea(e,n)})}),e.push(function(){p.forEach(function(e,t){var n=v.get(t);e.forEach(function(e){return Ca(e,n)})}),S.forEach(function(e,t){var n=x.get(t);e.forEach(function(e){return Ca(e,n)})}),m.forEach(function(e){n.processLeaveNode(e)})});for(var T=[],E=[],C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(t).forEach(function(e){var t=e.player,o=e.element;if(T.push(t),n.collectedEnterElements.length){var a=o[pa];if(a&&a.setForMove)return void t.destroy()}var h=!f||!n.driver.containsElement(f,o),d=x.get(o),p=v.get(o),g=n._buildInstruction(e,r,p,d,h);if(g.errors&&g.errors.length)E.push(g);else{if(h)return t.onStart(function(){return go(o,g.fromStyles)}),t.onDestroy(function(){return vo(o,g.toStyles)}),void i.push(t);if(e.isFallbackTransition)return t.onStart(function(){return go(o,g.fromStyles)}),t.onDestroy(function(){return vo(o,g.toStyles)}),void i.push(t);g.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),r.append(o,g.timelines),s.push({instruction:g,player:t,element:o}),g.queriedElements.forEach(function(e){return Vi(u,e,[]).push(t)}),g.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var r=c.get(t);r||c.set(t,r=new Set),n.forEach(function(e){return r.add(e)})}}),g.postStyleProps.forEach(function(e,t){var n=Object.keys(e),r=l.get(t);r||l.set(t,r=new Set),n.forEach(function(e){return r.add(e)})})}});if(E.length){var I=[];E.forEach(function(e){I.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return I.push("- ".concat(e,"\n"))})}),T.forEach(function(e){return e.destroy()}),this.reportError(I)}var R=new Map,A=new Map;s.forEach(function(e){var t=e.element;r.has(t)&&(A.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,R))}),i.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){Vi(R,t,[]).push(e),e.destroy()})});var O=m.filter(function(e){return Aa(e,c,l)}),P=new Map;xa(P,this.driver,k,l,Si).forEach(function(e){Aa(e,c,l)&&O.push(e)});var N=new Map;p.forEach(function(e,t){xa(N,n.driver,new Set(e),c,"!")}),O.forEach(function(e){var t=P.get(e),n=N.get(e);P.set(e,Object.assign(Object.assign({},t),n))});var D=[],L=[],F={};s.forEach(function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(h.has(t))return a.onDestroy(function(){return vo(t,s.toStyles)}),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=F;if(A.size>1){for(var c=t,l=[];c=c.parentNode;){var f=A.get(c);if(f){u=f;break}l.push(c)}l.forEach(function(e){return A.set(e,u)})}var d=n._buildAnimation(a.namespaceId,s,R,o,N,P);if(a.setRealPlayer(d),u===F)D.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=Li(p)),i.push(a)}}else go(t,s.fromStyles),a.onDestroy(function(){return vo(t,s.toStyles)}),L.push(a),h.has(t)&&i.push(a)}),L.forEach(function(e){var t=o.get(e.element);if(t&&t.length){var n=Li(t);e.setRealPlayer(n)}}),i.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var M=0;M<m.length;M++){var U=m[M],j=U[pa];if(Ca(U,no),!j||!j.hasAnimation){var V=[];if(u.size){var q=u.get(U);q&&q.length&&V.push.apply(V,a(q));for(var B=this.driver.query(U,ao,!0),z=0;z<B.length;z++){var Z=u.get(B[z]);Z&&Z.length&&V.push.apply(V,a(Z))}}var H=V.filter(function(e){return!e.destroyed});H.length?Ia(this,U,H):this.processLeaveNode(U)}}return m.length=0,D.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),D}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t[pa];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var u=!i||i==ga;s.forEach(function(e){e.queued||!u&&e.triggerName!=r||o.push(e)})}}return(n||r)&&(o=o.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,c=u(t.timelines);try{var l=function(){var e=r.value.element,u=e!==o,c=Vi(n,e,[]);i._getPreviousPlayers(e,u,a,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})};for(c.s();!(r=c.n()).done;)l()}catch(h){c.e(h)}finally{c.f()}go(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,u=t.element,c=[],l=new Set,h=new Set,f=t.timelines.map(function(t){var f=t.element;l.add(f);var d=f[pa];if(d&&d.removedBeforeQueried)return new Oi(t.duration,t.delay);var p=f!==u,v=function(e){var t=[];return Ra(e,t),t}((n.get(f)||ha).map(function(e){return e.getRealPlayer()})).filter(function(e){return!!e.element&&e.element===f}),g=i.get(f),m=o.get(f),y=Fi(0,a._normalizer,0,t.keyframes,g,m),k=a._buildPlayer(t,y,v);if(t.subTimeline&&r&&h.add(f),p){var _=new _a(e,s,f);_.setRealPlayer(k),c.push(_)}return k});c.forEach(function(e){Vi(a.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)})}),l.forEach(function(e){return Ea(e,oo)});var d=Li(f);return d.onDestroy(function(){l.forEach(function(e){return Ca(e,oo)}),vo(u,t.toStyles)}),h.forEach(function(e){Vi(r,e,[]).push(d)}),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Oi(e.duration,e.delay)}}]),e}(),_a=function(){function e(t,n,r){d(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Oi,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return f(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return Mi(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){Vi(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function wa(e){return e&&1===e.nodeType}function ba(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function xa(e,t,n,r,i){var o=[];n.forEach(function(e){return o.push(ba(e))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(e){var n=o[e]=t.computeStyle(r,e,i);(!n||0==n.length)&&(r[pa]=da,a.push(r))}),e.set(r,o)});var s=0;return n.forEach(function(e){return ba(e,o[s++])}),a}function Sa(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var r=new Set(t),i=new Map;function o(e){if(!e)return 1;var t=i.get(e);if(t)return t;var a=e.parentNode;return t=n.has(a)?a:r.has(a)?1:o(a),i.set(e,t),t}return t.forEach(function(e){var t=o(e);1!==t&&n.get(t).push(e)}),n}var Ta="$$classes";function Ea(e,t){if(e.classList)e.classList.add(t);else{var n=e[Ta];n||(n=e[Ta]={}),n[t]=!0}}function Ca(e,t){if(e.classList)e.classList.remove(t);else{var n=e[Ta];n&&delete n[t]}}function Ia(e,t,n){Li(n).onDone(function(){return e.processLeaveNode(t)})}function Ra(e,t){for(var n=0;n<e.length;n++){var r=e[n];r instanceof Pi?Ra(r.players,t):t.push(r)}}function Aa(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach(function(e){return i.add(e)}):t.set(e,r),n.delete(e),!0}var Oa=function(){function e(t,n,r){var i=this;d(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new ka(t,n,r),this._timelineEngine=new sa(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return f(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Do(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t,n){return new ia(e,t,n)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,n,r,i){if("@"==r.charAt(0)){var o=t(qi(r),2),a=o[0],s=o[1];this._timelineEngine.command(a,n,s,i)}else this._transitionEngine.trigger(e,n,r,i)}},{key:"listen",value:function(e,n,r,i,o){if("@"==r.charAt(0)){var a=t(qi(r),2),s=a[0],u=a[1];return this._timelineEngine.listen(s,n,u,o)}return this._transitionEngine.listen(e,n,r,i,o)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function Pa(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=Da(t[0]),t.length>1&&(r=Da(t[t.length-1]))):t&&(n=Da(t)),n||r?new Na(e,n,r):null}var Na=function(){var e=function(){function e(t,n,r){d(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return f(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&vo(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(vo(this._element,this._initialStyles),this._endStyles&&(vo(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(go(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(go(this._element,this._endStyles),this._endStyles=null),vo(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Da(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];La(i)&&((t=t||{})[i]=e[i])}return t}function La(e){return"display"===e||"position"===e}var Fa="animation",Ma="animationend",Ua=function(){function e(t,n,r,i,o,a,s){var u=this;d(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return f(e,[{key:"apply",value:function(){(function(e,t){var n=Za(e,"").trim();n.length&&(function(e,t){for(var n=0,r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t="".concat(n,", ").concat(t)),za(e,"",t)})(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),Ba(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){ja(this._element,this._name,"paused")}},{key:"resume",value:function(){ja(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Va(this._element,this._name);this._position=e*this._duration,za(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Ba(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=Za(e,"").split(","),r=qa(n,t);r>=0&&(n.splice(r,1),za(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function ja(e,t,n){za(e,"PlayState",n,Va(e,t))}function Va(e,t){var n=Za(e,"");return n.indexOf(",")>0?qa(n.split(","),t):qa([n],t)}function qa(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Ba(e,t,n){n?e.removeEventListener(Ma,t):e.addEventListener(Ma,t)}function za(e,t,n,r){var i=Fa+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function Za(e,t){return e.style[Fa+t]||""}var Ha=function(){function e(t,n,r,i,o,a,s,u){d(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return f(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Ua(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:Io(e.element,r))})}this.currentSnapshot=t}}]),e}(),Ga=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=Xi(r),i}return f(n,[{key:"init",value:function(){var e=this;this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),i(b(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),i(b(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;!this._startingStyles||(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,i(b(n.prototype),"destroy",this).call(this))}}]),n}(Oi),Ka=function(){function e(){d(this,e),this._count=0}return f(e,[{key:"validateStyleProperty",value:function(e){return Wi(e)}},{key:"matchesElement",value:function(e,t){return Qi(e,t)}},{key:"containsElement",value:function(e,t){return Yi(e,t)}},{key:"query",value:function(e,t,n){return Ji(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return Xi(e)});var r="@keyframes ".concat(t," {\n"),i="";n.forEach(function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var o=document.createElement("style");return o.textContent=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(e){return e instanceof Ha}),s={};To(n,r)&&a.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"==n||"easing"==n||(t[n]=e[n])})}),t}(t=Eo(e,t,s));if(0==n)return new Ga(e,u);var c="gen_css_kf_"+this._count++,l=this.buildKeyframeElement(e,c,t);(function(e){var t,n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(l);var h=Pa(e,t),f=new Ha(e,t,c,n,r,i,u,h);return f.onDestroy(function(){var e;(e=l).parentNode.removeChild(e)}),f}}]),e}(),Wa=function(){function e(t,n,r,i){d(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return f(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Io(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Qa=function(){function e(){d(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ya().toString()),this._cssKeyframesDriver=new Ka}return f(e,[{key:"validateStyleProperty",value:function(e){return Wi(e)}},{key:"matchesElement",value:function(e,t){return Qi(e,t)}},{key:"containsElement",value:function(e,t){return Yi(e,t)}},{key:"query",value:function(e,t,n){return Ji(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter(function(e){return e instanceof Wa});To(n,r)&&c.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return u[e]=t[e]})});var l=Pa(e,t=Eo(e,t=t.map(function(e){return ho(e,!1)}),u));return new Wa(e,t,s,l)}}]),e}();function Ya(){return Ni()&&Element.prototype.animate||{}}var Ja=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}}),i}return f(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Ei(e):e;return es(this._renderer,null,t,"register",[n]),new Xa(t,this._renderer)}}]),n}(xi);return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.FYo),s.LFG(h))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Xa=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return f(n,[{key:"create",value:function(e,t){return new $a(this._id,e,t||{},this._renderer)}}]),n}(function(){return f(function e(){d(this,e)})}()),$a=function(){function e(t,n,r,i){d(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return f(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return es(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function es(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var ts,ns="@.disabled",rs=function(){var e=function(){function e(t,n,r){d(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return f(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new is("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);return t.data.animation.forEach(function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)}),new os(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,n,r){var i=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return n(r)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(e){var n=t(e,2);(0,n[0])(n[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.FYo),s.LFG(Oa),s.LFG(s.R0b))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),is=function(){function e(t,n,r){d(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return f(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&t==ns?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),os=function(e){p(r,e);var n=v(r);function r(e,t,i,o){var a;return d(this,r),(a=n.call(this,t,i,o)).factory=e,a.namespaceId=t,a}return f(r,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ns?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,n,r){var i=this;if("@"==n.charAt(0)){var o,a=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),s=n.substr(1),u="";return"@"!=s.charAt(0)&&(s=(o=t(function(e){var t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(s),2))[0],u=o[1]),this.engine.listen(this.namespaceId,a,s,u,function(e){i.factory.scheduleListenerCallback(e._data||-1,r,e)})}return this.delegate.listen(e,n,r)}}]),r}(is),as=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r,i){return d(this,n),t.call(this,e.body,r,i)}return f(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(Oa);return e.\u0275fac=function(t){return new(t||e)(s.LFG(h),s.LFG(eo),s.LFG(Jo))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),ss=new s.OlP("AnimationModuleType"),us=[{provide:xi,useClass:Ja},{provide:Jo,useFactory:function(){return new Xo}},{provide:Oa,useClass:as},{provide:s.FYo,useFactory:function(e,t,n){return new rs(e,t,n)},deps:[ve,Oa,s.R0b]}],cs=[{provide:eo,useFactory:function(){return"function"==typeof Ya()?new Qa:new Ka}},{provide:ss,useValue:"BrowserAnimations"}].concat(us),ls=[{provide:eo,useClass:$i},{provide:ss,useValue:"NoopAnimations"}].concat(us),hs=function(){var e=function(){function e(){d(this,e)}return f(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:t.disableAnimations?ls:cs}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:cs,imports:[Re]}),e}(),fs=o(6523);function ds(e){return null!=e&&"false"!="".concat(e)}function ps(e){return Array.isArray(e)?e:[e]}function vs(e){return null==e?"":"string"==typeof e?e:"".concat(e,"px")}function gs(e){return e instanceof s.SBq?e.nativeElement:e}try{ts="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Id){ts=!1}var ms,ys,ks,_s=function(){var e=f(function e(t){d(this,e),this._platformId=t,this.isBrowser=this._platformId?function(e){return"browser"===e}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ts)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT});return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.Lbi))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(s.Lbi))},token:e,providedIn:"root"}),e}(),ws=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e}();function bs(e){return function(){if(null==ms&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return ms=!0}}))}finally{ms=ms||!1}return ms}()?e:!!e.capture}var xs=function(){var e=function(){function e(){d(this,e)}return f(e,[{key:"create",value:function(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Ss=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[xs]}),e}();"undefined"!=typeof Element&&Element;var Ts=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Es=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Cs=function(){var e=function(){function e(t,n,r,i){d(this,e),this._ngZone=n,this._defaultOptions=i,this._document=r,this._liveElement=t||this._createLiveElement()}return f(e,[{key:"announce",value:function(e){for(var n,r,i,o=this,a=this._defaultOptions,s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];return 1===u.length&&"number"==typeof u[0]?i=u[0]:(r=(n=t(u,2))[0],i=n[1]),this.clear(),clearTimeout(this._previousTimeout),r||(r=a&&a.politeness?a.politeness:"polite"),null==i&&a&&(i=a.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(function(){return new Promise(function(t){clearTimeout(o._previousTimeout),o._previousTimeout=setTimeout(function(){o._liveElement.textContent=e,t(),"number"==typeof i&&(o._previousTimeout=setTimeout(function(){return o.clear()},i))},100)})})}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var e="cdk-live-announcer-element",t=this._document.getElementsByClassName(e),n=this._document.createElement("div"),r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Ts,8),s.LFG(s.R0b),s.LFG(h),s.LFG(Es,8))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(Ts,8),(0,s.LFG)(s.R0b),(0,s.LFG)(h),(0,s.LFG)(Es,8))},token:e,providedIn:"root"}),e}();function Is(e){return 0===e.buttons}function Rs(e){var t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}var As=new s.OlP("cdk-focus-monitor-default-options"),Os=bs({passive:!0,capture:!0}),Ps=function(){var e=function(){function e(t,n,r,i){var o=this;d(this,e),this._ngZone=t,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(e){if(!o._lastTouchTarget){var t=Is(e)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=function(e){Rs(e)?o._lastTouchTarget||o._setOriginForCurrentEventQueue("keyboard"):(null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=Ns(e),o._touchTimeoutId=setTimeout(function(){return o._lastTouchTarget=null},650))},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout(function(){return o._windowFocused=!1})},this._rootNodeFocusAndBlurListener=function(e){for(var t=Ns(e),n="focus"===e.type?o._onFocus:o._onBlur,r=t;r;r=r.parentElement)n.call(o,e,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}return f(e,[{key:"monitor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=gs(e);if(!this._platform.isBrowser||1!==n.nodeType)return Pe(null);var r=function(e){if(function(){if(null==ks){var e="undefined"!=typeof document?document.head:null;ks=!(!e||!e.createShadowRoot&&!e.attachShadow)}return ks}()){var t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject;var o={checkChildren:t,subject:new Ne.x,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}},{key:"stopMonitoring",value:function(e){var t=gs(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(e,n,r){var i=this,o=gs(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(function(e){var r=t(e,2),o=r[0],a=r[1];return i._originChanged(o,n,a)}):(this._setOriginForCurrentEventQueue(n),"function"==typeof o.focus&&o.focus(r))}},{key:"ngOnDestroy",value:function(){var e=this;this._elementInfo.forEach(function(t,n){return e.stopMonitoring(n)})}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(e,t,n){n?e.classList.add(t):e.classList.remove(t)}},{key:"_getFocusOrigin",value:function(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}},{key:"_setClasses",value:function(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}},{key:"_setOriginForCurrentEventQueue",value:function(e){var t=this;this._ngZone.runOutsideAngular(function(){t._origin=e,0===t._detectionMode&&(t._originTimeoutId=setTimeout(function(){return t._origin=null},1))})}},{key:"_wasCausedByTouch",value:function(e){var t=Ns(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(e,t){var n=this._elementInfo.get(t);!n||!n.checkChildren&&t!==Ns(e)||this._originChanged(t,this._getFocusOrigin(e),n)}},{key:"_onBlur",value:function(e,t){var n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(e,t){this._ngZone.run(function(){return e.next(t)})}},{key:"_registerGlobalListeners",value:function(e){var t=this;if(this._platform.isBrowser){var n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(function(){n.addEventListener("focus",t._rootNodeFocusAndBlurListener,Os),n.addEventListener("blur",t._rootNodeFocusAndBlurListener,Os)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(function(){var e=t._getDocument(),n=t._getWindow();e.addEventListener("keydown",t._documentKeydownListener,Os),e.addEventListener("mousedown",t._documentMousedownListener,Os),e.addEventListener("touchstart",t._documentTouchstartListener,Os),n.addEventListener("focus",t._windowFocusListener)})}}},{key:"_removeGlobalListeners",value:function(e){var t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){var n=this._rootNodeFocusListenerCount.get(t);n>1?this._rootNodeFocusListenerCount.set(t,n-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Os),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Os),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){var r=this._getDocument(),i=this._getWindow();r.removeEventListener("keydown",this._documentKeydownListener,Os),r.removeEventListener("mousedown",this._documentMousedownListener,Os),r.removeEventListener("touchstart",this._documentTouchstartListener,Os),i.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}},{key:"_originChanged",value:function(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}},{key:"_getClosestElementsInfo",value:function(e){var t=[];return this._elementInfo.forEach(function(n,r){(r===e||n.checkChildren&&r.contains(e))&&t.push([r,n])}),t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.R0b),s.LFG(_s),s.LFG(h,8),s.LFG(As,8))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(s.R0b),(0,s.LFG)(_s),(0,s.LFG)(h,8),(0,s.LFG)(As,8))},token:e,providedIn:"root"}),e}();function Ns(e){return e.composedPath?e.composedPath()[0]:e.target}var Ds="cdk-high-contrast-black-on-white",Ls="cdk-high-contrast-white-on-black",Fs="cdk-high-contrast-active",Ms=function(){var e=function(){function e(t,n){d(this,e),this._platform=t,this._document=n}return f(e,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);var t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var e=this._document.body.classList;e.remove(Fs),e.remove(Ds),e.remove(Ls);var t=this.getHighContrastMode();1===t?(e.add(Fs),e.add(Ds)):2===t&&(e.add(Fs),e.add(Ls))}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(_s),s.LFG(h))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(_s),(0,s.LFG)(h))},token:e,providedIn:"root"}),e}(),Us=function(){var e=f(function e(t){d(this,e),t._applyBodyHighContrastModeCssClasses()});return e.\u0275fac=function(t){return new(t||e)(s.LFG(Ms))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[ws,Ss]]}),e}(),js=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,s.f3M)(h)}}),Vs=function(){var e=function(){function e(t){if(d(this,e),this.value="ltr",this.change=new s.vpe,t){var n=t.documentElement?t.documentElement.dir:null,r=(t.body?t.body.dir:null)||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return f(e,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(js,8))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(js,8))},token:e,providedIn:"root"}),e}(),qs=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e}(),Bs=new s.GfV("11.2.13"),zs=new s.GfV("11.2.13"),Zs=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Hs=function(){var e=function(){function e(t,n,r){d(this,e),this._hasDoneGlobalChecks=!1,this._document=r,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return f(e,[{key:"_getWindow",value:function(){var e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return(0,s.X6Q)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var e=this._getWindow();return e&&(e.__karma__||e.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document.body&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&zs.full!==Bs.full&&console.warn("The Angular Material version ("+zs.full+") does not match the Angular CDK version ("+Bs.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Ms),s.LFG(Zs,8),s.LFG(h))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[qs],qs]}),e}();function Gs(e,t){return function(e){p(r,e);var n=v(r);function r(){var e;d(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).defaultColor=t,e.color=t,e}return f(r,[{key:"color",get:function(){return this._color},set:function(e){var t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),t&&this._elementRef.nativeElement.classList.add("mat-".concat(t)),this._color=t)}}]),r}(e)}try{"undefined"!=typeof Intl}catch(Id){!1}var Ks=function(){var e=function(){function e(){d(this,e)}return f(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Ws=function(){function e(t,n,r){d(this,e),this._renderer=t,this.element=n,this.config=r,this.state=3}return f(e,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),e}(),Qs={enterDuration:450,exitDuration:400},Ys=bs({passive:!0}),Js=["mousedown","touchstart"],Xs=["mouseup","mouseleave","touchend","touchcancel"],$s=function(){function e(t,n,r,i){d(this,e),this._target=t,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=gs(r))}return f(e,[{key:"fadeInRipple",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},Qs),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);var a=r.radius||function(e,t,n){var r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),s=e-i.left,u=t-i.top,c=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=s-a+"px",l.style.top=u-a+"px",l.style.height=2*a+"px",l.style.width=2*a+"px",null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration="".concat(c,"ms"),this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";var h=new Ws(this,l,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(function(){var e=h===n._mostRecentTransientRipple;h.state=1,!r.persistent&&(!e||!n._isPointerDown)&&h.fadeOut()},c),h}},{key:"fadeOutRipple",value:function(e){var t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),t){var n=e.element,r=Object.assign(Object.assign({},Qs),e.config.animation);n.style.transitionDuration="".concat(r.exitDuration,"ms"),n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(function(){e.state=3,n.parentNode.removeChild(n)},r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach(function(e){return e.fadeOut()})}},{key:"fadeOutAllNonPersistent",value:function(){this._activeRipples.forEach(function(e){e.config.persistent||e.fadeOut()})}},{key:"setupTriggerEvents",value:function(e){var t=gs(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Js))}},{key:"handleEvent",value:function(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Xs),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(e){var t=Is(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(e){if(!this._target.rippleDisabled&&!Rs(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var t=e.changedTouches,n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(function(e){!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}},{key:"_runTimeoutOutsideZone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular(function(){return setTimeout(e,t)})}},{key:"_registerEvents",value:function(e){var t=this;this._ngZone.runOutsideAngular(function(){e.forEach(function(e){t._triggerElement.addEventListener(e,t,Ys)})})}},{key:"_removeTriggerEvents",value:function(){var e=this;this._triggerElement&&(Js.forEach(function(t){e._triggerElement.removeEventListener(t,e,Ys)}),this._pointerUpEventsRegistered&&Xs.forEach(function(t){e._triggerElement.removeEventListener(t,e,Ys)}))}}]),e}(),eu=new s.OlP("mat-ripple-global-options"),tu=function(){var e=function(){function e(t,n,r,i,o){d(this,e),this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new $s(this,n,t,r)}return f(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}},{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"fadeOutAllNonPersistent",value:function(){this._rippleRenderer.fadeOutAllNonPersistent()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(_s),s.Y36(eu,8),s.Y36(ss,8))},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e}(),nu=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Hs,ws],Hs]}),e}(),ru=["mat-button",""],iu=["*"],ou=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],au=Gs(function(e){return function(e){p(n,e);var t=v(n);function n(){var e;d(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._disabled=!1,e}return f(n,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=ds(e)}}]),n}(e)}(function(e){return function(e){p(n,e);var t=v(n);function n(){var e;d(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._disableRipple=!1,e}return f(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(e){this._disableRipple=ds(e)}}]),n}(e)}(f(function e(t){d(this,e),this._elementRef=t})))),su=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;d(this,n),(o=t.call(this,e))._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var a,s=u(ou);try{for(s.s();!(a=s.n()).done;){var c=a.value;o._hasHostAttributes(c)&&o._getHostElement().classList.add(c)}}catch(l){s.e(l)}finally{s.f()}return e.nativeElement.classList.add("mat-button-base"),o.isRoundButton&&(o.color="accent"),o}return f(n,[{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.some(function(t){return e._getHostElement().hasAttribute(t)})}}]),n}(au);return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(Ps),s.Y36(ss,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){var n;(1&e&&s.Gf(tu,5),2&e)&&(s.iGM(n=s.CRH())&&(t.ripple=n.first))},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(s.uIk("disabled",t.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:ru,ngContentSelectors:iu,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1),s._UZ(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),s.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[tu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),e}(),uu=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[nu,Hs],Hs]}),e}(),cu=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Hs],Hs]}),e}();function lu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,Oe.jO)(t),i=Ve(t),o=i.args,a=i.keys,s=new Le.y(function(e){var t=o.length;if(t)for(var n=new Array(t),r=t,i=t,s=function(t){var s=!1;(0,$e.Xf)(o[t]).subscribe(new Ge.Q(e,function(e){s||(s=!0,i--),n[t]=e},function(){return r--},void 0,function(){(!r||!s)&&(i||e.next(a?He(a,n):n),e.complete())}))},u=0;u<t;u++)s(u);else e.complete()});return r?s.pipe(Ze(r)):s}var hu=o(815),fu=f(function e(){d(this,e)}),du=f(function e(){d(this,e)}),pu=function(){function e(t){var n=this;d(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return f(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,a(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),vu=function(){function e(){d(this,e)}return f(e,[{key:"encodeKey",value:function(e){return yu(e)}},{key:"encodeValue",value:function(e){return yu(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}(),gu=/%(\d[a-f0-9])/gi,mu={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function yu(e){return encodeURIComponent(e).replace(gu,function(e,t){var n;return null!==(n=mu[t])&&void 0!==n?n:e})}function ku(e){return"".concat(e)}var _u=function(){function e(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d(this,e),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new vu,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,n){var r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(e){var i=e.indexOf("="),o=t(-1==i?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,i)),n.decodeValue(e.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(e){var t=r.fromObject[e];n.map.set(e,Array.isArray(t)?t:[t])})):this.map=null}return f(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(ku(t.value)),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(ku(t.value));-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}(),wu=function(){function e(){d(this,e),this.map=new Map}return f(e,[{key:"set",value:function(e,t){return this.map.set(e,t),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"keys",value:function(){return this.map.keys()}}]),e}();function bu(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function xu(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Su(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Tu=function(){function e(t,n,r,i){var o;if(d(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new pu),this.context||(this.context=new wu),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new _u,this.urlWithParams=n}return f(e,[{key:"serializeBody",value:function(){return null===this.body?null:bu(this.body)||xu(this.body)||Su(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof _u?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Su(this.body)?null:xu(this.body)?this.body.type||null:bu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _u?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,c=n.headers||this.headers,l=n.params||this.params,h=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce(function(e,t){return e.set(t,n.setHeaders[t])},c)),n.setParams&&(l=Object.keys(n.setParams).reduce(function(e,t){return e.set(t,n.setParams[t])},l)),new e(r,i,a,{params:l,headers:c,context:h,reportProgress:u,responseType:o,withCredentials:s})}}]),e}(),Eu=((Eu=Eu||{})[Eu.Sent=0]="Sent",Eu[Eu.UploadProgress=1]="UploadProgress",Eu[Eu.ResponseHeader=2]="ResponseHeader",Eu[Eu.DownloadProgress=3]="DownloadProgress",Eu[Eu.Response=4]="Response",Eu[Eu.User=5]="User",Eu),Cu=f(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";d(this,e),this.headers=t.headers||new pu,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}),Iu=function(e){p(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,n),(e=t.call(this,r)).type=Eu.ResponseHeader,e}return f(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Cu),Ru=function(e){p(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,n),(e=t.call(this,r)).type=Eu.Response,e.body=void 0!==r.body?r.body:null,e}return f(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Cu),Au=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return f(n)}(Cu);function Ou(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Pu=function(){var e=function(){function e(t){d(this,e),this.handler=t}return f(e,[{key:"request",value:function(e,t){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof Tu?n=e:(r=a.headers instanceof pu?a.headers:new pu(a.headers),a.params&&(i=a.params instanceof _u?a.params:new _u({fromObject:a.params})),n=new Tu(e,t,void 0!==a.body?a.body:null,{headers:r,context:a.context,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=Pe(n).pipe(vt(function(e){return o.handler.handle(e)}));if(e instanceof Tu||"events"===a.observe)return s;var u=s.pipe(ht(function(e){return e instanceof Ru}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe((0,Be.U)(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe((0,Be.U)(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe((0,Be.U)(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe((0,Be.U)(function(e){return e.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new _u).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,Ou(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,Ou(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,Ou(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(fu))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Nu=function(){function e(t,n){d(this,e),this.next=t,this.interceptor=n}return f(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),Du=new s.OlP("HTTP_INTERCEPTORS"),Lu=function(){var e=function(){function e(){d(this,e)}return f(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Fu=/^\)\]\}',?\n/,Mu=function(){var e=function(){function e(t){d(this,e),this.xhrFactory=t}return f(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Le.y(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new pu(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new Iu({headers:i,status:t,statusText:n,url:o})},c=function(){var t=u(),i=t.headers,o=t.status,a=t.statusText,s=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var h=c;c=c.replace(Fu,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new Ru({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new Au({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(e){var t=u().url,i=new Au({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(u()),h=!0);var i={type:Eu.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&!!r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:Eu.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),e.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Eu.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),e.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(X))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Uu=new s.OlP("XSRF_COOKIE_NAME"),ju=new s.OlP("XSRF_HEADER_NAME"),Vu=f(function e(){d(this,e)}),qu=function(){var e=function(){function e(t,n,r){d(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return f(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=q(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(h),s.LFG(s.Lbi),s.LFG(Uu))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Bu=function(){var e=function(){function e(t,n){d(this,e),this.tokenService=t,this.headerName=n}return f(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Vu),s.LFG(ju))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),zu=function(){var e=function(){function e(t,n){d(this,e),this.backend=t,this.injector=n,this.chain=null}return f(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(Du,[]);this.chain=t.reduceRight(function(e,t){return new Nu(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(du),s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Zu=function(){var e=function(){function e(){d(this,e)}return f(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Bu,useClass:Lu}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Uu,useValue:t.cookieName}:[],t.headerName?{provide:ju,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Bu,{provide:Du,useExisting:Bu,multi:!0},{provide:Vu,useClass:qu},{provide:Uu,useValue:"XSRF-TOKEN"},{provide:ju,useValue:"X-XSRF-TOKEN"}]}),e}(),Hu=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Pu,{provide:fu,useClass:zu},Mu,{provide:du,useExisting:Mu}],imports:[[Zu.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}(),Gu=["*"];function Ku(e){return Error('Unable to find icon with the name "'.concat(e,'"'))}function Wu(e){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \"".concat(e,'".'))}function Qu(e){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \"".concat(e,'".'))}var Yu=f(function e(t,n,r){d(this,e),this.url=t,this.svgText=n,this.options=r}),Ju=function(){var e=function(){function e(t,n,r,i){d(this,e),this._httpClient=t,this._sanitizer=n,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}return f(e,[{key:"addSvgIcon",value:function(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}},{key:"addSvgIconLiteral",value:function(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}},{key:"addSvgIconInNamespace",value:function(e,t,n,r){return this._addSvgIconConfig(e,t,new Yu(n,null,r))}},{key:"addSvgIconResolver",value:function(e){return this._resolvers.push(e),this}},{key:"addSvgIconLiteralInNamespace",value:function(e,t,n,r){var i=this._sanitizer.sanitize(s.q3G.HTML,n);if(!i)throw Qu(n);return this._addSvgIconConfig(e,t,new Yu("",i,r))}},{key:"addSvgIconSet",value:function(e,t){return this.addSvgIconSetInNamespace("",e,t)}},{key:"addSvgIconSetLiteral",value:function(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}},{key:"addSvgIconSetInNamespace",value:function(e,t,n){return this._addSvgIconSetConfig(e,new Yu(t,null,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(e,t,n){var r=this._sanitizer.sanitize(s.q3G.HTML,t);if(!r)throw Qu(t);return this._addSvgIconSetConfig(e,new Yu("",r,n))}},{key:"registerFontClassAlias",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._fontCssClassesByAlias.set(e,t),this}},{key:"classNameForFontAlias",value:function(e){return this._fontCssClassesByAlias.get(e)||e}},{key:"setDefaultFontSetClass",value:function(e){return this._defaultFontSetClass=e,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(e){var t=this,n=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!n)throw Wu(e);var r=this._cachedIconsByUrl.get(n);return r?Pe(Xu(r)):this._loadSvgIconFromConfig(new Yu(e,null)).pipe((0,wt.b)(function(e){return t._cachedIconsByUrl.set(n,e)}),(0,Be.U)(function(e){return Xu(e)}))}},{key:"getNamedSvgIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$u(t,e),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e))return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);var i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):function(e,t){var n=(0,pt.m)(e)?e:function(){return e};return new Le.y(function(e){return e.error(n())})}(Ku(n))}},{key:"ngOnDestroy",value:function(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(e){return e.svgText?Pe(Xu(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Be.U)(function(e){return Xu(e)}))}},{key:"_getSvgFromIconSetConfigs",value:function(e,t){var n=this,r=this._extractIconWithNameFromAnySet(e,t);return r?Pe(r):lu(t.filter(function(e){return!e.svgText}).map(function(e){return n._loadSvgIconSetFromConfig(e).pipe(ft(function(t){var r="Loading icon set URL: ".concat(n._sanitizer.sanitize(s.q3G.RESOURCE_URL,e.url)," failed: ").concat(t.message);return n._errorHandler.handleError(new Error(r)),Pe(null)}))})).pipe((0,Be.U)(function(){var r=n._extractIconWithNameFromAnySet(e,t);if(!r)throw Ku(e);return r}))}},{key:"_extractIconWithNameFromAnySet",value:function(e,t){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.svgText&&r.svgText.indexOf(e)>-1){var i=this._svgElementFromConfig(r),o=this._extractSvgIconFromSet(i,e,r.options);if(o)return o}}return null}},{key:"_loadSvgIconFromConfig",value:function(e){var t=this;return this._fetchIcon(e).pipe((0,wt.b)(function(t){return e.svgText=t}),(0,Be.U)(function(){return t._svgElementFromConfig(e)}))}},{key:"_loadSvgIconSetFromConfig",value:function(e){return e.svgText?Pe(null):this._fetchIcon(e).pipe((0,wt.b)(function(t){return e.svgText=t}))}},{key:"_extractSvgIconFromSet",value:function(e,t,n){var r=e.querySelector('[id="'.concat(t,'"]'));if(!r)return null;var i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);var o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}},{key:"_svgElementFromString",value:function(e){var t=this._document.createElement("DIV");t.innerHTML=e;var n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(e){for(var t=this._svgElementFromString("<svg></svg>"),n=e.attributes,r=0;r<n.length;r++){var i=n[r],o=i.name,a=i.value;"id"!==o&&t.setAttribute(o,a)}for(var s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[s].cloneNode(!0));return t}},{key:"_setSvgAttributes",value:function(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}},{key:"_fetchIcon",value:function(e){var t,n=this,r=e.url,i=e.options,o=null!==(t=null==i?void 0:i.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error('Cannot fetch icon from URL "'.concat(r,'".'));var a=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!a)throw Wu(r);var u=this._inProgressUrlFetches.get(a);if(u)return u;var c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(bt(function(){return n._inProgressUrlFetches.delete(a)}),(0,hu.B)());return this._inProgressUrlFetches.set(a,c),c}},{key:"_addSvgIconConfig",value:function(e,t,n){return this._svgIconConfigs.set($u(e,t),n),this}},{key:"_addSvgIconSetConfig",value:function(e,t){var n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}},{key:"_svgElementFromConfig",value:function(e){if(!e.svgElement){var t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}},{key:"_getIconConfigFromResolvers",value:function(e,t){for(var n=0;n<this._resolvers.length;n++){var r=this._resolvers[n](t,e);if(r)return ec(r)?new Yu(r.url,null,r.options):new Yu(r,null)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Pu,8),s.LFG(Te),s.LFG(h,8),s.LFG(s.qLn))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(Pu,8),(0,s.LFG)(Te),(0,s.LFG)(h,8),(0,s.LFG)(s.qLn))},token:e,providedIn:"root"}),e}();function Xu(e){return e.cloneNode(!0)}function $u(e,t){return e+":"+t}function ec(e){return!(!e.url||!e.options)}var tc,nc=Gs(f(function e(t){d(this,e),this._elementRef=t})),rc=new s.OlP("mat-icon-location",{providedIn:"root",factory:function(){var e=(0,s.f3M)(h),t=e?e.location:null;return{getPathname:function(){return t?t.pathname+t.search:""}}}}),ic=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],oc=ic.map(function(e){return"[".concat(e,"]")}).join(", "),ac=/^url\(['"]?#(.*?)['"]?\)$/,sc=function(){var e=function(e){p(r,e);var n=v(r);function r(e,t,i,o,a){var s;return d(this,r),(s=n.call(this,e))._iconRegistry=t,s._location=o,s._errorHandler=a,s._inline=!1,s._currentIconFetch=nt.w0.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true"),s}return f(r,[{key:"inline",get:function(){return this._inline},set:function(e){this._inline=ds(e)}},{key:"svgIcon",get:function(){return this._svgIcon},set:function(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}},{key:"fontSet",get:function(){return this._fontSet},set:function(e){var t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(e){var t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}},{key:"_splitIconName",value:function(e){if(!e)return["",""];var t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error('Invalid icon name: "'.concat(e,'"'))}}},{key:"ngOnInit",value:function(){this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var e=this._elementsWithExternalReferences;if(e&&e.size){var t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}},{key:"ngOnDestroy",value:function(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(e){this._clearSvgElement();for(var t=e.querySelectorAll("style"),n=0;n<t.length;n++)t[n].textContent+=" ";var r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}},{key:"_clearSvgElement",value:function(){var e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){var n=e.childNodes[t];(1!==n.nodeType||"svg"===n.nodeName.toLowerCase())&&e.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(e){return"string"==typeof e?e.trim().split(" ")[0]:e}},{key:"_prependPathToReferences",value:function(e){var t=this._elementsWithExternalReferences;t&&t.forEach(function(t,n){t.forEach(function(t){n.setAttribute(t.name,"url('".concat(e,"#").concat(t.value,"')"))})})}},{key:"_cacheChildrenWithExternalReferences",value:function(e){for(var t=e.querySelectorAll(oc),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,r=function(e){ic.forEach(function(r){var i=t[e],o=i.getAttribute(r),a=o?o.match(ac):null;if(a){var s=n.get(i);s||(s=[],n.set(i,s)),s.push({name:r,value:a[1]})}})},i=0;i<t.length;i++)r(i)}},{key:"_updateSvgIcon",value:function(e){var n=this;if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){var r=t(this._splitIconName(e),2),i=r[0],o=r[1];i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe((0,st.q)(1)).subscribe(function(e){return n._setSvgElement(e)},function(e){n._errorHandler.handleError(new Error("Error retrieving icon ".concat(i,":").concat(o,"! ").concat(e.message)))})}}}]),r}(nc);return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(Ju),s.$8M("aria-hidden"),s.Y36(rc),s.Y36(s.qLn))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(s.uIk("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),s.ekj("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:Gu,decls:1,vars:0,template:function(e,t){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e}(),uc=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Hs],Hs]}),e}(),cc=o(1860),lc=o(4415),hc=1,fc={};function dc(e){return e in fc&&(delete fc[e],!0)}var pc=function(e){var t=hc++;return fc[t]=!0,tc||(tc=Promise.resolve()),tc.then(function(){return dc(t)&&e()}),t},vc=function(e){dc(e)},gc={setImmediate:function(){var e=gc.delegate;return((null==e?void 0:e.setImmediate)||pc).apply(void 0,arguments)},clearImmediate:function(e){var t=gc.delegate;return((null==t?void 0:t.clearImmediate)||vc)(e)},delegate:void 0},mc=o(2994);new(function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"flush",value:function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}}}]),n}(mc.v))(function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return f(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?i(b(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=gc.setImmediate(e.flush.bind(e,void 0))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=r&&r>0||null==r&&this.delay>0)return i(b(n.prototype),"recycleAsyncId",this).call(this,e,t,r);e.actions.some(function(e){return e.id===t})||(gc.clearImmediate(t),e._scheduled=void 0)}}]),n}(lc.o));var yc=o(408);function kc(e){return(0,rt.e)(function(t,n){(0,$e.Xf)(e).subscribe(new Ge.Q(n,function(){return n.complete()},yc.Z)),!n.closed&&t.subscribe(n)})}var _c=o(1830),wc=function(){function e(){d(this,e)}return f(e,[{key:"attach",value:function(e){return this._attachedHost=e,e.attach(this)}},{key:"detach",value:function(){var e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),bc=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this)).component=e,a.viewContainerRef=r,a.injector=i,a.componentFactoryResolver=o,a}return f(n)}(wc),xc=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).templateRef=e,o.viewContainerRef=r,o.context=i,o}return f(n,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=t,i(b(n.prototype),"attach",this).call(this,e)}},{key:"detach",value:function(){return this.context=void 0,i(b(n.prototype),"detach",this).call(this)}}]),n}(wc),Sc=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).element=e instanceof s.SBq?e.nativeElement:e,r}return f(n)}(wc),Tc=function(){function e(){d(this,e),this._isDisposed=!1,this.attachDomPortal=null}return f(e,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(e){return e instanceof bc?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof xc?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Sc?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),e}(),Ec=function(e){p(n,e);var t=v(n);function n(e,r,o,a,s){var u,c;return d(this,n),(c=t.call(this)).outletElement=e,c._componentFactoryResolver=r,c._appRef=o,c._defaultInjector=a,c.attachDomPortal=function(e){var t=e.element,r=c._document.createComment("dom-portal");t.parentNode.insertBefore(r,t),c.outletElement.appendChild(t),c._attachedPortal=e,i((u=m(c),b(n.prototype)),"setDisposeFn",u).call(u,function(){r.parentNode&&r.parentNode.replaceChild(t,r)})},c._document=s,c}return f(n,[{key:"attachComponentPortal",value:function(e){var t,n=this,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(function(){return t.destroy()})):(t=r.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn(function(){n._appRef.detachView(t.hostView),t.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}},{key:"attachTemplatePortal",value:function(e){var t=this,n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(function(e){return t.outletElement.appendChild(e)}),r.detectChanges(),this.setDisposeFn(function(){var e=n.indexOf(r);-1!==e&&n.remove(e)}),this._attachedPortal=e,r}},{key:"dispose",value:function(){i(b(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(Tc),Cc=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r,o){var a,u;return d(this,n),(u=t.call(this))._componentFactoryResolver=e,u._viewContainerRef=r,u._isInitialized=!1,u.attached=new s.vpe,u.attachDomPortal=function(e){var t=e.element,r=u._document.createComment("dom-portal");e.setAttachedHost(m(u)),t.parentNode.insertBefore(r,t),u._getRootNode().appendChild(t),u._attachedPortal=e,i((a=m(u),b(n.prototype)),"setDisposeFn",a).call(a,function(){r.parentNode&&r.parentNode.replaceChild(t,r)})},u._document=o,u}return f(n,[{key:"portal",get:function(){return this._attachedPortal},set:function(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&i(b(n.prototype),"detach",this).call(this),e&&i(b(n.prototype),"attach",this).call(this,e),this._attachedPortal=e)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){i(b(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(e){e.setAttachedHost(this);var t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=t.createComponent(r,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),i(b(n.prototype),"setDisposeFn",this).call(this,function(){return o.destroy()}),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}},{key:"attachTemplatePortal",value:function(e){var t=this;e.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return i(b(n.prototype),"setDisposeFn",this).call(this,function(){return t._viewContainerRef.clear()}),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}},{key:"_getRootNode",value:function(){var e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}]),n}(Tc);return e.\u0275fac=function(t){return new(t||e)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(h))},e.\u0275dir=s.lG2({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),e}(),Ic=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e}(),Rc=o(6602),Ac=["addListener","removeListener"],Oc=["addEventListener","removeEventListener"],Pc=["on","off"];function Nc(e,n,r,i){if((0,pt.m)(r)&&(i=r,r=void 0),i)return Nc(e,n,r).pipe(Ze(i));var o=t(function(e){return(0,pt.m)(e.addEventListener)&&(0,pt.m)(e.removeEventListener)}(e)?Oc.map(function(t){return function(i){return e[t](n,i,r)}}):function(e){return(0,pt.m)(e.addListener)&&(0,pt.m)(e.removeListener)}(e)?Ac.map(Dc(e,n)):function(e){return(0,pt.m)(e.on)&&(0,pt.m)(e.off)}(e)?Pc.map(Dc(e,n)):[],2),a=o[0],s=o[1];if(!a&&(0,Rc.z)(e))return(0,dt.z)(function(e){return Nc(e,n,r)})((0,$e.Xf)(e));if(!a)throw new TypeError("Invalid event target");return new Le.y(function(e){var t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.next(1<n.length?n:n[0])};return a(t),function(){return s(t)}})}function Dc(e,t){return function(n){return function(r){return e[n](t,r)}}}var Lc={schedule:function(e){var t=requestAnimationFrame,n=cancelAnimationFrame,r=Lc.delegate;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);var i=t(function(t){n=void 0,e(t)});return new nt.w0(function(){return null==n?void 0:n(i)})},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Lc.delegate;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame).apply(void 0,arguments)}),cancelAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Lc.delegate;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,arguments)}),delegate:void 0};function Fc(e,t){return e===t}function Mc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs.P;return function(e){return(0,rt.e)(function(t,n){var r=!1,i=null,o=null,a=!1,s=function(){if(null==o||o.unsubscribe(),o=null,r){r=!1;var e=i;i=null,n.next(e)}a&&n.complete()},u=function(){o=null,a&&n.complete()};t.subscribe(new Ge.Q(n,function(t){r=!0,i=t,o||(0,$e.Xf)(e()).subscribe(o=new Ge.Q(n,s,u))},function(){a=!0,(!r||!o||o.closed)&&n.complete()}))})}(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fs.P,r=-1;return null!=t&&((0,_c.K)(t)?n=t:r=t),new Le.y(function(t){var i=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);var o=0;return n.schedule(function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())},i)})}(e,t)})}function Uc(){return(0,rt.e)(function(e,t){var n,r=!1;e.subscribe(new Ge.Q(t,function(e){var i=n;n=e,r&&t.next([i,e]),r=!0}))})}new(function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"flush",value:function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var n,r=this.actions;e=e||r.shift();do{if(n=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,n){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw n}}}]),n}(mc.v))(function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return f(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?i(b(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Lc.requestAnimationFrame(function(){return e.flush(void 0)})))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=r&&r>0||null==r&&this.delay>0)return i(b(n.prototype),"recycleAsyncId",this).call(this,e,t,r);e.actions.some(function(e){return e.id===t})||(Lc.cancelAnimationFrame(t),e._scheduled=void 0)}}]),n}(lc.o));var jc=o(2069),Vc=function(e){p(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jc.l;return d(this,n),(e=t.call(this))._bufferSize=r,e._windowTime=i,e._timestampProvider=o,e._buffer=[],e._infiniteTimeWindow=!0,e._infiniteTimeWindow=i===1/0,e._bufferSize=Math.max(1,r),e._windowTime=Math.max(1,i),e}return f(n,[{key:"next",value:function(e){var t=this.isStopped,r=this._buffer,o=this._infiniteTimeWindow,a=this._timestampProvider,s=this._windowTime;t||(r.push(e),!o&&r.push(a.now()+s)),this._trimBuffer(),i(b(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t}},{key:"_trimBuffer",value:function(){var e=this._bufferSize,t=this._timestampProvider,n=this._buffer,r=this._infiniteTimeWindow,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){for(var o=t.now(),a=0,s=1;s<n.length&&n[s]<=o;s+=2)a=s;a&&n.splice(0,a+1)}}}]),n}(Ne.x);function qc(e,t,n){var r,i,o,a=!1;return e&&"object"==typeof e?(o=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(i=e.windowTime)&&void 0!==i?i:1/0,a=!!e.refCount,n=e.scheduler):o=null!=e?e:1/0,(0,hu.B)({connector:function(){return new Vc(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Bc=function(){var e=function(){function e(t,n,r){d(this,e),this._ngZone=t,this._platform=n,this._scrolled=new Ne.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return f(e,[{key:"register",value:function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(function(){return t._scrolled.next(e)}))}},{key:"deregister",value:function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}},{key:"scrolled",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Le.y(function(n){e._globalSubscription||e._addGlobalListener();var r=t>0?e._scrolled.pipe(Mc(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){r.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}}):Pe()}},{key:"ngOnDestroy",value:function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,n){return e.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(ht(function(e){return!e||n.indexOf(e)>-1}))}},{key:"getAncestorScrollContainers",value:function(e){var t=this,n=[];return this.scrollContainers.forEach(function(r,i){t._scrollableContainsElement(i,e)&&n.push(i)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(e,t){var n=gs(t),r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Nc(e._getWindow().document,"scroll").subscribe(function(){return e._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.R0b),s.LFG(_s),s.LFG(h,8))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(s.R0b),(0,s.LFG)(_s),(0,s.LFG)(h,8))},token:e,providedIn:"root"}),e}(),zc=function(){var e=function(){function e(t,n,r){var i=this;d(this,e),this._platform=t,this._change=new Ne.x,this._changeListener=function(e){i._change.next(e)},this._document=r,n.runOutsideAngular(function(){if(t.isBrowser){var e=i._getWindow();e.addEventListener("resize",i._changeListener),e.addEventListener("orientationchange",i._changeListener)}i.change().subscribe(function(){return i._updateViewportSize()})})}return f(e,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}},{key:"getViewportRect",value:function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,r=t.height;return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e>0?this._change.pipe(Mc(e)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(_s),s.LFG(s.R0b),s.LFG(h,8))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(_s),(0,s.LFG)(s.R0b),(0,s.LFG)(h,8))},token:e,providedIn:"root"}),e}(),Zc=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e}(),Hc=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[qs,ws,Zc],qs,Zc]}),e}(),Gc=function(){if(null==ys){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ys=!1;if("scrollBehavior"in document.documentElement.style)ys=!0;else{var e=Element.prototype.scrollTo;ys=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return ys}(),Kc=function(){function e(t,n){d(this,e),this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return f(e,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=vs(-this._previousScrollPosition.left),e.style.top=vs(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var e=this._document.documentElement,t=e.style,n=this._document.body.style,r=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Gc&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Gc&&(t.scrollBehavior=r,n.scrollBehavior=i)}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}]),e}(),Wc=function(){function e(t,n,r,i){var o=this;d(this,e),this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run(function(){return o._overlayRef.detach()})}}return f(e,[{key:"attach",value:function(e){this._overlayRef=e}},{key:"enable",value:function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),Qc=function(){function e(){d(this,e)}return f(e,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),e}();function Yc(e,t){return t.some(function(t){return e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right})}function Jc(e,t){return t.some(function(t){return e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right})}var Xc=function(){function e(t,n,r,i){d(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}return f(e,[{key:"attach",value:function(e){this._overlayRef=e}},{key:"enable",value:function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),n=e._viewportRuler.getViewportSize(),r=n.width,i=n.height;Yc(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(e.disable(),e._ngZone.run(function(){return e._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),e}(),$c=function(){var e=f(function e(t,n,r,i){var o=this;d(this,e),this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new Qc},this.close=function(e){return new Wc(o._scrollDispatcher,o._ngZone,o._viewportRuler,e)},this.block=function(){return new Kc(o._viewportRuler,o._document)},this.reposition=function(e){return new Xc(o._scrollDispatcher,o._viewportRuler,o._ngZone,e)},this._document=i});return e.\u0275fac=function(t){return new(t||e)(s.LFG(Bc),s.LFG(zc),s.LFG(s.R0b),s.LFG(h))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(Bc),(0,s.LFG)(zc),(0,s.LFG)(s.R0b),(0,s.LFG)(h))},token:e,providedIn:"root"}),e}(),el=f(function e(t){if(d(this,e),this.scrollStrategy=new Qc,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t)for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];void 0!==t[i]&&(this[i]=t[i])}}),tl=f(function e(t,n,r,i,o){d(this,e),this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=t.originX,this.originY=t.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}),nl=f(function e(t,n){d(this,e),this.connectionPair=t,this.scrollableViewProperties=n}),rl=function(){var e=function(){function e(t){d(this,e),this._attachedOverlays=[],this._document=t}return f(e,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(e){this.remove(e),this._attachedOverlays.push(e)}},{key:"remove",value:function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(h))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(h))},token:e,providedIn:"root"}),e}(),il=function(){var e=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e))._keydownListener=function(e){for(var t=r._attachedOverlays,n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}},r}return f(n,[{key:"add",value:function(e){i(b(n.prototype),"add",this).call(this,e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),n}(rl);return e.\u0275fac=function(t){return new(t||e)(s.LFG(h))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(h))},token:e,providedIn:"root"}),e}(),ol=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e))._platform=r,i._cursorStyleIsSet=!1,i._clickListener=function(e){for(var t=e.composedPath?e.composedPath()[0]:e.target,n=i._attachedOverlays.slice(),r=n.length-1;r>-1;r--){var o=n[r];if(!(o._outsidePointerEvents.observers.length<1)&&o.hasAttached()){if(o.overlayElement.contains(t))break;o._outsidePointerEvents.next(e)}}},i}return f(n,[{key:"add",value:function(e){if(i(b(n.prototype),"add",this).call(this,e),!this._isAttached){var t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}},{key:"detach",value:function(){if(this._isAttached){var e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}]),n}(rl);return e.\u0275fac=function(t){return new(t||e)(s.LFG(h),s.LFG(_s))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(h),(0,s.LFG)(_s))},token:e,providedIn:"root"}),e}(),al=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),sl=function(){var e=function(){function e(t,n){d(this,e),this._platform=n,this._document=t}return f(e,[{key:"ngOnDestroy",value:function(){var e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e="cdk-overlay-container";if(this._platform.isBrowser||al)for(var t=this._document.querySelectorAll(".".concat(e,'[platform="server"], .').concat(e,'[platform="test"]')),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);var r=this._document.createElement("div");r.classList.add(e),al?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(h),s.LFG(_s))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(h),(0,s.LFG)(_s))},token:e,providedIn:"root"}),e}(),ul=function(){function e(t,n,r,i,o,a,s,u,c){var l=this;d(this,e),this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ne.x,this._attachments=new Ne.x,this._detachments=new Ne.x,this._locationChanges=nt.w0.EMPTY,this._backdropClickHandler=function(e){return l._backdropClick.next(e)},this._keydownEvents=new Ne.x,this._outsidePointerEvents=new Ne.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return f(e,[{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}},{key:"attach",value:function(e){var t=this,n=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,st.q)(1)).subscribe(function(){t.hasAttached()&&t.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(function(){return t.dispose()})),this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}}},{key:"dispose",value:function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}},{key:"setDirection",value:function(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}},{key:"addPanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!0)}},{key:"removePanelClass",value:function(e){this._pane&&this._toggleClasses(this._pane,e,!1)}},{key:"getDirection",value:function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}},{key:"updateScrollStrategy",value:function(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var e=this._pane.style;e.width=vs(this._config.width),e.height=vs(this._config.height),e.minWidth=vs(this._config.minWidth),e.minHeight=vs(this._config.minHeight),e.maxWidth=vs(this._config.maxWidth),e.maxHeight=vs(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(e){this._pane.style.pointerEvents=e?"":"none"}},{key:"_attachBackdrop",value:function(){var e=this,t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){e._backdropElement&&e._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var e=this,t=this._backdropElement;if(t){var n,r=function r(){t&&(t.removeEventListener("click",e._backdropClickHandler),t.removeEventListener("transitionend",r),t.parentNode&&t.parentNode.removeChild(t)),e._backdropElement==t&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(t,e._config.backdropClass,!1),clearTimeout(n)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){t.addEventListener("transitionend",r)}),t.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(function(){return setTimeout(r,500)})}}},{key:"_toggleClasses",value:function(e,t,n){var r=e.classList;ps(t).forEach(function(e){e&&(n?r.add(e):r.remove(e))})}},{key:"_detachContentWhenStable",value:function(){var e=this;this._ngZone.runOutsideAngular(function(){var t=e._ngZone.onStable.pipe(kc((0,cc.T)(e._attachments,e._detachments))).subscribe(function(){(!e._pane||!e._host||0===e._pane.children.length)&&(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),t.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}]),e}(),cl="cdk-overlay-connected-position-bounding-box",ll=/([A-Za-z%]+)$/,hl=function(){function e(t,n,r,i,o){d(this,e),this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ne.x,this._resizeSubscription=nt.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}return f(e,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(e){var t=this;this._validatePositions(),e.hostElement.classList.add(cl),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){t._isInitialRender=!0,t.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var e,t,n=this._originRect,r=this._overlayRect,i=this._viewportRect,o=[],a=u(this._preferredPositions);try{for(a.s();!(t=a.n()).done;){var s=t.value,c=this._getOriginPoint(n,s),l=this._getOverlayPoint(c,r,s),h=this._getOverlayFit(l,r,i,s);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,c);this._canFitWithFlexibleDimensions(h,l,i)?o.push({position:s,origin:c,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(c,s)}):(!e||e.overlayFit.visibleArea<h.visibleArea)&&(e={overlayFit:h,overlayPoint:l,originPoint:c,position:s,overlayRect:r})}}catch(y){a.e(y)}finally{a.f()}if(o.length){var f,d=null,p=-1,v=u(o);try{for(v.s();!(f=v.n()).done;){var g=f.value,m=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);m>p&&(p=m,d=g)}}catch(y){v.e(y)}finally{v.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(e.position,e.originPoint);this._applyPosition(e.position,e.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&fl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(cl),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}},{key:"withScrollableContainers",value:function(e){return this._scrollables=e,this}},{key:"withPositions",value:function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(e){return this._viewportMargin=e,this}},{key:"withFlexibleDimensions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=e,this}},{key:"withGrowAfterOpen",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=e,this}},{key:"withPush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=e,this}},{key:"withLockedPosition",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=e,this}},{key:"setOrigin",value:function(e){return this._origin=e,this}},{key:"withDefaultOffsetX",value:function(e){return this._offsetX=e,this}},{key:"withDefaultOffsetY",value:function(e){return this._offsetY=e,this}},{key:"withTransformOriginOn",value:function(e){return this._transformOriginSelector=e,this}},{key:"_getOriginPoint",value:function(e,t){var n;if("center"==t.originX)n=e.left+e.width/2;else{var r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return{x:n,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}}},{key:"_getOverlayPoint",value:function(e,t,n){var r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}},{key:"_getOverlayFit",value:function(e,t,n,r){var i=pl(t),o=e.x,a=e.y,s=this._getOffset(r,"x"),u=this._getOffset(r,"y");s&&(o+=s),u&&(a+=u);var c=0-a,l=a+i.height-n.height,h=this._subtractOverflows(i.width,0-o,o+i.width-n.width),f=this._subtractOverflows(i.height,c,l),d=h*f;return{visibleArea:d,isCompletelyWithinViewport:i.width*i.height===d,fitsInViewportVertically:f===i.height,fitsInViewportHorizontally:h==i.width}}},{key:"_canFitWithFlexibleDimensions",value:function(e,t,n){if(this._hasFlexibleDimensions){var r=n.bottom-t.y,i=n.right-t.x,o=dl(this._overlayRef.getConfig().minHeight),a=dl(this._overlayRef.getConfig().minWidth),s=e.fitsInViewportHorizontally||null!=a&&a<=i;return(e.fitsInViewportVertically||null!=o&&o<=r)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var r,i,o=pl(t),a=this._viewportRect,s=Math.max(e.x+o.width-a.width,0),u=Math.max(e.y+o.height-a.height,0),c=Math.max(a.top-n.top-e.y,0),l=Math.max(a.left-n.left-e.x,0);return r=o.width<=a.width?l||-s:e.x<this._viewportMargin?a.left-n.left-e.x:0,i=o.height<=a.height?c||-u:e.y<this._viewportMargin?a.top-n.top-e.y:0,this._previousPushAmount={x:r,y:i},{x:e.x+r,y:e.y+i}}},{key:"_applyPosition",value:function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new nl(e,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(e){if(this._transformOriginSelector){var t,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin="".concat(t," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(e,t){var n,r,i,o,a,s,u=this._viewportRect,c=this._isRtl();if("top"===t.overlayY)r=e.y,n=u.height-r+this._viewportMargin;else if("bottom"===t.overlayY)i=u.height-e.y+2*this._viewportMargin,n=u.height-i+this._viewportMargin;else{var l=Math.min(u.bottom-e.y+u.top,e.y),h=this._lastBoundingBoxSize.height;n=2*l,r=e.y-l,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.y-h/2)}if("end"===t.overlayX&&!c||"start"===t.overlayX&&c)s=u.width-e.x+this._viewportMargin,o=e.x-this._viewportMargin;else if("start"===t.overlayX&&!c||"end"===t.overlayX&&c)a=e.x,o=u.right-e.x;else{var f=Math.min(u.right-e.x+u.left,e.x),d=this._lastBoundingBoxSize.width;o=2*f,a=e.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.x-d/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(e,t){var n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=vs(n.height),r.top=vs(n.top),r.bottom=vs(n.bottom),r.width=vs(n.width),r.left=vs(n.left),r.right=vs(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=vs(i)),o&&(r.maxWidth=vs(o))}this._lastBoundingBoxSize=n,fl(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){fl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){fl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(e,t){var n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){var a=this._viewportRuler.getViewportScrollPosition();fl(n,this._getExactOverlayY(t,e,a)),fl(n,this._getExactOverlayX(t,e,a))}else n.position="static";var s="",u=this._getOffset(t,"x"),c=this._getOffset(t,"y");u&&(s+="translateX(".concat(u,"px) ")),c&&(s+="translateY(".concat(c,"px)")),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=vs(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=vs(o.maxWidth):i&&(n.maxWidth="")),fl(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(e,t,n){var r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=vs(i.y),r}},{key:"_getExactOverlayX",value:function(e,t,n){var r={left:"",right:""},i=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"===(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=vs(i.x),r}},{key:"_getScrollVisibility",value:function(){var e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(function(e){return e.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:Jc(e,n),isOriginOutsideView:Yc(e,n),isOverlayClipped:Jc(t,n),isOverlayOutsideView:Yc(t,n)}}},{key:"_subtractOverflows",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(function(e,t){return e-Math.max(t,0)},e)}},{key:"_getNarrowedViewportRect",value:function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(e){var t=this;this._pane&&ps(e).forEach(function(e){""!==e&&-1===t._appliedPanelClasses.indexOf(e)&&(t._appliedPanelClasses.push(e),t._pane.classList.add(e))})}},{key:"_clearPanelClasses",value:function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach(function(t){e._pane.classList.remove(t)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var e=this._origin;if(e instanceof s.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();var t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}]),e}();function fl(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function dl(e){if("number"!=typeof e&&null!=e){var n=t(e.split(ll),2),r=n[0],i=n[1];return i&&"px"!==i?null:parseFloat(r)}return e||null}function pl(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}var vl,gl=function(){function e(t,n,r,i,o,a,s){d(this,e),this._preferredPositions=[],this._positionStrategy=new hl(r,i,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,n),this.onPositionChange=this._positionStrategy.positionChanges}return f(e,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(e){this._positionStrategy.withScrollableContainers(e)}},{key:"withFallbackPosition",value:function(e,t,n,r){var i=new tl(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}},{key:"withOffsetX",value:function(e){return this._positionStrategy.withDefaultOffsetX(e),this}},{key:"withOffsetY",value:function(e){return this._positionStrategy.withDefaultOffsetY(e),this}},{key:"withLockedPosition",value:function(e){return this._positionStrategy.withLockedPosition(e),this}},{key:"withPositions",value:function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(e){return this._positionStrategy.setOrigin(e),this}}]),e}(),ml="cdk-global-overlay-wrapper",yl=function(){function e(){d(this,e),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return f(e,[{key:"attach",value:function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(ml),this._isDisposed=!1}},{key:"top",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}},{key:"left",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}},{key:"right",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}},{key:"width",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}},{key:"height",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}},{key:"centerHorizontally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(e),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(e),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),r=n.width,i=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=s?"0":this._leftOffset,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,s?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=u?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(ml),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}}]),e}(),kl=function(){var e=function(){function e(t,n,r,i){d(this,e),this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i}return f(e,[{key:"global",value:function(){return new yl}},{key:"connectedTo",value:function(e,t,n){return new gl(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(e){return new hl(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(zc),s.LFG(h),s.LFG(_s),s.LFG(sl))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(zc),(0,s.LFG)(h),(0,s.LFG)(_s),(0,s.LFG)(sl))},token:e,providedIn:"root"}),e}(),_l=0,wl=function(){var e=function(){function e(t,n,r,i,o,a,s,u,c,l,h){d(this,e),this.scrollStrategies=t,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=u,this._directionality=c,this._location=l,this._outsideClickDispatcher=h}return f(e,[{key:"create",value:function(e){var t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new el(e);return i.direction=i.direction||this._directionality.value,new ul(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(e){var t=this._document.createElement("div");return t.id="cdk-overlay-"+_l++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}},{key:"_createHostElement",value:function(){var e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}},{key:"_createPortalOutlet",value:function(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new Ec(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG($c),s.LFG(sl),s.LFG(s._Vd),s.LFG(kl),s.LFG(il),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(h),s.LFG(Vs),s.LFG(D),s.LFG(ol))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),bl={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[wl],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},xl=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[wl,bl],imports:[[qs,Ic,Hc],Hc]}),e}(),Sl={provide:new s.OlP("mat-menu-scroll-strategy"),deps:[wl],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},Tl=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Sl],imports:[Hs]}),e}(),El=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Sl],imports:[[G,Hs,nu,xl,Tl],Zc,Hs,Tl]}),e}(),Cl=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Hs],Hs]}),e}(),Il=new Set,Rl=function(){var e=function(){function e(t){d(this,e),this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Al}return f(e,[{key:"matchMedia",value:function(e){return this._platform.WEBKIT&&function(e){if(!Il.has(e))try{vl||((vl=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(vl)),vl.sheet&&(vl.sheet.insertRule("@media ".concat(e," {.fx-query-test{ }}"),0),Il.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(_s))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(_s))},token:e,providedIn:"root"}),e}();function Al(e){return{matches:"all"===e||""===e,media:e,addListener:function(){},removeListener:function(){}}}var Ol=function(){var e=function(){function e(t,n){d(this,e),this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new Ne.x}return f(e,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(e){var t=this;return Pl(ps(e)).some(function(e){return t._registerQuery(e).mql.matches})}},{key:"observe",value:function(e){var t=this,n=We(Pl(ps(e)).map(function(e){return t._registerQuery(e).observable}));return(n=Xe(n.pipe((0,st.q)(1)),n.pipe(ht(function(e,t){return 1<=t}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs.z;return(0,rt.e)(function(n,r){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var e=o;o=null,r.next(e)}};function u(){var n=a+e,o=t.now();if(o<n)return i=this.schedule(void 0,n-o),void r.add(i);s()}n.subscribe(new Ge.Q(r,function(n){o=n,a=t.now(),i||(i=t.schedule(u,e),r.add(i))},function(){s(),r.complete()},void 0,function(){o=i=null}))})}(0)))).pipe((0,Be.U)(function(e){var t={matches:!1,breakpoints:{}};return e.forEach(function(e){var n=e.matches,r=e.query;t.matches=t.matches||n,t.breakpoints[r]=n}),t}))}},{key:"_registerQuery",value:function(e){var t=this;if(this._queries.has(e))return this._queries.get(e);var n=this._mediaMatcher.matchMedia(e),r={observable:new Le.y(function(e){var r=function(n){return t._zone.run(function(){return e.next(n)})};return n.addListener(r),function(){n.removeListener(r)}}).pipe(ut(n),(0,Be.U)(function(t){var n=t.matches;return{query:e,matches:n}}),kc(this._destroySubject)),mql:n};return this._queries.set(e,r),r}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Rl),s.LFG(s.R0b))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(Rl),(0,s.LFG)(s.R0b))},token:e,providedIn:"root"}),e}();function Pl(e){return e.map(function(e){return e.split(",")}).reduce(function(e,t){return e.concat(t)}).map(function(e){return e.trim()})}var Nl={provide:new s.OlP("mat-tooltip-scroll-strategy"),deps:[wl],useFactory:function(e){return function(){return e.scrollStrategies.reposition({scrollThrottle:20})}}},Dl=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Nl],imports:[[Us,G,xl,Hs],Hs,Zc]}),e}();function Ll(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",1),s.TgZ(1,"button",2),s.NdJ("click",function(){return s.CHM(n),s.oxw().action()}),s._uU(2),s.qZA(),s.qZA()}if(2&e){var r=s.oxw();s.xp6(2),s.Oqu(r.data.action)}}function Fl(e,t){}var Ml=new s.OlP("MatSnackBarData"),Ul=f(function e(){d(this,e),this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}),jl=Math.pow(2,31)-1,Vl=function(){function e(t,n){var r=this;d(this,e),this._overlayRef=n,this._afterDismissed=new Ne.x,this._afterOpened=new Ne.x,this._onAction=new Ne.x,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(function(){return r.dismiss()}),t._onExit.subscribe(function(){return r._finishDismiss()})}return f(e,[{key:"dismiss",value:function(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}},{key:"dismissWithAction",value:function(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}},{key:"closeWithAction",value:function(){this.dismissWithAction()}},{key:"_dismissAfter",value:function(e){var t=this;this._durationTimeoutId=setTimeout(function(){return t.dismiss()},Math.min(e,jl))}},{key:"_open",value:function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}},{key:"_finishDismiss",value:function(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}},{key:"afterDismissed",value:function(){return this._afterDismissed}},{key:"afterOpened",value:function(){return this.containerInstance._onEnter}},{key:"onAction",value:function(){return this._onAction}}]),e}(),ql=function(){var e=function(){function e(t,n){d(this,e),this.snackBarRef=t,this.data=n}return f(e,[{key:"action",value:function(){this.snackBarRef.dismissWithAction()}},{key:"hasAction",get:function(){return!!this.data.action}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Vl),s.Y36(Ml))},e.\u0275cmp=s.Xpm({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"span"),s._uU(1),s.qZA(),s.YNc(2,Ll,3,1,"div",0)),2&e&&(s.xp6(1),s.Oqu(t.data.message),s.xp6(1),s.Q6J("ngIf",t.hasAction))},directives:[z,su],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),e}(),Bl={snackBarState:function(e,t){return{type:7,name:e,definitions:t,options:{}}}("state",[Ii("void, hidden",Ci({transform:"scale(0.8)",opacity:0})),Ii("visible",Ci({transform:"scale(1)",opacity:1})),Ri("* => visible",Ti("150ms cubic-bezier(0, 0, 0.2, 1)")),Ri("* => void, * => hidden",Ti("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ci({opacity:0})))])},zl=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r,i,o,a){var s;return d(this,n),(s=t.call(this))._ngZone=e,s._elementRef=r,s._changeDetectorRef=i,s._platform=o,s.snackBarConfig=a,s._announceDelay=150,s._destroyed=!1,s._onAnnounce=new Ne.x,s._onExit=new Ne.x,s._onEnter=new Ne.x,s._animationState="void",s.attachDomPortal=function(e){return s._assertNotAttached(),s._applySnackBarClasses(),s._portalOutlet.attachDomPortal(e)},s._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",s._platform.FIREFOX&&("polite"===s._live&&(s._role="status"),"assertive"===s._live&&(s._role="alert")),s}return f(n,[{key:"attachComponentPortal",value:function(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}},{key:"attachTemplatePortal",value:function(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}},{key:"onAnimationEnd",value:function(e){var t=e.fromState,n=e.toState;if(("void"===n&&"void"!==t||"hidden"===n)&&this._completeExit(),"visible"===n){var r=this._onEnter;this._ngZone.run(function(){r.next(),r.complete()})}}},{key:"enter",value:function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}},{key:"exit",value:function(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}},{key:"ngOnDestroy",value:function(){this._destroyed=!0,this._completeExit()}},{key:"_completeExit",value:function(){var e=this;this._ngZone.onMicrotaskEmpty.pipe((0,st.q)(1)).subscribe(function(){e._onExit.next(),e._onExit.complete()})}},{key:"_applySnackBarClasses",value:function(){var e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(function(t){return e.classList.add(t)}):e.classList.add(t)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}},{key:"_assertNotAttached",value:function(){this._portalOutlet.hasAttached()}},{key:"_screenReaderAnnounce",value:function(){var e=this;this._announceTimeoutId||this._ngZone.runOutsideAngular(function(){e._announceTimeoutId=setTimeout(function(){var t=e._elementRef.nativeElement.querySelector("[aria-hidden]"),n=e._elementRef.nativeElement.querySelector("[aria-live]");if(t&&n){var r=null;e._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),n.appendChild(t),null==r||r.focus(),e._onAnnounce.next(),e._onAnnounce.complete()}},e._announceDelay)})}}]),n}(Tc);return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(_s),s.Y36(Ul))},e.\u0275cmp=s.Xpm({type:e,selectors:[["snack-bar-container"]],viewQuery:function(e,t){var n;(1&e&&s.Gf(Cc,7),2&e)&&(s.iGM(n=s.CRH())&&(t._portalOutlet=n.first))},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,t){1&e&&s.WFA("@state.done",function(e){return t.onAnimationEnd(e)}),2&e&&s.d8E("@state",t._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.YNc(1,Fl,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",t._live)("role",t._role))},directives:[Cc],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Bl.snackBarState]}}),e}(),Zl=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[xl,Ic,G,uu,Hs],Hs]}),e}(),Hl=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Ul}}),Gl=function(){var e=function(){function e(t,n,r,i,o,a){d(this,e),this._overlay=t,this._live=n,this._injector=r,this._breakpointObserver=i,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=ql,this.snackBarContainerComponent=zl,this.handsetCssClass="mat-snack-bar-handset"}return f(e,[{key:"_openedSnackBarRef",get:function(){var e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel},set:function(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}},{key:"openFromComponent",value:function(e,t){return this._attach(e,t)}},{key:"openFromTemplate",value:function(e,t){return this._attach(e,t)}},{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:e,action:t},r.announcementMessage===e&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}},{key:"dismiss",value:function(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}},{key:"ngOnDestroy",value:function(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}},{key:"_attachSnackBarContainer",value:function(e,t){var n=s.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Ul,useValue:t}]}),r=new bc(this.snackBarContainerComponent,t.viewContainerRef,n),i=e.attach(r);return i.instance.snackBarConfig=t,i.instance}},{key:"_attach",value:function(e,t){var n=this,r=Object.assign(Object.assign(Object.assign({},new Ul),this._defaultConfig),t),i=this._createOverlay(r),o=this._attachSnackBarContainer(i,r),a=new Vl(o,i);if(e instanceof s.Rgc){var u=new xc(e,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(u)}else{var c=this._createInjector(r,a),l=new bc(e,void 0,c),h=o.attachComponentPortal(l);a.instance=h.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(kc(i.detachments())).subscribe(function(e){var t=i.overlayElement.classList;e.matches?t.add(n.handsetCssClass):t.remove(n.handsetCssClass)}),r.announcementMessage&&o._onAnnounce.subscribe(function(){n._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}},{key:"_animateSnackBar",value:function(e,t){var n=this;e.afterDismissed().subscribe(function(){n._openedSnackBarRef==e&&(n._openedSnackBarRef=null),t.announcementMessage&&n._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(function(){e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(function(){return e._dismissAfter(t.duration)})}},{key:"_createOverlay",value:function(e){var t=new el;t.direction=e.direction;var n=this._overlay.position().global(),r="rtl"===e.direction,i="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!r||"end"===e.horizontalPosition&&r,o=!i&&"center"!==e.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===e.verticalPosition?n.top("0"):n.bottom("0"),t.positionStrategy=n,this._overlay.create(t)}},{key:"_createInjector",value:function(e,t){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Vl,useValue:t},{provide:Ml,useValue:e.data}]})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(wl),s.LFG(Cs),s.LFG(s.zs3),s.LFG(Ol),s.LFG(e,12),s.LFG(Hl))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(wl),(0,s.LFG)(Cs),(0,s.LFG)(s.gxx),(0,s.LFG)(Ol),(0,s.LFG)(e,12),(0,s.LFG)(Hl))},token:e,providedIn:Zl}),e}(),Kl=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[G,Hs,Ss],Hs]}),e}(),Wl=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[G,Hs],Hs]}),e}(),Ql=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Hs],Hs]}),e}(),Yl=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[ws]]}),e}(),Jl=function(){var e=function(){function e(t,n){d(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return f(e,[{key:"setProperty",value:function(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"setDisabledState",value:function(e){this.setProperty("disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Qsj),s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e}),e}(),Xl=function(){var e,t=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n)}(Jl);return t.\u0275fac=function(n){return(e||(e=s.n5z(t)))(n||t)},t.\u0275dir=s.lG2({type:t,features:[s.qOj]}),t}(),$l=new s.OlP("NgValueAccessor"),eh={provide:$l,useExisting:(0,s.Gpc)(function(){return nh}),multi:!0},th=new s.OlP("CompositionEventMode"),nh=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r))._compositionMode=i,o._composing=!1,null==o._compositionMode&&(o._compositionMode=!function(){var e=l()?l().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),o}return f(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),n}(Jl);return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(th,8))},e.\u0275dir=s.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&s.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[s._Bn([eh]),s.qOj]}),e}(),rh=new s.OlP("NgValidators"),ih=new s.OlP("NgAsyncValidators");function oh(e){return null!=e}function ah(e){var t=(0,s.QGY)(e)?(0,Ae.D)(e):e;return(0,s.CqO)(t),t}function sh(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function uh(e,t){return t.map(function(t){return t(e)})}function ch(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function lh(e){return null!=e?function(e){if(!e)return null;var t=e.filter(oh);return 0==t.length?null:function(e){return sh(uh(e,t))}}(ch(e)):null}function hh(e){return null!=e?function(e){if(!e)return null;var t=e.filter(oh);return 0==t.length?null:function(e){return lu(uh(e,t).map(ah)).pipe((0,Be.U)(sh))}}(ch(e)):null}function fh(e,t){return null===e?[t]:Array.isArray(e)?[].concat(a(e),[t]):[e,t]}function dh(e){return e?Array.isArray(e)?e:[e]:[]}function ph(e,t){return Array.isArray(e)?e.includes(t):e===t}function vh(e,t){var n=dh(t);return dh(e).forEach(function(e){ph(n,e)||n.push(e)}),n}function gh(e,t){return dh(t).filter(function(t){return!ph(e,t)})}var mh=function(){var e=function(){function e(){d(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return f(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=lh(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hh(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e}),e}(),yh=function(){var e,t=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(mh);return t.\u0275fac=function(n){return(e||(e=s.n5z(t)))(n||t)},t.\u0275dir=s.lG2({type:t,features:[s.qOj]}),t}(),kh=function(e){p(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return f(n)}(mh),_h=function(){var e=function(e){p(n,e);var t=v(n);function n(e){return d(this,n),t.call(this,e)}return f(n)}(function(){function e(t){d(this,e),this._cd=t}return f(e,[{key:"is",value:function(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}]),e}());return e.\u0275fac=function(t){return new(t||e)(s.Y36(kh,2))},e.\u0275dir=s.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&s.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[s.qOj]}),e}();function wh(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function bh(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function xh(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Sh="VALID",Th="INVALID",Eh="PENDING",Ch="DISABLED";function Ih(e){return(Ph(e)?e.validators:e)||null}function Rh(e){return Array.isArray(e)?lh(e):e||null}function Ah(e,t){return(Ph(t)?t.asyncValidators:e)||null}function Oh(e){return Array.isArray(e)?hh(e):e||null}function Ph(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Nh=function(){function e(t,n){d(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=Rh(this._rawValidators),this._composedAsyncValidatorFn=Oh(this._rawAsyncValidators)}return f(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===Sh}},{key:"invalid",get:function(){return this.status===Th}},{key:"pending",get:function(){return this.status==Eh}},{key:"disabled",get:function(){return this.status===Ch}},{key:"enabled",get:function(){return this.status!==Ch}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=Rh(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Oh(e)}},{key:"addValidators",value:function(e){this.setValidators(vh(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(vh(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators(gh(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators(gh(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return ph(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return ph(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=Eh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=Ch,this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=Sh,this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sh||this.status===Eh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?Ch:Sh}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status=Eh,this._hasOwnPendingAsyncValidator=!0;var n=ah(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;var r=e;return t.forEach(function(e){r=r instanceof Lh?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof Fh&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?Ch:this.errors?Th:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eh)?Eh:this._anyControlsHaveStatus(Th)?Th:Sh}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Ph(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),Dh=function(e){p(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return d(this,n),(e=t.call(this,Ih(i),Ah(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!e.asyncValidator}),e}return f(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){xh(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){xh(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(Nh),Lh=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,Ih(r),Ah(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return f(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof Dh?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(Nh),Fh=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,Ih(r),Ah(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return f(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof Dh?e.value:e.getRawValue()})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=u(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(Nh),Mh={provide:kh,useExisting:(0,s.Gpc)(function(){return jh})},Uh=Promise.resolve(null),jh=function(){var e=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a;return d(this,n),(a=t.call(this)).control=new Dh,a._registered=!1,a.update=new s.vpe,a._parent=e,a._setValidators(r),a._setAsyncValidators(i),a.valueAccessor=function(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===nh?n=e:function(e){return Object.getPrototypeOf(e.constructor)===Xl}(e)?r=e:i=e}),i||r||n||null):null;var n,r,i}(0,o),a}return f(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?function(e,t){return[].concat(a(t.path),[e])}(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){(function(e,t){(function(e,t){var n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(fh(n,t.validator)):"function"==typeof n&&e.setValidators([n]);var r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(fh(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};wh(t._rawValidators,i),wh(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&bh(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&bh(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)})(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;Uh.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;Uh.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})}}]),n}(kh);return e.\u0275fac=function(t){return new(t||e)(s.Y36(yh,9),s.Y36(rh,10),s.Y36(ih,10),s.Y36($l,10))},e.\u0275dir=s.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([Mh]),s.qOj,s.TTD]}),e}(),Vh=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e}(),qh=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Vh]]}),e}(),Bh=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[qh]}),e}(),zh=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Ks],imports:[[Yl,Kl,Hs],Yl,Kl]}),e}(),Zh=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[hs,uu,cu,uc,El,Cl,Dl,Zl,Kl,Wl,zh,Ql]}),e}(),Hh=o(7824),Gh=o(7513);function Kh(e,t){return(0,pt.m)(t)?at(function(){return e},t):at(function(){return e})}var Wh=o(4119),Qh=o(1048),Yh=o(8939);o(2329);var Jh=o(8239),Xh=o(8026),$h=o(3910),ef=o(3854),tf=o(5422),nf=new Map,rf={activated:!1,tokenObservers:[]},of={initialized:!1,enabled:!1};function af(e){return nf.get(e)||rf}function sf(e,t){nf.set(e,t)}function uf(){return of}var cf=function(){function e(t,n,r,i,o){if(d(this,e),this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return f(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(e){var t=this;return(0,Jh.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.stop(),n.prev=1,t.pending=new ef.BH,n.next=5,r=t.getNextRun(e),new Promise(function(e){setTimeout(e,r)});case 5:return t.pending.resolve(),n.next=8,t.pending.promise;case 8:return t.pending=new ef.BH,n.next=11,t.operation();case 11:return t.pending.resolve(),n.next=14,t.pending.promise;case 14:t.process(!0).catch(function(){}),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(1),t.retryPolicy(n.t0)?t.process(!1).catch(function(){}):t.stop();case 20:case"end":return n.stop()}},n,null,[[1,17]])}))()}},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),e}(),lf=new ef.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hf(e){if(!af(e).activated)throw lf.create("use-before-activation",{appName:e.name})}function ff(e,t){return df.apply(this,arguments)}function df(){return(df=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,u,c,l,h,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,i=t.body,o={"Content-Type":"application/json"},(a=n.getImmediate({optional:!0}))&&(o["X-Firebase-Client"]=a.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(i),headers:o},e.prev=4,e.next=7,fetch(r,s);case 7:u=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),lf.create("fetch-network-error",{originalErrorMessage:e.t0.message});case 13:if(200===u.status){e.next=15;break}throw lf.create("fetch-status-error",{httpStatus:u.status});case 15:return e.prev=15,e.next=18,u.json();case 18:c=e.sent,e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(15),lf.create("fetch-parse-error",{originalErrorMessage:e.t1.message});case 24:if((l=c.ttl.match(/^([\d.]+)(s)$/))&&l[2]&&!isNaN(Number(l[1]))){e.next=27;break}throw lf.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: ".concat(c.ttl)});case 27:return h=1e3*Number(l[1]),f=Date.now(),e.abrupt("return",{token:c.attestationToken,expireTimeMillis:f+h,issuedAtTimeMillis:f});case 29:case"end":return e.stop()}},e,null,[[4,10],[15,21]])}))).apply(this,arguments)}function pf(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:"https://content-firebaseappcheck.googleapis.com/v1beta/projects/".concat(r,"/apps/").concat(i,":exchangeDebugToken?key=").concat(o),body:{debug_token:t}}}var vf="firebase-app-check-store",gf=null;function mf(){return gf||(gf=new Promise(function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(lf.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(vf,{keyPath:"compositeKey"})}}}catch(n){t(lf.create("storage-open",{originalErrorMessage:n.message}))}}))}function yf(){return(yf=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mf();case 2:return r=e.sent.transaction(vf,"readwrite"),i=r.objectStore(vf).put({compositeKey:t,value:n}),e.abrupt("return",new Promise(function(e,t){i.onsuccess=function(t){e()},r.onerror=function(e){var n;t(lf.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var kf=new tf.Yd("@firebase/app-check");function _f(e,t){return(0,ef.hl)()?function(e,t){return function(e,t){return yf.apply(this,arguments)}(function(e){return"".concat(e.options.appId,"-").concat(e.name)}(e),t)}(e,t).catch(function(e){kf.warn("Failed to write token to IndexedDB. Error: ".concat(e))}):Promise.resolve()}function wf(){return uf().enabled}function bf(){return xf.apply(this,arguments)}function xf(){return(xf=(0,Jh.Z)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=uf()).enabled||!t.token){e.next=3;break}return e.abrupt("return",t.token.promise);case 3:throw Error("\n            Can't get debug token in production mode.\n        ");case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Sf={error:"UNKNOWN_ERROR"};function Tf(e){return ef.US.encodeString(JSON.stringify(e),!1)}function Ef(e){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,s,u,c,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]&&h[1],hf(r=t.app),i=af(r),a=i.token){e.next=10;break}return e.next=8,i.cachedTokenPromise;case 8:(s=e.sent)&&Of(s)&&(a=s);case 10:if(n||!a||!Of(a)){e.next=12;break}return e.abrupt("return",{token:a.token});case 12:if(c=!1,!wf()){e.next=33;break}if(e.t0=i.exchangeTokenPromise,e.t0){e.next=26;break}return e.t1=ff,e.t2=pf,e.t3=r,e.next=21,bf();case 21:e.t4=e.sent,e.t5=(0,e.t2)(e.t3,e.t4),e.t6=t.platformLoggerProvider,i.exchangeTokenPromise=(0,e.t1)(e.t5,e.t6).then(function(e){return i.exchangeTokenPromise=void 0,e}),c=!0;case 26:return e.next=28,i.exchangeTokenPromise;case 28:return l=e.sent,e.next=31,_f(r,l);case 31:return sf(r,Object.assign(Object.assign({},i),{token:l})),e.abrupt("return",{token:l.token});case 33:return e.prev=33,i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(function(e){return i.exchangeTokenPromise=void 0,e}),c=!0),e.next=37,i.exchangeTokenPromise;case 37:a=e.sent,e.next=43;break;case 40:e.prev=40,e.t7=e.catch(33),"appCheck/throttled"===e.t7.code?kf.warn(e.t7.message):kf.error(e.t7),o=e.t7;case 43:if(!a){e.next=50;break}return u={token:a.token},sf(r,Object.assign(Object.assign({},i),{token:a})),e.next=48,_f(r,a);case 48:e.next=51;break;case 50:u=Pf(o);case 51:return c&&Af(r,u),e.abrupt("return",u);case 53:case"end":return e.stop()}},e,null,[[33,40]])}))).apply(this,arguments)}function If(e,t){var n=af(e),r=n.tokenObservers.filter(function(e){return e.next!==t});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),sf(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Rf(e){var t=e.app,n=af(t),r=n.tokenRefresher;r||(r=function(e){var t=e.app;return new cf((0,Jh.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!af(t).token){n.next=6;break}return n.next=3,Ef(e,!0);case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,Ef(e);case 8:n.t0=n.sent;case 9:if(!(r=n.t0).error){n.next=12;break}throw r.error;case 12:case"end":return n.stop()}},n)})),function(){return!0},function(){var e=af(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(e),sf(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Af(e,t){var n,r=u(af(e).tokenObservers);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}catch(a){r.e(a)}finally{r.f()}}function Of(e){return e.expireTimeMillis-Date.now()>0}function Pf(e){return{token:Tf(Sf),error:e}}var Nf=function(){function e(t,n){d(this,e),this.app=t,this.platformLoggerProvider=n}return f(e,[{key:"_delete",value:function(){var e,t=u(af(this.app).tokenObservers);try{for(t.s();!(e=t.n()).done;){var n=e.value;If(this.app,n.next)}}catch(r){t.e(r)}finally{t.f()}return Promise.resolve()}}]),e}(),Df="app-check-internal";(0,Xh._registerComponent)(new $h.wA("app-check",function(e){return function(e,t){return new Nf(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider(Df).initialize()})),(0,Xh._registerComponent)(new $h.wA(Df,function(e){return function(e){return{getToken:function(t){return Ef(e,t)},addTokenListener:function(t){return function(e,t,n,r){var i=e.app,o=af(i),s={next:n,error:void 0,type:"INTERNAL"};if(sf(i,Object.assign(Object.assign({},o),{tokenObservers:[].concat(a(o.tokenObservers),[s])})),o.token&&Of(o.token)){var u=o.token;Promise.resolve().then(function(){n({token:u.token}),Rf(e)}).catch(function(){})}o.cachedTokenPromise.then(function(){return Rf(e)})}(e,0,t)},removeTokenListener:function(t){return If(e.app,t)}}}(e.getProvider("app-check").getImmediate())},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xh.registerVersion)("@firebase/app-check","0.5.3");var Lf=f(function e(){return d(this,e),(0,Qh.vb)("app-check")});"undefined"!=typeof window&&window,o(7841);var Ff=new s.OlP("angularfire2.auth.use-emulator"),Mf=new s.OlP("angularfire2.auth.settings"),Uf=new s.OlP("angularfire2.auth.tenant-id"),jf=new s.OlP("angularfire2.auth.langugage-code"),Vf=new s.OlP("angularfire2.auth.use-device-language"),qf=new s.OlP("angularfire.auth.persistence"),Bf=function(e,n,r,i,o,s,u,c){return(0,Yh.cc)("".concat(e.name,".auth"),"AngularFireAuth",e.name,function(){var l=n.runOutsideAngular(function(){return e.auth()});if(r&&l.useEmulator.apply(l,a(r)),i&&(l.tenantId=i),l.languageCode=o,s&&l.useDeviceLanguage(),u)for(var h=0,f=Object.entries(u);h<f.length;h++){var d=t(f[h],2),p=d[0],v=d[1];l.settings[p]=v}return c&&l.setPersistence(c),l},[r,i,o,s,u,c])},zf=function(){var e=f(function e(t,n,r,i,a,s,u,c,l,h,f,p){d(this,e);var v=new Ne.x,g=Pe(void 0).pipe((0,Gh.Q)(a.outsideAngular),at(function(){return i.runOutsideAngular(function(){return Promise.resolve().then(o.bind(o,7696))})}),(0,Be.U)(function(){return(0,Yh.on)(t,i,n)}),(0,Be.U)(function(e){return Bf(e,i,s,c,l,h,u,f)}),qc({bufferSize:1,refCount:!1}));if(K(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Pe(null);else{g.pipe(_t()).subscribe();var m=g.pipe(at(function(e){return e.getRedirectResult().then(function(e){return e},function(){return null})}),Qh.iC,qc({bufferSize:1,refCount:!1})),y=g.pipe(at(function(e){return new Le.y(function(t){return{unsubscribe:i.runOutsideAngular(function(){return e.onAuthStateChanged(function(e){return t.next(e)},function(e){return t.error(e)},function(){return t.complete()})})}})})),k=g.pipe(at(function(e){return new Le.y(function(t){return{unsubscribe:i.runOutsideAngular(function(){return e.onIdTokenChanged(function(e){return t.next(e)},function(e){return t.error(e)},function(){return t.complete()})})}})}));this.authState=m.pipe(Kh(y),(0,Wh.R)(a.outsideAngular),(0,Gh.Q)(a.insideAngular)),this.user=m.pipe(Kh(k),(0,Wh.R)(a.outsideAngular),(0,Gh.Q)(a.insideAngular)),this.idToken=this.user.pipe(at(function(e){return e?(0,Ae.D)(e.getIdToken()):Pe(null)})),this.idTokenResult=this.user.pipe(at(function(e){return e?(0,Ae.D)(e.getIdTokenResult()):Pe(null)})),this.credential=(0,cc.T)(m,v,this.authState.pipe(ht(function(e){return!e}))).pipe((0,Be.U)(function(e){return(null==e?void 0:e.user)?e:null}),(0,Wh.R)(a.outsideAngular),(0,Gh.Q)(a.insideAngular))}return(0,Yh.pX)(this,g,i,{spy:{apply:function(e,t,n){(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(function(e){return v.next(e)})}}})});return e.\u0275fac=function(t){return new(t||e)(s.LFG(Yh.Dh),s.LFG(Yh.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Qh.HU),s.LFG(Ff,8),s.LFG(Mf,8),s.LFG(Uf,8),s.LFG(jf,8),s.LFG(Vf,8),s.LFG(qf,8),s.LFG(Lf,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e}(),Zf=(0,Be.U)(function(e){return!!e}),Hf=function(){var e=f(function e(t,n){var r=this;d(this,e),this.router=t,this.auth=n,this.canActivate=function(e,t){var n=e.data.authGuardPipe||function(){return Zf};return r.auth.user.pipe((0,st.q)(1),n(e,t),(0,Be.U)(function(e){return"boolean"==typeof e?e:Array.isArray(e)?r.router.createUrlTree(e):r.router.parseUrl(e)}))}});return e.\u0275fac=function(t){return new(t||e)(s.LFG($r),s.LFG(zf))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e}(),Gf=function(){var e=f(function e(){d(this,e),this.islogIn=!1});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();o(7696);var Kf,Wf=o(3394),Qf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Yf={},Jf=Jf||{},Xf=Qf||self;function $f(){}function ed(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function td(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var nd="closure_uid_"+(1e9*Math.random()>>>0),rd=0;function id(e,t,n){return e.call.apply(e.bind,arguments)}function od(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ad(e,t,n){return(ad=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?id:od).apply(null,arguments)}function sd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ud(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function cd(){this.s=this.s,this.o=this.o}var ld={};cd.prototype.s=!1,cd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,nd)&&e[nd]||(e[nd]=++rd)}(this);delete ld[e]}},cd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},fd=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function dd(e){return Array.prototype.concat.apply([],arguments)}function pd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function vd(e){return/^[\s\xa0]*$/.test(e)}var gd,md=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function yd(e,t){return-1!=e.indexOf(t)}function kd(e,t){return e<t?-1:e>t?1:0}e:{var _d=Xf.navigator;if(_d){var wd=_d.userAgent;if(wd){gd=wd;break e}}gd=""}function bd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function xd(e){var t={};for(var n in e)t[n]=e[n];return t}var Sd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Td(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Sd.length;o++)n=Sd[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ed(e){return Ed[" "](e),e}Ed[" "]=$f;var Cd,Id,Rd=yd(gd,"Opera"),Ad=yd(gd,"Trident")||yd(gd,"MSIE"),Od=yd(gd,"Edge"),Pd=Od||Ad,Nd=yd(gd,"Gecko")&&!(yd(gd.toLowerCase(),"webkit")&&!yd(gd,"Edge"))&&!(yd(gd,"Trident")||yd(gd,"MSIE"))&&!yd(gd,"Edge"),Dd=yd(gd.toLowerCase(),"webkit")&&!yd(gd,"Edge");function Ld(){var e=Xf.document;return e?e.documentMode:void 0}e:{var Fd="",Md=(Id=gd,Nd?/rv:([^\);]+)(\)|;)/.exec(Id):Od?/Edge\/([\d\.]+)/.exec(Id):Ad?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Id):Dd?/WebKit\/(\S+)/.exec(Id):Rd?/(?:Version)[ \/]?(\S+)/.exec(Id):void 0);if(Md&&(Fd=Md?Md[1]:""),Ad){var Ud=Ld();if(null!=Ud&&Ud>parseFloat(Fd)){Cd=String(Ud);break e}}Cd=Fd}var jd={};var Vd=Xf.document&&Ad&&(Ld()||parseInt(Cd,10))||void 0,qd=function(){if(!Xf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xf.addEventListener("test",$f,t),Xf.removeEventListener("test",$f,t)}catch(n){}return e}();function Bd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function zd(e,t){if(Bd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Nd){e:{try{Ed(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Zd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&zd.Z.h.call(this)}}Bd.prototype.h=function(){this.defaultPrevented=!0},ud(zd,Bd);var Zd={2:"touch",3:"pen",4:"mouse"};zd.prototype.h=function(){zd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Hd="closure_listenable_"+(1e6*Math.random()|0),Gd=0;function Kd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Gd,this.ca=this.fa=!1}function Wd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Qd(e){this.src=e,this.g={},this.h=0}function Yd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=hd(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Wd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Jd(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Qd.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Jd(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Kd(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Xd="closure_lm_"+(1e6*Math.random()|0),$d={};function ep(e,t,n,r,i){if(r&&r.once)return np(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ep(e,t[o],n,r,i);return null}return n=cp(n),e&&e[Hd]?e.N(t,n,td(r)?!!r.capture:!!r,i):tp(e,t,n,!1,r,i)}function tp(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=td(i)?!!i.capture:!!i,s=sp(e);if(s||(e[Xd]=s=new Qd(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=ap;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qd||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(op(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function np(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)np(e,t[o],n,r,i);return null}return n=cp(n),e&&e[Hd]?e.O(t,n,td(r)?!!r.capture:!!r,i):tp(e,t,n,!0,r,i)}function rp(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)rp(e,t[o],n,r,i);else r=td(r)?!!r.capture:!!r,n=cp(n),e&&e[Hd]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Jd(o=e.g[t],n,r,i))&&(Wd(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=sp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Jd(t,n,r,i)),(n=-1<e?t[e]:null)&&ip(n))}function ip(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Hd])Yd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(op(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sp(t))?(Yd(n,e),0==n.h&&(n.src=null,t[Xd]=null)):Wd(e)}}}function op(e){return e in $d?$d[e]:$d[e]="on"+e}function ap(e,t){if(e.ca)e=!0;else{t=new zd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ip(e),e=n.call(r,t)}return e}function sp(e){return(e=e[Xd])instanceof Qd?e:null}var up="__closure_events_fn_"+(1e9*Math.random()>>>0);function cp(e){return"function"==typeof e?e:(e[up]||(e[up]=function(t){return e.handleEvent(t)}),e[up])}function lp(){cd.call(this),this.i=new Qd(this),this.P=this,this.I=null}function hp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Bd(t,e);else if(t instanceof Bd)t.target=t.target||e;else{var i=t;Td(t=new Bd(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=fp(a,r,!0,t)&&i}if(i=fp(a=t.g=e,r,!0,t)&&i,i=fp(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=fp(a=t.g=n[o],r,!1,t)&&i}function fp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Yd(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ud(lp,cd),lp.prototype[Hd]=!0,lp.prototype.removeEventListener=function(e,t,n,r){rp(this,e,t,n,r)},lp.prototype.M=function(){if(lp.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wd(n[r]);delete t.g[e],t.h--}}this.I=null},lp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},lp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var dp=Xf.JSON.stringify;function pp(){var e=wp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vp,gp=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return f(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())(function(){return new mp},function(e){return e.reset()}),mp=function(){function e(){d(this,e),this.next=this.g=this.h=null}return f(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function yp(e){Xf.setTimeout(function(){throw e},0)}function kp(e,t){vp||function(){var e=Xf.Promise.resolve(void 0);vp=function(){e.then(bp)}}(),_p||(vp(),_p=!0),wp.add(e,t)}var _p=!1,wp=new(function(){function e(){d(this,e),this.h=this.g=null}return f(e,[{key:"add",value:function(e,t){var n=gp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}());function bp(){for(var e;e=pp();){try{e.h.call(e.g)}catch(n){yp(n)}var t=gp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_p=!1}function xp(e,t){lp.call(this),this.h=e||1,this.g=t||Xf,this.j=ad(this.kb,this),this.l=Date.now()}function Sp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Tp(e,t,n){if("function"==typeof e)n&&(e=ad(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ad(e.handleEvent,e)}return 2147483647<Number(t)?-1:Xf.setTimeout(e,t||0)}function Ep(e){e.g=Tp(function(){e.g=null,e.i&&(e.i=!1,Ep(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ud(xp,lp),(Kf=xp.prototype).da=!1,Kf.S=null,Kf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hp(this,"tick"),this.da&&(Sp(this),this.start()))}},Kf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Kf.M=function(){xp.Z.M.call(this),Sp(this),delete this.g};var Cp=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return f(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ep(this)}},{key:"M",value:function(){i(b(n.prototype),"M",this).call(this),this.g&&(Xf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(cd);function Ip(e){cd.call(this),this.h=e,this.g={}}ud(Ip,cd);var Rp=[];function Ap(e,t,n,r){Array.isArray(n)||(n&&(Rp[0]=n.toString()),n=Rp);for(var i=0;i<n.length;i++){var o=ep(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Op(e){bd(e.g,function(e,t){this.g.hasOwnProperty(t)&&ip(e)},e),e.g={}}function Pp(){this.g=!0}function Np(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return dp(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}Ip.prototype.M=function(){Ip.Z.M.call(this),Op(this)},Ip.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pp.prototype.Aa=function(){this.g=!1},Pp.prototype.info=function(){};var Dp={},Lp=null;function Fp(){return Lp=Lp||new lp}function Mp(e){Bd.call(this,Dp.Ma,e)}function Up(e){var t=Fp();hp(t,new Mp(t,e))}function jp(e,t){Bd.call(this,Dp.STAT_EVENT,e),this.stat=t}function Vp(e){var t=Fp();hp(t,new jp(t,e))}function qp(e,t){Bd.call(this,Dp.Na,e),this.size=t}function Bp(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Xf.setTimeout(function(){e()},t)}Dp.Ma="serverreachability",ud(Mp,Bd),Dp.STAT_EVENT="statevent",ud(jp,Bd),Dp.Na="timingevent",ud(qp,Bd);var zp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Zp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Hp(){}function Gp(){}Hp.prototype.h=null;var Kp,Wp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Qp(){Bd.call(this,"d")}function Yp(){Bd.call(this,"c")}function Jp(){}function Xp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ip(this),this.P=ev,this.W=new xp(e=Pd?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $p}function $p(){this.i=null,this.g="",this.h=!1}ud(Qp,Bd),ud(Yp,Bd),ud(Jp,Hp),Jp.prototype.g=function(){return new XMLHttpRequest},Jp.prototype.i=function(){return{}},Kp=new Jp;var ev=45e3,tv={},nv={};function rv(e,t,n){e.K=1,e.v=Ev(_v(t)),e.s=n,e.U=!0,iv(e,null)}function iv(e,t){e.F=Date.now(),uv(e),e.A=_v(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),jv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new $p,e.g=jg(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Cp(ad(e.Ia,e,e.g),e.O)),Ap(e.V,e.g,"readystatechange",e.gb),t=e.H?xd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Up(1),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.X,e.s)}function ov(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function av(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=sv(e,n))==nv){4==t&&(e.o=4,Vp(14),i=!1),Np(e.j,e.m,null,"[Incomplete Response]");break}if(r==tv){e.o=4,Vp(15),Np(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Np(e.j,e.m,r,null),dv(e,r)}ov(e)&&r!=nv&&r!=tv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Vp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Og(t),t.L=!0,Vp(11))):(Np(e.j,e.m,n,"[Invalid Chunked Response]"),fv(e),hv(e))}function sv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?nv:(n=Number(t.substring(n,r)),isNaN(n)?tv:(r+=1)+n>t.length?nv:(t=t.substr(r,n),e.C=r+n,t))}function uv(e){e.Y=Date.now()+e.P,cv(e,e.P)}function cv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Bp(ad(e.eb,e),t)}function lv(e){e.B&&(Xf.clearTimeout(e.B),e.B=null)}function hv(e){0==e.l.G||e.I||Dg(e.l,e)}function fv(e){lv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Sp(e.W),Op(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function dv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Hv(n.i,e)))if(n.I=e.N,!e.J&&Hv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Bp(ad(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<e.F))break e;Ng(n),bg(n)}Ag(n),Vp(18)}if(1>=Zv(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Fg(n,11)}else if((e.J||n.g==e)&&Ng(n),!vd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(yd(l,"spdy")||yd(l,"quic")||yd(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Gv(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Tv(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ug(r,r.H?r.la:null,r.W),d.J){Kv(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(lv(p),uv(p)),r.g=d}else Rg(r);0<n.l.length&&Tg(n)}else"stop"!=o[0]&&"close"!=o[0]||Fg(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Fg(n,7):wg(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Up(4)}catch(o){}}function pv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ed(e)||"string"==typeof e)fd(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ed(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(ed(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function vv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof vv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function gv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];mv(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)mv(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function mv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Kf=Xp.prototype).setTimeout=function(e){this.P=e},Kf.gb=function(e){e=e.target;var t=this.L;t&&3==gg(e)?t.l():this.Ia(e)},Kf.Ia=function(e){try{if(e==this.g)e:{var t=gg(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Pd||this.g&&(this.h.h||this.g.ga()||mg(this.g)))){this.I||4!=t||7==n||Up(8==n||0>=r?3:2),lv(this);var i=this.g.ba();this.N=i;t:if(ov(this)){var o=mg(this.g);e="";var a=o.length,s=4==gg(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fv(this),hv(this);var u="";break t}this.h.i=new Xf.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vd(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Vp(12),fv(this),hv(this);break e}Np(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dv(this,i)}this.U?(av(this,t,u),Pd&&this.i&&3==t&&(Ap(this.V,this.W,"tick",this.fb),this.W.start())):(Np(this.j,this.m,u,null),dv(this,u)),4==t&&fv(this),this.i&&!this.I&&(4==t?Dg(this.l,this):(this.i=!1,uv(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Vp(12)):(this.o=0,Vp(13)),fv(this),hv(this)}}}catch(t){}},Kf.fb=function(){if(this.g){var e=gg(this.g),t=this.g.ga();this.C<t.length&&(lv(this),av(this,e,t),this.i&&4!=e&&uv(this))}},Kf.cancel=function(){this.I=!0,fv(this)},Kf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Up(3),Vp(17)),fv(this),this.o=2,hv(this)):cv(this,this.Y-e)},(Kf=vv.prototype).R=function(){gv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Kf.T=function(){return gv(this),this.g.concat()},Kf.get=function(e,t){return mv(this.h,e)?this.h[e]:t},Kf.set=function(e,t){mv(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Kf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var yv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kv(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof kv){this.g=void 0!==t?t:e.g,wv(this,e.j),this.s=e.s,bv(this,e.i),xv(this,e.m),this.l=e.l,t=e.h;var n=new Lv;n.i=t.i,t.g&&(n.g=new vv(t.g),n.h=t.h),Sv(this,n),this.o=e.o}else e&&(n=String(e).match(yv))?(this.g=!!t,wv(this,n[1]||"",!0),this.s=Cv(n[2]||""),bv(this,n[3]||"",!0),xv(this,n[4]),this.l=Cv(n[5]||"",!0),Sv(this,n[6]||"",!0),this.o=Cv(n[7]||"")):(this.g=!!t,this.h=new Lv(null,this.g))}function _v(e){return new kv(e)}function wv(e,t,n){e.j=n?Cv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bv(e,t,n){e.i=n?Cv(t,!0):t}function xv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Sv(e,t,n){t instanceof Lv?(e.h=t,function(e,t){t&&!e.j&&(Fv(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Mv(this,t),jv(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Iv(t,Nv)),e.h=new Lv(t,e.g))}function Tv(e,t,n){e.h.set(t,n)}function Ev(e){return Tv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Iv(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Rv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Rv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}kv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Iv(t,Av,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Iv(t,Av,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Iv(n,"/"==n.charAt(0)?Pv:Ov,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Iv(n,Dv)),e.join("")};var Av=/[#\/\?@]/g,Ov=/[#\?:]/g,Pv=/[#\?]/g,Nv=/[#\?@]/g,Dv=/#/g;function Lv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Fv(e){e.g||(e.g=new vv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Mv(e,t){Fv(e),t=Vv(e,t),mv(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,mv((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&gv(e)))}function Uv(e,t){return Fv(e),t=Vv(e,t),mv(e.g.h,t)}function jv(e,t,n){Mv(e,t),0<n.length&&(e.i=null,e.g.set(Vv(e,t),pd(n)),e.h+=n.length)}function Vv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function qv(e){this.l=e||Bv,e=Xf.PerformanceNavigationTiming?0<(e=Xf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Xf.g&&Xf.g.Ea&&Xf.g.Ea()&&Xf.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Kf=Lv.prototype).add=function(e,t){Fv(this),this.i=null,e=Vv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Kf.forEach=function(e,t){Fv(this),this.g.forEach(function(n,r){fd(n,function(n){e.call(t,n,r,this)},this)},this)},Kf.T=function(){Fv(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Kf.R=function(e){Fv(this);var t=[];if("string"==typeof e)Uv(this,e)&&(t=dd(t,this.g.get(Vv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=dd(t,e[n])}return t},Kf.set=function(e,t){return Fv(this),this.i=null,Uv(this,e=Vv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Kf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Kf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Bv=10;function zv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Zv(e){return e.h?1:e.g?e.g.size:0}function Hv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Gv(e,t){e.g?e.g.add(t):e.h=t}function Kv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Wv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=u(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return pd(e.i)}function Qv(){}function Yv(){this.g=new Qv}function Jv(e,t,n){var r=n||"";try{pv(e,function(e,n){var i=e;td(e)&&(i=dp(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function $v(e){this.l=e.$b||null,this.j=e.ib||!1}function eg(e,t){lp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=tg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qv.prototype.cancel=function(){if(this.i=Wv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=u(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Qv.prototype.stringify=function(e){return Xf.JSON.stringify(e,void 0)},Qv.prototype.parse=function(e){return Xf.JSON.parse(e,void 0)},ud($v,Hp),$v.prototype.g=function(){return new eg(this.l,this.j)},$v.prototype.i=function(e){return function(){return e}}({}),ud(eg,lp);var tg=0;function ng(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function rg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ig(e)}function ig(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Kf=eg.prototype).open=function(e,t){if(this.readyState!=tg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ig(this)},Kf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Xf).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Kf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rg(this)),this.readyState=tg},Kf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ig(this)),this.g&&(this.readyState=3,ig(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Xf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ng(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Kf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rg(this):ig(this),3==this.readyState&&ng(this)}},Kf.Ua=function(e){this.g&&(this.response=this.responseText=e,rg(this))},Kf.Ta=function(e){this.g&&(this.response=e,rg(this))},Kf.ha=function(){this.g&&rg(this)},Kf.setRequestHeader=function(e,t){this.v.append(e,t)},Kf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Kf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(eg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var og=Xf.JSON.parse;function ag(e){lp.call(this),this.headers=new vv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sg,this.K=this.L=!1}ud(ag,lp);var sg="",ug=/^https?$/i,cg=["POST","PUT"];function lg(e){return"content-type"==e.toLowerCase()}function hg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fg(e),pg(e)}function fg(e){e.D||(e.D=!0,hp(e,"complete"),hp(e,"error"))}function dg(e){if(e.h&&void 0!==Jf&&(!e.C[1]||4!=gg(e)||2!=e.ba()))if(e.v&&4==gg(e))Tp(e.Fa,0,e);else if(hp(e,"readystatechange"),4==gg(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(yv)[1]||null;if(!o&&Xf.self&&Xf.self.location){var a=Xf.self.location.protocol;o=a.substr(0,a.length-1)}i=!ug.test(o?o.toLowerCase():"")}t=i}if(t)hp(e,"complete"),hp(e,"success");else{e.m=6;try{var s=2<gg(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",fg(e)}}finally{pg(e)}}}function pg(e,t){if(e.g){vg(e);var n=e.g,r=e.C[0]?$f:null;e.g=null,e.C=null,t||hp(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function vg(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Xf.clearTimeout(e.A),e.A=null)}function gg(e){return e.g?e.g.readyState:0}function mg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case sg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function yg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return bd(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Tv(e,t,n))}function kg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _g(e){this.za=0,this.l=[],this.h=new Pp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kg("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kg("baseRetryDelayMs",5e3,e),this.$a=kg("retryDelaySeedMs",1e4,e),this.Ya=kg("forwardChannelMaxRetries",2,e),this.ra=kg("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new qv(e&&e.concurrentRequestLimit),this.Ca=new Yv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function wg(e){if(xg(e),3==e.G){var t=e.V++,n=_v(e.F);Tv(n,"SID",e.J),Tv(n,"RID",t),Tv(n,"TYPE","terminate"),Cg(e,n),(t=new Xp(e,e.h,t,void 0)).K=2,t.v=Ev(_v(n)),n=!1,Xf.navigator&&Xf.navigator.sendBeacon&&(n=Xf.navigator.sendBeacon(t.v.toString(),"")),!n&&Xf.Image&&((new Image).src=t.v,n=!0),n||(t.g=jg(t.l,null),t.g.ea(t.v)),t.F=Date.now(),uv(t)}Mg(e)}function bg(e){e.g&&(Og(e),e.g.cancel(),e.g=null)}function xg(e){bg(e),e.u&&(Xf.clearTimeout(e.u),e.u=null),Ng(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Xf.clearTimeout(e.m),e.m=null)}function Sg(e,t){e.l.push(new(function(){return f(function e(t,n){d(this,e),this.h=t,this.g=n})}())(e.Za++,t)),3==e.G&&Tg(e)}function Tg(e){zv(e.i)||e.m||(e.m=!0,kp(e.Ha,e),e.C=0)}function Eg(e,t){var n;n=t?t.m:e.V++;var r=_v(e.F);Tv(r,"SID",e.J),Tv(r,"RID",n),Tv(r,"AID",e.U),Cg(e,r),e.o&&e.s&&yg(r,e.o,e.s),n=new Xp(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ig(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Gv(e.i,n),rv(n,r,t)}function Cg(e,t){e.j&&pv({},function(e,n){Tv(t,n,e)})}function Ig(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ad(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Jv(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Rg(e){e.g||e.u||(e.Y=1,kp(e.Ga,e),e.A=0)}function Ag(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Bp(ad(e.Ga,e),Lg(e,e.A)),e.A++,0))}function Og(e){null!=e.B&&(Xf.clearTimeout(e.B),e.B=null)}function Pg(e){e.g=new Xp(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=_v(e.oa);Tv(t,"RID","rpc"),Tv(t,"SID",e.J),Tv(t,"CI",e.N?"0":"1"),Tv(t,"AID",e.U),Cg(e,t),Tv(t,"TYPE","xmlhttp"),e.o&&e.s&&yg(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ev(_v(t)),n.s=null,n.U=!0,iv(n,e)}function Ng(e){null!=e.v&&(Xf.clearTimeout(e.v),e.v=null)}function Dg(e,t){var n=null;if(e.g==t){Ng(e),Og(e),e.g=null;var r=2}else{if(!Hv(e.i,t))return;n=t.D,Kv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;hp(r=Fp(),new qp(r,n,t,i)),Tg(e)}else Rg(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Zv(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Bp(ad(e.Ha,e,t),Lg(e,e.C)),e.C++,0)))}(e,t)||2==r&&Ag(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Fg(e,5);break;case 4:Fg(e,10);break;case 3:Fg(e,6);break;default:Fg(e,2)}}function Lg(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Fg(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ad(e.jb,e);n||(n=new kv("//www.google.com/images/cleardot.gif"),Xf.location&&"http"==Xf.location.protocol||wv(n,"https"),Ev(n)),function(e,t){var n=new Pp;if(Xf.Image){var r=new Image;r.onload=sd(Xv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sd(Xv,n,r,"TestLoadImage: error",!1,t),r.onabort=sd(Xv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sd(Xv,n,r,"TestLoadImage: timeout",!1,t),Xf.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Vp(2);e.G=0,e.j&&e.j.va(t),Mg(e),xg(e)}function Mg(e){e.G=0,e.I=-1,e.j&&((0!=Wv(e.i).length||0!=e.l.length)&&(e.i.i.length=0,pd(e.l),e.l.length=0),e.j.ua())}function Ug(e,t,n){var r=function(e){return e instanceof kv?_v(e):new kv(e,void 0)}(n);if(""!=r.i)t&&bv(r,t+"."+r.i),xv(r,r.m);else{var i=Xf.location;r=function(e,t,n,r){var i=new kv(null,void 0);return e&&wv(i,e),t&&bv(i,t),n&&xv(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&bd(e.aa,function(e,t){Tv(r,t,e)}),n=e.sa,(t=e.D)&&n&&Tv(r,t,n),Tv(r,"VER",e.ma),Cg(e,r),r}function jg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ag(n&&e.Ba&&!e.qa?new $v({ib:!0}):e.qa)).L=e.H,t}function Vg(){}function qg(){if(Ad&&!(10<=Number(Vd)))throw Error("Environmental error: no available transport.")}function Bg(e,t){lp.call(this),this.g=new _g(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!vd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Hg(this)}function zg(e){Qp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zg(){Yp.call(this),this.status=1}function Hg(e){this.g=e}(Kf=ag.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kp.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Kp),this.g.onreadystatechange=ad(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void hg(this,o)}e=n||"";var i=new vv(this.headers);r&&pv(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=lg,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Xf.FormData&&e instanceof Xf.FormData,!(0<=hd(cg,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vg(this),0<this.B&&((this.K=function(e){return Ad&&function(){return e=jd,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=md(String(Cd)).split("."),n=md("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=kd(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||kd(0==o[2].length,0==a[2].length)||kd(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ad(this.pa,this)):this.A=Tp(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){hg(this,o)}},Kf.pa=function(){void 0!==Jf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hp(this,"timeout"),this.abort(8))},Kf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,hp(this,"complete"),hp(this,"abort"),pg(this))},Kf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pg(this,!0)),ag.Z.M.call(this)},Kf.Fa=function(){this.s||(this.F||this.v||this.l?dg(this):this.cb())},Kf.cb=function(){dg(this)},Kf.ba=function(){try{return 2<gg(this)?this.g.status:-1}catch(Id){return-1}},Kf.ga=function(){try{return this.g?this.g.responseText:""}catch(Id){return""}},Kf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),og(t)}},Kf.Da=function(){return this.m},Kf.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Kf=_g.prototype).ma=8,Kf.G=1,Kf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Kf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Xp(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Td(n=xd(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ig(this,t,r),Tv(i=_v(this.F),"RID",e),Tv(i,"CVER",22),this.D&&Tv(i,"X-HTTP-Session-Id",this.D),Cg(this,i),this.o&&n&&yg(i,this.o,n),Gv(this.i,t),this.Ra&&Tv(i,"TYPE","init"),this.ja?(Tv(i,"$req",r),Tv(i,"SID","null"),t.$=!0,rv(t,i,null)):rv(t,i,r),this.G=2}}else 3==this.G&&(e?Eg(this,e):0==this.l.length||zv(this.i)||Eg(this))},Kf.Ga=function(){if(this.u=null,Pg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Bp(ad(this.bb,this),e)}},Kf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Vp(10),bg(this),Pg(this))},Kf.ab=function(){null!=this.v&&(this.v=null,bg(this),Ag(this),Vp(19))},Kf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Vp(2)):(this.h.info("Failed to ping google.com"),Vp(1))},(Kf=Vg.prototype).xa=function(){},Kf.wa=function(){},Kf.va=function(){},Kf.ua=function(){},Kf.Oa=function(){},qg.prototype.g=function(e,t){return new Bg(e,t)},ud(Bg,lp),Bg.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),kp(ad(e.hb,e,t))),Vp(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ug(e,null,e.W),Tg(e)},Bg.prototype.close=function(){wg(this.g)},Bg.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Sg(this.g,t)}else this.v?((t={}).__data__=dp(e),Sg(this.g,t)):Sg(this.g,e)},Bg.prototype.M=function(){this.g.j=null,delete this.j,wg(this.g),delete this.g,Bg.Z.M.call(this)},ud(zg,Qp),ud(Zg,Yp),ud(Hg,Vg),Hg.prototype.xa=function(){hp(this.g,"a")},Hg.prototype.wa=function(e){hp(this.g,new zg(e))},Hg.prototype.va=function(e){hp(this.g,new Zg(e))},Hg.prototype.ua=function(){hp(this.g,"b")},qg.prototype.createWebChannel=qg.prototype.g,Bg.prototype.send=Bg.prototype.u,Bg.prototype.open=Bg.prototype.m,Bg.prototype.close=Bg.prototype.close,zp.NO_ERROR=0,zp.TIMEOUT=8,zp.HTTP_ERROR=6,Zp.COMPLETE="complete",Gp.EventType=Wp,Wp.OPEN="a",Wp.CLOSE="b",Wp.ERROR="c",Wp.MESSAGE="d",lp.prototype.listen=lp.prototype.N,ag.prototype.listenOnce=ag.prototype.O,ag.prototype.getLastError=ag.prototype.La,ag.prototype.getLastErrorCode=ag.prototype.Da,ag.prototype.getStatus=ag.prototype.ba,ag.prototype.getResponseJson=ag.prototype.Qa,ag.prototype.getResponseText=ag.prototype.ga,ag.prototype.send=ag.prototype.ea;var Gg=Yf.createWebChannelTransport=function(){return new qg},Kg=Yf.getStatEventTarget=function(){return Fp()},Wg=Yf.ErrorCode=zp,Qg=Yf.EventType=Zp,Yg=Yf.Event=Dp,Jg=Yf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xg=Yf.FetchXmlHttpFactory=$v,$g=Yf.WebChannel=Gp,em=Yf.XhrIo=ag,tm="@firebase/firestore",nm=function(){function e(t){d(this,e),this.uid=t}return f(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();nm.UNAUTHENTICATED=new nm(null),nm.GOOGLE_CREDENTIALS=new nm("google-credentials-uid"),nm.FIRST_PARTY=new nm("first-party-uid"),nm.MOCK_USER=new nm("mock-user");var rm="9.6.3",im=new tf.Yd("@firebase/firestore");function om(){return im.logLevel}function am(e){if(im.logLevel<=tf.in.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cm);im.debug.apply(im,["Firestore (".concat(rm,"): ").concat(e)].concat(a(i)))}}function sm(e){if(im.logLevel<=tf.in.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cm);im.error.apply(im,["Firestore (".concat(rm,"): ").concat(e)].concat(a(i)))}}function um(e){if(im.logLevel<=tf.in.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cm);im.warn.apply(im,["Firestore (".concat(rm,"): ").concat(e)].concat(a(i)))}}function cm(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function lm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(rm,") INTERNAL ASSERTION FAILED: ")+e;throw sm(t),new Error(t)}function hm(e,t){e||lm()}function fm(e,t){return e}var dm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pm=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return f(n)}(ef.ZR),vm=f(function e(){var t=this;d(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}),gm=f(function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}),mm=function(){function e(){d(this,e)}return f(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(nm.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),ym=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return f(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),km=function(){function e(t){d(this,e),this.t=t,this.currentUser=nm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return f(e,[{key:"start",value:function(e,t){var n=this,r=this,i=this.i,o=function(e){return n.i!==i?(i=n.i,t(e)):Promise.resolve()},a=new vm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new vm,e.enqueueRetryable(function(){return o(n.currentUser)})};var s=function(){var t=a;e.enqueueRetryable((0,Jh.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,o(r.currentUser);case 4:case"end":return e.stop()}},e)})))},u=function(e){am("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit(function(e){return u(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(am("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vm)}},0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(am("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hm("string"==typeof n.accessToken),new gm(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return hm(null===e||"string"==typeof e),new nm(e)}}]),e}(),_m=f(function e(t,n,r){d(this,e),this.type="FirstParty",this.user=nm.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}),wm=function(){function e(t,n,r){d(this,e),this.h=t,this.l=n,this.m=r}return f(e,[{key:"getToken",value:function(){return Promise.resolve(new _m(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(nm.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),bm=f(function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}),xm=function(){function e(t){d(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return f(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable(function(){return null!=(e=n).error&&am("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token);var e})};var r=function(e){am("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit(function(e){return r(e)}),setTimeout(function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):am("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(function(e){return e?(hm("string"==typeof e.token),new bm(e.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Sm=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return f(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Tm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Sm.I=-1;var Em=function(){function e(){d(this,e)}return f(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Tm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Cm(e,t){return e<t?-1:e>t?1:0}function Im(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function Rm(e){return e+"\0"}var Am=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new pm(dm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pm(dm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new pm(dm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pm(dm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return f(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Cm(this.nanoseconds,e.nanoseconds):Cm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Om=function(){function e(t){d(this,e),this.timestamp=t}return f(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Am(0,0))}}]),e}();function Pm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Dm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Lm=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&lm(),void 0===r?r=t.length-n:r>t.length-n&&lm(),this.segments=t,this.offset=n,this.len=r}return f(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Fm=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,s=r;o<s.length;o++){var u=s[o];if(u.indexOf("//")>=0)throw new pm(dm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,a(u.split("/").filter(function(e){return e.length>0})))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lm),Mm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Um=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Mm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new pm(dm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new pm(dm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new pm(dm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new pm(dm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lm),jm=function(){function e(t){d(this,e),this.fields=t,t.sort(Um.comparator)}return f(e,[{key:"covers",value:function(e){var t,n=u(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Im(this.fields,e.fields,function(e,t){return e.isEqual(t)})}}]),e}(),Vm=function(e){function t(e){d(this,t),this.binaryString=e}return f(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return btoa(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Cm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){return new t(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}}]),t}();Vm.EMPTY_BYTE_STRING=new Vm("");var qm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bm(e){if(hm(!!e),"string"==typeof e){var t=0,n=qm.exec(e);if(hm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zm(e.seconds),nanos:zm(e.nanos)}}function zm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zm(e){return"string"==typeof e?Vm.fromBase64String(e):Vm.fromUint8Array(e)}function Hm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gm(e){var t=e.mapValue.fields.__previous_value__;return Hm(t)?Gm(t):t}function Km(e){var t=Bm(e.mapValue.fields.__local_write_time__.timestampValue);return new Am(t.seconds,t.nanos)}function Wm(e){return null==e}function Qm(e){return 0===e&&1/e==-1/0}function Ym(e){return"number"==typeof e&&Number.isInteger(e)&&!Qm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Jm=function(){function e(t){d(this,e),this.path=t}return f(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Fm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Fm.fromString(t))}},{key:"fromName",value:function(t){return new e(Fm.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Fm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Fm(t.slice()))}}]),e}();function Xm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hm(e)?4:10:lm()}function $m(e,t){if(e===t)return!0;var n,r=Xm(e);if(r!==Xm(t))return!1;switch(r){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Km(e).isEqual(Km(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Bm(e.timestampValue),r=Bm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,Zm(e.bytesValue).isEqual(Zm(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return zm(e.geoPointValue.latitude)===zm(t.geoPointValue.latitude)&&zm(e.geoPointValue.longitude)===zm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return zm(e.integerValue)===zm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=zm(e.doubleValue),r=zm(t.doubleValue);return n===r?Qm(n)===Qm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Im(e.arrayValue.values||[],t.arrayValue.values||[],$m);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pm(n)!==Pm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$m(n[i],r[i])))return!1;return!0}(e,t);default:return lm()}}function ey(e,t){return void 0!==(e.values||[]).find(function(e){return $m(e,t)})}function ty(e,t){if(e===t)return 0;var n,r,i,o,a=Xm(e),s=Xm(t);if(a!==s)return Cm(a,s);switch(a){case 0:return 0;case 1:return Cm(e.booleanValue,t.booleanValue);case 2:return r=t,i=zm((n=e).integerValue||n.doubleValue),o=zm(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return ny(e.timestampValue,t.timestampValue);case 4:return ny(Km(e),Km(t));case 5:return Cm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Zm(e),r=Zm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Cm(n[i],r[i]);if(0!==o)return o}return Cm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Cm(zm(e.latitude),zm(t.latitude));return 0!==n?n:Cm(zm(e.longitude),zm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=ty(n[i],r[i]);if(o)return o}return Cm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Cm(r[a],o[a]);if(0!==s)return s;var u=ty(n[r[a]],i[o[a]]);if(0!==u)return u}return Cm(r.length,o.length)}(e.mapValue,t.mapValue);default:throw lm()}}function ny(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cm(e,t);var n=Bm(e),r=Bm(t),i=Cm(n.seconds,r.seconds);return 0!==i?i:Cm(n.nanos,r.nanos)}function ry(e){return iy(e)}function iy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(t=e.timestampValue,n=Bm(t),"time(".concat(n.seconds,",").concat(n.nanos,")")):"stringValue"in e?e.stringValue:"bytesValue"in e?Zm(e.bytesValue).toBase64():"referenceValue"in e?Jm.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo(".concat((r=e.geoPointValue).latitude,",").concat(r.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=u(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=iy(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=u(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+="".concat(o,":").concat(iy(e.fields[o]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(e.mapValue):lm();var t,n,r}function oy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ay(e){return!!e&&"integerValue"in e}function sy(e){return!!e&&"arrayValue"in e}function uy(e){return!!e&&"nullValue"in e}function cy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ly(e){return!!e&&"mapValue"in e}function hy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Nm(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=hy(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=hy(e.arrayValue.values[r]);return n}return Object.assign({},e)}var fy=function(){function e(t){d(this,e),this.value=t}return f(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ly(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hy(t)}},{key:"setAll",value:function(e){var t=this,n=Um.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=hy(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ly(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return $m(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ly(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Nm(t,function(t,n){return e[t]=n});var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(hy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function dy(e){var t=[];return Nm(e.fields,function(e,n){var r=new Um([e]);if(ly(n)){var i=dy(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,a=u(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.push(r.child(s))}}catch(c){a.e(c)}finally{a.f()}}}else t.push(r)}),new jm(t)}var py=function(){function e(t,n,r,i,o){d(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return f(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=fy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=fy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Om.min(),fy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,fy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,fy.empty(),2)}}]),e}(),vy=f(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.R=null});function gy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new vy(e,t,n,r,i,o,a)}function my(e){var t=fm(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ry(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return(t=e).field.canonicalString()+t.dir;var t}).join(","),Wm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ay(t.startAt)),t.endAt&&(n+="|ub:",n+=Ay(t.endAt)),t.R=n}return t.R}function yy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Py(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!$m(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Dy(e.startAt,t.startAt)&&Dy(e.endAt,t.endAt)}function ky(e){return Jm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var _y=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ty(t,this.value)):null!==t&&Xm(this.value)===Xm(t)&&this.v(ty(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lm()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new wy(e,t,r):"array-contains"===t?new Ty(e,r):"in"===t?new Ey(e,r):"not-in"===t?new Cy(e,r):"array-contains-any"===t?new Iy(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new by(e,n):new xy(e,n)}}]),n}(function(){return f(function e(){d(this,e)})}()),wy=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r,i)).key=Jm.fromName(i.referenceValue),o}return f(n,[{key:"matches",value:function(e){var t=Jm.comparator(e.key,this.key);return this.v(t)}}]),n}(_y),by=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=Sy(0,r),i}return f(n,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}]),n}(_y),xy=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=Sy(0,r),i}return f(n,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}]),n}(_y);function Sy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return Jm.fromName(e.referenceValue)})}var Ty=function(e){p(n,e);var t=v(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return sy(t)&&ey(t.arrayValue,this.value)}}]),n}(_y),Ey=function(e){p(n,e);var t=v(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ey(this.value.arrayValue,t)}}]),n}(_y),Cy=function(e){p(n,e);var t=v(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return f(n,[{key:"matches",value:function(e){if(ey(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ey(this.value.arrayValue,t)}}]),n}(_y),Iy=function(e){p(n,e);var t=v(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return f(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return ey(t.value.arrayValue,e)})}}]),n}(_y),Ry=f(function e(t,n){d(this,e),this.position=t,this.before=n});function Ay(e){return"".concat(e.before?"b":"a",":").concat(e.position.map(function(e){return ry(e)}).join(","))}var Oy=f(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n});function Py(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ny(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Jm.comparator(Jm.fromName(a.referenceValue),n.key):ty(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Dy(e,t){if(null===e)return null===t;if(null===t||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!$m(e.position[n],t.position[n]))return!1;return!0}var Ly=f(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.S=null,this.D=null});function Fy(e,t,n,r,i,o,a,s){return new Ly(e,t,n,r,i,o,a,s)}function My(e){return new Ly(e)}function Uy(e){return!Wm(e.limit)&&"F"===e.limitType}function jy(e){return!Wm(e.limit)&&"L"===e.limitType}function Vy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qy(e){var t,n=u(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function By(e){return null!==e.collectionGroup}function zy(e){var t=fm(e);if(null===t.S){t.S=[];var n=qy(t),r=Vy(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Oy(n)),t.S.push(new Oy(Um.keyField(),"asc"));else{var i,o=!1,a=u(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(o=!0)}}catch(l){a.e(l)}finally{a.f()}if(!o){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Oy(Um.keyField(),c))}}}return t.S}function Zy(e){var t=fm(e);if(!t.D)if("F"===t.limitType)t.D=gy(t.path,t.collectionGroup,zy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=u(zy(t));try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(new Oy(o.field,"desc"===o.dir?"asc":"desc"))}}catch(c){i.e(c)}finally{i.f()}var a=t.endAt?new Ry(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Ry(t.startAt.position,!t.startAt.before):null;t.D=gy(t.path,t.collectionGroup,r,t.filters,t.limit,a,s)}return t.D}function Hy(e,t,n){return new Ly(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gy(e,t){return yy(Zy(e),Zy(t))&&e.limitType===t.limitType}function Ky(e){return"".concat(my(Zy(e)),"|lt:").concat(e.limitType)}function Wy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ry(t.value));var t}).join(", "),"]")),Wm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return"".concat((t=e).field.canonicalString()," (").concat(t.dir,")");var t}).join(", "),"]")),e.startAt&&(t+=", startAt: "+Ay(e.startAt)),e.endAt&&(t+=", endAt: "+Ay(e.endAt)),"Target(".concat(t,")")}(Zy(e)),"; limitType=").concat(e.limitType,")")}function Qy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=u(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=u(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&(r=t,!((n=e).startAt&&!Ny(n.startAt,zy(n),r)||n.endAt&&Ny(n.endAt,zy(n),r)));var n,r}function Yy(e){return function(t,n){var r,i=!1,o=u(zy(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=Jy(a,t,n);if(0!==s)return s;i=i||a.field.isKeyField()}}catch(c){o.e(c)}finally{o.f()}return 0}}function Jy(e,t,n){var r,i,o,a,s=e.field.isKeyField()?Jm.comparator(t.key,n.key):(r=e.field,i=n,o=t.data.field(r),a=i.data.field(r),null!==o&&null!==a?ty(o,a):lm());switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return lm()}}function Xy(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qm(t)?"-0":t}}function $y(e){return{integerValue:""+e}}function ek(e,t){return Ym(t)?$y(t):Xy(e,t)}var tk=f(function e(){d(this,e),this._=void 0});function nk(e,t,n){return e instanceof ok?(i=t,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):e instanceof ak?sk(e,t):e instanceof uk?ck(e,t):function(e,t){var n=ik(e,t),r=hk(n)+hk(e.N);return ay(n)&&ay(e.N)?$y(r):Xy(e.k,r)}(e,t);var r,i,o}function rk(e,t,n){return e instanceof ak?sk(e,t):e instanceof uk?ck(e,t):n}function ik(e,t){return e instanceof lk?ay(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}var ok=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n)}(tk),ak=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return f(n)}(tk);function sk(e,t){var n,r=fk(t),i=u(e.elements);try{var o=function(){var e=n.value;r.some(function(t){return $m(t,e)})||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var uk=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return f(n)}(tk);function ck(e,t){var n,r=fk(t),i=u(e.elements);try{var o=function(){var e=n.value;r=r.filter(function(t){return!$m(t,e)})};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var lk=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).k=e,i.N=r,i}return f(n)}(tk);function hk(e){return zm(e.integerValue||e.doubleValue)}function fk(e){return sy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var dk=f(function e(t,n){d(this,e),this.field=t,this.transform=n}),pk=f(function e(t,n){d(this,e),this.version=t,this.transformResults=n}),vk=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return f(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function gk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var mk=f(function e(){d(this,e)});function yk(e,t,n){var r,i,o,a,s;e instanceof xk?(i=t,o=n,a=(r=e).value.clone(),s=Ek(r.fieldTransforms,i,o.transformResults),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()):e instanceof Sk?function(e,t,n){if(gk(e.precondition,t)){var r=Ek(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Tk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function kk(e,t,n){var r;e instanceof xk?function(e,t,n){if(gk(e.precondition,t)){var r=e.value.clone(),i=Ck(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(bk(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Sk?function(e,t,n){if(gk(e.precondition,t)){var r=Ck(e.fieldTransforms,n,t),i=t.data;i.setAll(Tk(e)),i.setAll(r),t.convertToFoundDocument(bk(t),i).setHasLocalMutations()}}(e,t,n):gk(e.precondition,r=t)&&r.convertToNoDocument(Om.min())}function _k(e,t){var n,r=null,i=u(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.field),s=ik(o.transform,a||null);null!=s&&(null==r&&(r=fy.empty()),r.set(o.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function wk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&Im(n,r,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(n=e.transform)instanceof ak&&r instanceof ak||n instanceof uk&&r instanceof uk?Im(n.elements,r.elements,$m):n instanceof lk&&r instanceof lk?$m(n.N,r.N):n instanceof ok&&r instanceof ok);var n,r}(e,t)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function bk(e){return e.isFoundDocument()?e.version:Om.min()}var xk=function(e){p(n,e);var t=v(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return f(n)}(mk),Sk=function(e){p(n,e);var t=v(n);function n(e,r,i,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return f(n)}(mk);function Tk(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Ek(e,t,n){var r=new Map;hm(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,rk(a,s,n[i]))}return r}function Ck(e,t,n){var r,i=new Map,o=u(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.transform,c=n.data.field(a.field);i.set(a.field,nk(s,c,t))}}catch(l){o.e(l)}finally{o.f()}return i}var Ik,Rk,Ak=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return f(n)}(mk),Ok=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return f(n)}(mk),Pk=f(function e(t){d(this,e),this.count=t});function Nk(e){switch(e){default:return lm();case dm.CANCELLED:case dm.UNKNOWN:case dm.DEADLINE_EXCEEDED:case dm.RESOURCE_EXHAUSTED:case dm.INTERNAL:case dm.UNAVAILABLE:case dm.UNAUTHENTICATED:return!1;case dm.INVALID_ARGUMENT:case dm.NOT_FOUND:case dm.ALREADY_EXISTS:case dm.PERMISSION_DENIED:case dm.FAILED_PRECONDITION:case dm.ABORTED:case dm.OUT_OF_RANGE:case dm.UNIMPLEMENTED:case dm.DATA_LOSS:return!0}}function Dk(e){if(void 0===e)return sm("GRPC error has no .code"),dm.UNKNOWN;switch(e){case Ik.OK:return dm.OK;case Ik.CANCELLED:return dm.CANCELLED;case Ik.UNKNOWN:return dm.UNKNOWN;case Ik.DEADLINE_EXCEEDED:return dm.DEADLINE_EXCEEDED;case Ik.RESOURCE_EXHAUSTED:return dm.RESOURCE_EXHAUSTED;case Ik.INTERNAL:return dm.INTERNAL;case Ik.UNAVAILABLE:return dm.UNAVAILABLE;case Ik.UNAUTHENTICATED:return dm.UNAUTHENTICATED;case Ik.INVALID_ARGUMENT:return dm.INVALID_ARGUMENT;case Ik.NOT_FOUND:return dm.NOT_FOUND;case Ik.ALREADY_EXISTS:return dm.ALREADY_EXISTS;case Ik.PERMISSION_DENIED:return dm.PERMISSION_DENIED;case Ik.FAILED_PRECONDITION:return dm.FAILED_PRECONDITION;case Ik.ABORTED:return dm.ABORTED;case Ik.OUT_OF_RANGE:return dm.OUT_OF_RANGE;case Ik.UNIMPLEMENTED:return dm.UNIMPLEMENTED;case Ik.DATA_LOSS:return dm.DATA_LOSS;default:return lm()}}(Rk=Ik||(Ik={}))[Rk.OK=0]="OK",Rk[Rk.CANCELLED=1]="CANCELLED",Rk[Rk.UNKNOWN=2]="UNKNOWN",Rk[Rk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rk[Rk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rk[Rk.NOT_FOUND=5]="NOT_FOUND",Rk[Rk.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rk[Rk.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rk[Rk.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rk[Rk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rk[Rk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rk[Rk.ABORTED=10]="ABORTED",Rk[Rk.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rk[Rk.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rk[Rk.INTERNAL=13]="INTERNAL",Rk[Rk.UNAVAILABLE=14]="UNAVAILABLE",Rk[Rk.DATA_LOSS=15]="DATA_LOSS";var Lk=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||Mk.EMPTY}return f(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Mk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Fk(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Fk(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Fk(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Fk(this.root,e,this.comparator,!0)}}]),e}(),Fk=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return f(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Mk=function(){function e(t,n,r,i,o){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return f(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lm();var e=this.left.check();if(e!==this.right.check())throw lm();return e+(this.isRed()?0:1)}}]),e}();Mk.EMPTY=null,Mk.RED=!0,Mk.BLACK=!1,Mk.EMPTY=new(function(){function e(){d(this,e),this.size=0}return f(e,[{key:"key",get:function(){throw lm()}},{key:"value",get:function(){throw lm()}},{key:"color",get:function(){throw lm()}},{key:"left",get:function(){throw lm()}},{key:"right",get:function(){throw lm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Mk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Uk=function(){function e(t){d(this,e),this.comparator=t,this.data=new Lk(this.comparator)}return f(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new jk(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new jk(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),jk=function(){function e(t){d(this,e),this.iter=t}return f(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Vk=new Lk(Jm.comparator);function qk(){return Vk}var Bk=new Lk(Jm.comparator);function zk(){return Bk}var Zk=new Lk(Jm.comparator);function Hk(){return Zk}var Gk=new Uk(Jm.comparator);function Kk(){for(var e=Gk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.add(a)}return e}var Wk=new Uk(Cm);function Qk(){return Wk}var Yk=function(){function e(t,n,r,i,o){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return f(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Jk.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Om.min(),r,Qk(),qk(),Kk())}}]),e}(),Jk=function(){function e(t,n,r,i,o){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return f(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Vm.EMPTY_BYTE_STRING,n,Kk(),Kk(),Kk())}}]),e}(),Xk=f(function e(t,n,r,i){d(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i}),$k=f(function e(t,n){d(this,e),this.targetId=t,this.M=n}),e_=f(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}),t_=function(){function e(){d(this,e),this.F=0,this.L=i_(),this.B=Vm.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return f(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Kk(),t=Kk(),n=Kk();return this.L.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:lm()}}),new Jk(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=i_()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),n_=function(){function e(t){d(this,e),this.et=t,this.nt=new Map,this.st=qk(),this.it=r_(),this.rt=new Uk(Cm)}return f(e,[{key:"ot",value:function(e){var t,n=u(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,o=u(e.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.at(a,e.key,e.O)}}catch(s){o.e(s)}finally{o.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:lm()}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(function(e,r){n.lt(r)&&t(r)})}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(ky(i))if(0===n){var o=new Jm(i.path);this.at(t,o,py.newNoDocument(o,Om.min()))}else hm(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach(function(r,i){var o=t.wt(i);if(o){if(r.current&&ky(o.target)){var a=new Jm(o.target.path);null!==t.st.get(a)||t.yt(i,a)||t.at(i,a,py.newNoDocument(a,e))}r.j&&(n.set(i,r.G()),r.H())}});var r=Kk();this.it.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new Yk(e,n,this.rt,this.st,r);return this.st=qk(),this.it=r_(),this.rt=new Uk(Cm),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new t_,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Uk(Cm),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||am("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new t_),this.et.getRemoteKeysForTarget(e).forEach(function(n){t.at(e,n,null)})}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function r_(){return new Lk(Jm.comparator)}function i_(){return new Lk(Jm.comparator)}var o_={asc:"ASCENDING",desc:"DESCENDING"},a_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s_=f(function e(t,n){d(this,e),this.databaseId=t,this.C=n});function u_(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function c_(e,t){return e.C?t.toBase64():t.toUint8Array()}function l_(e,t){return u_(e,t.toTimestamp())}function h_(e){return hm(!!e),Om.fromTimestamp((t=Bm(e),new Am(t.seconds,t.nanos)));var t}function f_(e,t){return(n=e,new Fm(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function d_(e){var t=Fm.fromString(e);return hm(M_(t)),t}function p_(e,t){return f_(e.databaseId,t.path)}function v_(e,t){var n=d_(t);if(n.get(1)!==e.databaseId.projectId)throw new pm(dm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pm(dm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jm(k_(n))}function g_(e,t){return f_(e.databaseId,t)}function m_(e){var t=d_(e);return 4===t.length?Fm.emptyPath():k_(t)}function y_(e){return new Fm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function k_(e){return hm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function __(e,t,n){return{name:p_(e,t),fields:n.value.mapValue.fields}}function w_(e,t,n){var r=v_(e,t.name),i=h_(t.updateTime),o=new fy({mapValue:{fields:t.fields}}),a=py.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function b_(e,t){var n,r;if(t instanceof xk)n={update:__(e,t.key,t.value)};else if(t instanceof Ak)n={delete:p_(e,t.key)};else if(t instanceof Sk)n={update:__(e,t.key,t.data),updateMask:F_(t.fieldMask)};else{if(!(t instanceof Ok))return lm();n={verify:p_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof ok)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ak)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof uk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lk)return{fieldPath:t.field.canonicalString(),increment:n.N};throw lm()}(0,e)})),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:l_(e,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:lm()),n}function x_(e,t){var n,r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?vk.updateTime(h_(n.updateTime)):void 0!==n.exists?vk.exists(n.exists):vk.none():vk.none(),i=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;"setToServerValue"in t?(hm("REQUEST_TIME"===t.setToServerValue),n=new ok):"appendMissingElements"in t?n=new ak(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new uk(t.removeAllFromArray.values||[]):"increment"in t?n=new lk(e,t.increment):lm();var r=Um.fromServerFormat(t.fieldPath);return new dk(r,n)}(e,t)}):[];if(t.update){var o=v_(e,t.update.name),a=new fy({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=new jm((t.updateMask.fieldPaths||[]).map(function(e){return Um.fromServerFormat(e)}));return new Sk(o,a,s,r,i)}return new xk(o,a,r,i)}if(t.delete){var u=v_(e,t.delete);return new Ak(u,r)}if(t.verify){var c=v_(e,t.verify);return new Ok(c,r)}return lm()}function S_(e,t){return{documents:[g_(e,t.path)]}}function T_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=g_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=g_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(cy(e.value))return{unaryFilter:{field:P_(e.field),op:"IS_NAN"}};if(uy(e.value))return{unaryFilter:{field:P_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cy(e.value))return{unaryFilter:{field:P_(e.field),op:"IS_NOT_NAN"}};if(uy(e.value))return{unaryFilter:{field:P_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:P_(e.field),op:O_(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return{field:P_((t=e).field),direction:A_(t.dir)};var t})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s=(a=t.limit,e.C||Wm(a)?a:{value:a});return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=I_(t.startAt)),t.endAt&&(n.structuredQuery.endAt=I_(t.endAt)),n}function E_(e){var t=m_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hm(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=C_(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(e){return new Oy(N_((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));var u=null;n.limit&&(u=function(e){var t;return Wm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=R_(n.startAt));var l=null;return n.endAt&&(l=R_(n.endAt)),Fy(t,i,s,a,u,"F",c,l)}function C_(e){return e?void 0!==e.unaryFilter?[L_(e)]:void 0!==e.fieldFilter?[D_(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return C_(e)}).reduce(function(e,t){return e.concat(t)}):lm():[]}function I_(e){return{before:e.before,values:e.position}}function R_(e){return new Ry(e.values||[],!!e.before)}function A_(e){return o_[e]}function O_(e){return a_[e]}function P_(e){return{fieldPath:e.canonicalString()}}function N_(e){return Um.fromServerFormat(e.fieldPath)}function D_(e){return _y.create(N_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lm()}}(e.fieldFilter.op),e.fieldFilter.value)}function L_(e){switch(e.unaryFilter.op){case"IS_NAN":var t=N_(e.unaryFilter.field);return _y.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=N_(e.unaryFilter.field);return _y.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=N_(e.unaryFilter.field);return _y.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=N_(e.unaryFilter.field);return _y.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lm()}}function F_(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function M_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function U_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=V_(t)),t=j_(e.get(n),t);return V_(t)}function j_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function V_(e){return e+"\x01\x01"}function q_(e){var t=e.length;if(hm(t>=2),2===t)return hm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Fm.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&lm(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:lm()}o=a+2}return new Fm(r)}var B_=f(function e(t,n){d(this,e),this.seconds=t,this.nanoseconds=n}),z_=f(function e(t,n,r){d(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r});z_.store="owner",z_.key="owner";var Z_=f(function e(t,n,r){d(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r});Z_.store="mutationQueues",Z_.keyPath="userId";var H_=f(function e(t,n,r,i,o){d(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=o});H_.store="mutations",H_.keyPath="batchId",H_.userMutationsIndex="userMutationsIndex",H_.userMutationsKeyPath=["userId","batchId"];var G_=function(){function e(){d(this,e)}return f(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,U_(t)]}},{key:"key",value:function(e,t,n){return[e,U_(t),n]}}]),e}();G_.store="documentMutations",G_.PLACEHOLDER=new G_;var K_=f(function e(t,n){d(this,e),this.path=t,this.readTime=n}),W_=f(function e(t,n){d(this,e),this.path=t,this.version=n}),Q_=f(function e(t,n,r,i,o,a){d(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=a});Q_.store="remoteDocuments",Q_.readTimeIndex="readTimeIndex",Q_.readTimeIndexPath="readTime",Q_.collectionReadTimeIndex="collectionReadTimeIndex",Q_.collectionReadTimeIndexPath=["parentPath","readTime"];var Y_=f(function e(t){d(this,e),this.byteSize=t});Y_.store="remoteDocumentGlobal",Y_.key="remoteDocumentGlobalKey";var J_=f(function e(t,n,r,i,o,a,s){d(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=a,this.query=s});J_.store="targets",J_.keyPath="targetId",J_.queryTargetsIndexName="queryTargetsIndex",J_.queryTargetsKeyPath=["canonicalId","targetId"];var X_=f(function e(t,n,r){d(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r});X_.store="targetDocuments",X_.keyPath=["targetId","path"],X_.documentTargetsIndex="documentTargetsIndex",X_.documentTargetsKeyPath=["path","targetId"];var $_=f(function e(t,n,r,i){d(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i});$_.key="targetGlobalKey",$_.store="targetGlobal";var ew=f(function e(t,n){d(this,e),this.collectionId=t,this.parent=n});ew.store="collectionParents",ew.keyPath=["collectionId","parent"];var tw=f(function e(t,n,r,i){d(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i});tw.store="clientMetadata",tw.keyPath="clientId";var nw=f(function e(t,n,r){d(this,e),this.bundleId=t,this.createTime=n,this.version=r});nw.store="bundles",nw.keyPath="bundleId";var rw=f(function e(t,n,r){d(this,e),this.name=t,this.readTime=n,this.bundledQuery=r});rw.store="namedQueries",rw.keyPath="name";var iw=[Z_.store,H_.store,G_.store,Q_.store,J_.store,z_.store,$_.store,X_.store,tw.store,Y_.store,ew.store,nw.store,rw.store],ow="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",aw=function(){function e(){d(this,e),this.onCommittedListeners=[]}return f(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),e}(),sw=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return f(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&lm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(n){return e.reject(n)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=u(t);try{var o=function(){var t=n.value;r=r.next(function(n){return n?e.resolve(n):t()})};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)}}]),e}(),uw=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new vm,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new hw(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=gw(e.target.error);r.It.reject(new hw(t,n))}}return f(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(am("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new dw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new hw(n,o)}}}]),e}(),cw=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt((0,ef.z$)())&&sm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f(e,[{key:"Ct",value:function(e){var t=this;return(0,Jh.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t.db,n.t0){n.next=6;break}return am("SimpleDb","Opening database:",t.name),n.next=5,new Promise(function(n,r){var i=indexedDB.open(t.name,t.version);i.onsuccess=function(e){n(e.target.result)},i.onblocked=function(){r(new hw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new pm(dm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new pm(dm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new hw(e,n))},i.onupgradeneeded=function(e){am("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.Rt.Nt(e.target.result,i.transaction,e.oldVersion,t.version).next(function(){am("SimpleDb","Database upgrade to version "+t.version+" complete")})}});case 5:t.db=n.sent;case 6:return t.kt&&(t.db.onversionchange=function(e){return t.kt(e)}),n.abrupt("return",t.db);case 8:case"end":return n.stop()}},n)}))()}},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(e,t,n,r){var i=this;return(0,Jh.Z)(regeneratorRuntime.mark(function o(){var a,s,u,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:a="readonly"===t,s=0;case 2:return++s,o.prev=3,o.delegateYield(regeneratorRuntime.mark(function t(){var o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Ct(e);case 2:return i.db=t.sent,o=uw.open(i.db,e,a?"readonly":"readwrite",n),(s=r(o).catch(function(e){return o.abort(e),sw.reject(e)}).toPromise()).catch(function(){}),t.next=7,o.At;case 7:return t.t0=s,t.abrupt("return",{v:t.t0});case 9:case"end":return t.stop()}},t)})(),"t0",5);case 5:if("object"!=typeof(u=o.t0)){o.next=8;break}return o.abrupt("return",u.v);case 8:o.next=15;break;case 10:if(o.prev=10,o.t1=o.catch(3),c="FirebaseError"!==o.t1.name&&s<3,am("SimpleDb","Transaction failed with error:",o.t1.message,"Retrying:",c),i.close(),c){o.next=15;break}return o.abrupt("return",Promise.reject(o.t1));case 15:o.next=2;break;case 17:case"end":return o.stop()}},o,null,[[3,10]])}))()}},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return am("SimpleDb","Removing database:",e),pw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!(0,ef.hl)())return!1;if(e.vt())return!0;var t=(0,ef.z$)(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),lw=function(){function e(t){d(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return f(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return pw(this.$t.delete())}}]),e}(),hw=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,dm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return f(n)}(pm);function fw(e){return"IndexedDbTransactionError"===e.name}var dw=function(){function e(t){d(this,e),this.store=t}return f(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(am("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(am("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),pw(n)}},{key:"add",value:function(e){return am("SimpleDb","ADD",this.store.name,e,e),pw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return pw(this.store.get(e)).next(function(n){return void 0===n&&(n=null),am("SimpleDb","GET",t.store.name,e,n),n})}},{key:"delete",value:function(e){return am("SimpleDb","DELETE",this.store.name,e),pw(this.store.delete(e))}},{key:"count",value:function(){return am("SimpleDb","COUNT",this.store.name),pw(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,function(e,t){r.push(t)}).next(function(){return r})}},{key:"qt",value:function(e,t){am("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,function(e,t,n){return n.delete()})}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new sw(function(n,r){t.onerror=function(e){var t=gw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})}},{key:"Ut",value:function(e,t){var n=[];return new sw(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new lw(i),a=t(i.primaryKey,i.value,o);if(a instanceof sw){var s=a.catch(function(e){return o.done(),sw.reject(e)});n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return sw.waitFor(n)})}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function pw(e){return new sw(function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=gw(e.target.error);n(t)}})}var vw=!1;function gw(e){var t=cw.bt((0,ef.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new pm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return vw||(vw=!0,setTimeout(function(){throw r},0)),r}}return e}var mw=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return f(n)}(aw);function yw(e,t){var n=fm(e);return cw.Dt(n.Wt,t)}var kw=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return f(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&yk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=u(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&kk(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,o=u(this.mutations);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.key.isEqual(e.key)&&kk(a,e,this.localWriteTime)}}catch(s){o.e(s)}finally{o.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Om.min())})}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Kk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Im(this.mutations,e.mutations,function(e,t){return wk(e,t)})&&Im(this.baseMutations,e.baseMutations,function(e,t){return wk(e,t)})}}]),e}(),_w=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return f(e,null,[{key:"from",value:function(t,n,r){hm(t.mutations.length===r.length);for(var i=Hk(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),ww=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Om.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Om.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vm.EMPTY_BYTE_STRING;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}return f(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),bw=f(function e(t){d(this,e),this.Gt=t});function xw(e,t){if(t.document)return w_(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Jm.fromSegments(t.noDocument.path),r=Iw(t.noDocument.readTime),i=py.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Jm.fromSegments(t.unknownDocument.path),a=Iw(t.unknownDocument.version);return py.newUnknownDocument(o,a)}return lm()}function Sw(e,t,n){var r,i,o=Tw(n),a=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s={name:p_(r=e.Gt,(i=t).key),fields:i.data.value.mapValue.fields,updateTime:u_(r,i.version.toTimestamp())};return new Q_(null,null,s,t.hasCommittedMutations,o,a)}if(t.isNoDocument()){var u=t.key.path.toArray(),c=Cw(t.version),l=t.hasCommittedMutations;return new Q_(null,new K_(u,c),null,l,o,a)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),f=Cw(t.version);return new Q_(new W_(h,f),null,null,!0,o,a)}return lm()}function Tw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ew(e){var t=new Am(e[0],e[1]);return Om.fromTimestamp(t)}function Cw(e){var t=e.toTimestamp();return new B_(t.seconds,t.nanoseconds)}function Iw(e){var t=new Am(e.seconds,e.nanoseconds);return Om.fromTimestamp(t)}function Rw(e,t){for(var n=(t.baseMutations||[]).map(function(t){return x_(e.Gt,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i.updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var o=t.mutations.map(function(t){return x_(e.Gt,t)}),a=Am.fromMillis(t.localWriteTimeMs);return new kw(t.batchId,a,n,o)}function Aw(e){var t,n,r=Iw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Iw(e.lastLimboFreeSnapshotVersion):Om.min();return void 0!==e.query.documents?(hm(1===(n=e.query).documents.length),t=Zy(My(m_(n.documents[0])))):t=Zy(E_(e.query)),new ww(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Vm.fromBase64String(e.resumeToken))}function Ow(e,t){var n,r=Cw(t.snapshotVersion),i=Cw(t.lastLimboFreeSnapshotVersion);n=ky(t.target)?S_(e.Gt,t.target):T_(e.Gt,t.target);var o=t.resumeToken.toBase64();return new J_(t.targetId,my(t.target),r,o,t.sequenceNumber,i,n)}function Pw(e){var t=E_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hy(t,t.limit,"L"):t}var Nw=function(){function e(){d(this,e)}return f(e,[{key:"getBundleMetadata",value:function(e,t){return Dw(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Iw(t.createTime),version:t.version};var t})}},{key:"saveBundleMetadata",value:function(e,t){return Dw(e).put({bundleId:(n=t).id,createTime:Cw(h_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Lw(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Pw(t.bundledQuery),readTime:Iw(t.readTime)};var t})}},{key:"saveNamedQuery",value:function(e,t){return Lw(e).put({name:(n=t).name,readTime:Cw(h_(n.readTime)),bundledQuery:n.bundledQuery});var n}}]),e}();function Dw(e){return yw(e,nw.store)}function Lw(e){return yw(e,rw.store)}var Fw=function(){function e(){d(this,e),this.zt=new Mw}return f(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),sw.resolve()}},{key:"getCollectionParents",value:function(e,t){return sw.resolve(this.zt.getEntries(t))}}]),e}(),Mw=function(){function e(){d(this,e),this.index={}}return f(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Uk(Fm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Uk(Fm.comparator)).toArray()}}]),e}(),Uw=function(){function e(){d(this,e),this.Ht=new Mw}return f(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.Ht.add(t)});var o={collectionId:r,parent:U_(i)};return jw(e).put(o)}return sw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Rm(t),""],!1,!0);return jw(e).Bt(r).next(function(e){var r,i=u(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.collectionId!==t)break;n.push(q_(o.parent))}}catch(a){i.e(a)}finally{i.f()}return n})}}]),e}();function jw(e){return yw(e,ew.store)}var Vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qw=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return f(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Bw(e,t,n){var r=e.store(H_.store),i=e.store(G_.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,c=r.jt({range:a},function(e,t,n){return s++,n.delete()});o.push(c.next(function(){hm(1===s)}));var l,h=[],f=u(n.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value,p=G_.key(t,d.key.path,n.batchId);o.push(i.delete(p)),h.push(d.key)}}catch(v){f.e(v)}finally{f.f()}return sw.waitFor(o).next(function(){return h})}function zw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw lm();t=e.noDocument}return JSON.stringify(t).length}qw.DEFAULT_COLLECTION_PERCENTILE=10,qw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qw.DEFAULT=new qw(41943040,qw.DEFAULT_COLLECTION_PERCENTILE,qw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qw.DISABLED=new qw(-1,0,0);var Zw=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return f(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gw(e).jt({index:H_.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,o=Kw(e),a=Gw(e);return a.add({}).next(function(s){hm("number"==typeof s);var c,l=new kw(s,t,n,r),h=function(e,t,n){var r=n.baseMutations.map(function(t){return b_(e.Gt,t)}),i=n.mutations.map(function(t){return b_(e.Gt,t)});return new H_(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,l),f=[],d=new Uk(function(e,t){return Cm(e.canonicalString(),t.canonicalString())}),p=u(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,g=G_.key(i.userId,v.key.path,s);d=d.add(v.key.path.popLast()),f.push(a.put(h)),f.push(o.put(g,G_.PLACEHOLDER))}}catch(m){p.e(m)}finally{p.f()}return d.forEach(function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Yt[s]=l.keys()}),sw.waitFor(f).next(function(){return l})})}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Gw(e).get(t).next(function(e){return e?(hm(e.userId===n.userId),Rw(n.k,e)):null})}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?sw.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null})}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Gw(e).jt({index:H_.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(hm(t.batchId>=r),o=Rw(n.k,t)),i.done()}).next(function(){return o})}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gw(e).jt({index:H_.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gw(e).Bt(H_.userMutationsIndex,n).next(function(e){return e.map(function(e){return Rw(t.k,e)})})}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,n){var r=this,i=G_.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return Kw(e).jt({range:o},function(i,o,s){var u=t(i,3),c=u[0],l=u[1],h=u[2],f=q_(l);if(c===r.userId&&n.path.isEqual(f))return Gw(e).get(h).next(function(e){if(!e)throw lm();hm(e.userId===r.userId),a.push(Rw(r.k,e))});s.done()}).next(function(){return a})}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,n){var r=this,i=new Uk(Cm),o=[];return n.forEach(function(n){var a=G_.prefixForPath(r.userId,n.path),s=IDBKeyRange.lowerBound(a),u=Kw(e).jt({range:s},function(e,o,a){var s=t(e,3),u=s[0],c=s[1],l=s[2],h=q_(c);u===r.userId&&n.path.isEqual(h)?i=i.add(l):a.done()});o.push(u)}),sw.waitFor(o).next(function(){return r.te(e,i)})}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,n){var r=this,i=n.path,o=i.length+1,a=G_.prefixForPath(this.userId,i),s=IDBKeyRange.lowerBound(a),u=new Uk(Cm);return Kw(e).jt({range:s},function(e,n,a){var s=t(e,3),c=s[0],l=s[1],h=s[2],f=q_(l);c===r.userId&&i.isPrefixOf(f)?f.length===o&&(u=u.add(h)):a.done()}).next(function(){return r.te(e,u)})}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(Gw(e).get(t).next(function(e){if(null===e)throw lm();hm(e.userId===n.userId),r.push(Rw(n.k,e))}))}),sw.waitFor(i).next(function(){return r})}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Bw(e.Wt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.ee(t.batchId)}),sw.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return sw.resolve();var r=IDBKeyRange.lowerBound(G_.prefixForUser(t.userId)),i=[];return Kw(e).jt({range:r},function(e,n,r){if(e[0]===t.userId){var o=q_(e[1]);i.push(o)}else r.done()}).next(function(){hm(0===i.length)})})}},{key:"containsKey",value:function(e,t){return Hw(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return Ww(e).get(this.userId).next(function(e){return e||new Z_(t.userId,-1,"")})}}],[{key:"Xt",value:function(t,n,r,i){return hm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Hw(e,n,r){var i=G_.prefixForPath(n,r.path),o=i[1],a=IDBKeyRange.lowerBound(i),s=!1;return Kw(e).jt({range:a,Kt:!0},function(e,r,i){var a=t(e,3),u=a[0],c=a[1];a[2];u===n&&c===o&&(s=!0),i.done()}).next(function(){return s})}function Gw(e){return yw(e,H_.store)}function Kw(e){return yw(e,G_.store)}function Ww(e){return yw(e,Z_.store)}var Qw=function(){function e(t){d(this,e),this.se=t}return f(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Yw=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.k=n}return f(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next(function(n){var r=new Qw(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next(function(){return n.highestTargetId})})}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next(function(e){return Om.fromTimestamp(new Am(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next(function(e){return e.highestListenSequenceNumber})}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)})}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next(function(){return n.oe(e).next(function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)})})}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Jw(e).delete(t.targetId)}).next(function(){return n.oe(e)}).next(function(t){return hm(t.targetCount>0),t.targetCount-=1,n.ce(e,t)})}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return Jw(e).jt(function(a,s){var u=Aw(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))}).next(function(){return sw.waitFor(o)}).next(function(){return i})}},{key:"forEachTarget",value:function(e,t){return Jw(e).jt(function(e,n){var r=Aw(n);t(r)})}},{key:"oe",value:function(e){return Xw(e).get($_.key).next(function(e){return hm(null!==e),e})}},{key:"ce",value:function(e,t){return Xw(e).put($_.key,t)}},{key:"ae",value:function(e,t){return Jw(e).put(Ow(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next(function(e){return e.targetCount})}},{key:"getTargetData",value:function(e,t){var n=my(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Jw(e).jt({range:r,index:J_.queryTargetsIndexName},function(e,n,r){var o=Aw(n);yy(t,o.target)&&(i=o,r.done())}).next(function(){return i})}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],o=$w(e);return t.forEach(function(t){var a=U_(t.path);i.push(o.put(new X_(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))}),sw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=$w(e);return sw.forEach(t,function(t){var o=U_(t.path);return sw.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=$w(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$w(e),i=Kk();return r.jt({range:n,Kt:!0},function(e,t,n){var r=q_(e[1]),o=new Jm(r);i=i.add(o)}).next(function(){return i})}},{key:"containsKey",value:function(e,n){var r=U_(n.path),i=IDBKeyRange.bound([r],[Rm(r)],!1,!0),o=0;return $w(e).jt({index:X_.documentTargetsIndex,Kt:!0,range:i},function(e,n,r){var i=t(e,2),a=i[0];i[1];0!==a&&(o++,r.done())}).next(function(){return o>0})}},{key:"Et",value:function(e,t){return Jw(e).get(t).next(function(e){return e?Aw(e):null})}}]),e}();function Jw(e){return yw(e,J_.store)}function Xw(e){return yw(e,$_.store)}function $w(e){return yw(e,X_.store)}function eb(e){return tb.apply(this,arguments)}function tb(){return(tb=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===dm.FAILED_PRECONDITION&&t.message===ow){e.next=2;break}throw t;case 2:am("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function nb(e,n){var r=t(e,2),i=r[0],o=r[1],a=t(n,2),s=a[0],u=a[1],c=Cm(i,s);return 0===c?Cm(o,u):c}var rb=function(){function e(t){d(this,e),this.he=t,this.buffer=new Uk(nb),this.le=0}return f(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();nb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ib=function(){function e(t,n){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return f(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;am("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Jh.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!fw(n.t0)){n.next=12;break}am("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,eb(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}},n,null,[[1,6]])})))}}]),e}(),ob=function(){function e(t,n){d(this,e),this.ge=t,this.params=n}return f(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next(function(e){return Math.floor(t/100*e)})}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return sw.resolve(Sm.I);var r=new rb(t);return this.ge.forEachTarget(e,function(e){return r.de(e.sequenceNumber)}).next(function(){return n.ge.pe(e,function(e){return r.de(e)})}).next(function(){return r.maxValue})}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(am("LruGarbageCollector","Garbage collection skipped; disabled"),sw.resolve(Vw)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(am("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Vw):n.Te(e,t)})}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(am("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),om()<=tf.in.DEBUG&&am("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n\tRemoved ".concat(e," documents in ")+(u-s)+"ms\nTotal Duration: ".concat(u-l,"ms")),sw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})}}]),e}(),ab=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=new ob(this,n)}return f(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})}},{key:"Ee",value:function(e){var t=0;return this.pe(e,function(e){t++}).next(function(){return t})}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,function(e,n){return t(n)})}},{key:"addReference",value:function(e,t,n){return sb(e,n)}},{key:"removeReference",value:function(e,t,n){return sb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return sb(e,t)}},{key:"Ae",value:function(e,t){return r=t,i=!1,Ww(n=e).Qt(function(e){return Hw(n,e,r).next(function(e){return e&&(i=!0),sw.resolve(!e)})}).next(function(){return i});var n,r,i}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Ie(e,function(a,s){if(s<=t){var u=n.Ae(e,a).next(function(t){if(!t)return o++,r.getEntry(e,a).next(function(){return r.removeEntry(a),$w(e).delete([0,U_(a.path)])})});i.push(u)}}).next(function(){return sw.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return sb(e,t)}},{key:"Ie",value:function(e,n){var r,i=$w(e),o=Sm.I;return i.jt({index:X_.documentTargetsIndex},function(e,i){var a=t(e,2),s=a[0],u=(a[1],i.path),c=i.sequenceNumber;0===s?(o!==Sm.I&&n(new Jm(q_(r)),o),o=c,r=u):o=Sm.I}).next(function(){o!==Sm.I&&n(new Jm(q_(r)),o)})}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function sb(e,t){return $w(e).put((n=e.currentSequenceNumber,new X_(0,U_(t.path),n)));var n}var ub=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return f(e,[{key:"get",value:function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){var i,o=u(r);try{for(o.s();!(i=o.n()).done;){var a=t(i.value,2),s=a[0],c=a[1];if(this.equalsFn(s,e))return c}}catch(l){o.e(l)}finally{o.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Nm(this.inner,function(n,r){var i,o=u(r);try{for(o.s();!(i=o.n()).done;){var a=t(i.value,2),s=a[0],c=a[1];e(s,c)}}catch(l){o.e(l)}finally{o.f()}})}},{key:"isEmpty",value:function(){return Dm(this.inner)}}]),e}(),cb=function(){function e(){d(this,e),this.changes=new ub(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return f(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Om.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:py.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?sw.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),lb=function(){function e(t,n){d(this,e),this.k=t,this.Jt=n}return f(e,[{key:"addEntry",value:function(e,t,n){return db(e).put(pb(t),n)}},{key:"removeEntry",value:function(e,t){var n=db(e),r=pb(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.Re(e,r)})}},{key:"getEntry",value:function(e,t){var n=this;return db(e).get(pb(t)).next(function(e){return n.be(t,e)})}},{key:"Pe",value:function(e,t){var n=this;return db(e).get(pb(t)).next(function(e){return{document:n.be(t,e),size:zw(e)}})}},{key:"getEntries",value:function(e,t){var n=this,r=qk();return this.ve(e,t,function(e,t){var i=n.be(e,t);r=r.insert(e,i)}).next(function(){return r})}},{key:"Ve",value:function(e,t){var n=this,r=qk(),i=new Lk(Jm.comparator);return this.ve(e,t,function(e,t){var o=n.be(e,t);r=r.insert(e,o),i=i.insert(e,zw(t))}).next(function(){return{documents:r,Se:i}})}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return sw.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return db(e).jt({range:r},function(e,t,r){for(var a=Jm.fromSegments(e);o&&Jm.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Lt(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=qk(),o=t.path.length+1,a={};if(n.isEqual(Om.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Tw(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Q_.collectionReadTimeIndex}return db(e).jt(a,function(e,n,a){if(e.length===o){var s=xw(r.k,n);t.path.isPrefixOf(s.key.path)?Qy(t,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})}},{key:"newChangeBuffer",value:function(e){return new hb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next(function(e){return e.byteSize})}},{key:"getMetadata",value:function(e){return fb(e).get(Y_.key).next(function(e){return hm(!!e),e})}},{key:"Re",value:function(e,t){return fb(e).put(Y_.key,t)}},{key:"be",value:function(e,t){if(t){var n=xw(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Om.min()))return n}return py.newInvalidDocument(e)}}]),e}(),hb=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new ub(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),i}return f(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Uk(function(e,t){return Cm(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,a){var s=t.Ce.get(o);if(a.document.isValidDocument()){var u=Sw(t.De.k,a.document,t.getReadTime(o));i=i.add(o.path.popLast()),r+=zw(u)-s,n.push(t.De.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var c=Sw(t.De.k,py.newNoDocument(o,Om.min()),t.getReadTime(o));n.push(t.De.addEntry(e,o,c))}else n.push(t.De.removeEntry(e,o))}),i.forEach(function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))}),n.push(this.De.updateMetadata(e,r)),sw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next(function(e){return n.Ce.set(t,e.size),e.document})}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next(function(e){var t=e.documents;return e.Se.forEach(function(e,t){n.Ce.set(e,t)}),t})}}]),n}(cb);function fb(e){return yw(e,Y_.store)}function db(e){return yw(e,Q_.store)}function pb(e){return e.path.toArray()}var vb=function(){function e(t){d(this,e),this.k=t}return f(e,[{key:"Nt",value:function(e,t,n,r){var i=this;hm(n<r&&n>=0&&r<=11);var o,a=new uw("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore(z_.store),(o=e).createObjectStore(Z_.store,{keyPath:Z_.keyPath}),o.createObjectStore(H_.store,{keyPath:H_.keyPath,autoIncrement:!0}).createIndex(H_.userMutationsIndex,H_.userMutationsKeyPath,{unique:!0}),o.createObjectStore(G_.store),gb(e),function(e){e.createObjectStore(Q_.store)}(e));var s=sw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(X_.store),e.deleteObjectStore(J_.store),e.deleteObjectStore($_.store)}(e),gb(e)),s=s.next(function(){return function(e){var t=e.store($_.store),n=new $_(0,0,Om.min().toTimestamp(),0);return t.put($_.key,n)}(a)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(e,t){return t.store(H_.store).Bt().next(function(n){e.deleteObjectStore(H_.store),e.createObjectStore(H_.store,{keyPath:H_.keyPath,autoIncrement:!0}).createIndex(H_.userMutationsIndex,H_.userMutationsKeyPath,{unique:!0});var r=t.store(H_.store),i=n.map(function(e){return r.put(e)});return sw.waitFor(i)})}(e,a)})),s=s.next(function(){!function(e){e.createObjectStore(tw.store,{keyPath:tw.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(function(){return i.Ne(a)})),n<6&&r>=6&&(s=s.next(function(){return function(e){e.createObjectStore(Y_.store)}(e),i.ke(a)})),n<7&&r>=7&&(s=s.next(function(){return i.xe(a)})),n<8&&r>=8&&(s=s.next(function(){return i.$e(e,a)})),n<9&&r>=9&&(s=s.next(function(){(function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})(e),function(e){var t=e.objectStore(Q_.store);t.createIndex(Q_.readTimeIndex,Q_.readTimeIndexPath,{unique:!1}),t.createIndex(Q_.collectionReadTimeIndex,Q_.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(function(){return i.Oe(a)})),n<11&&r>=11&&(s=s.next(function(){(function(e){e.createObjectStore(nw.store,{keyPath:nw.keyPath})})(e),function(e){e.createObjectStore(rw.store,{keyPath:rw.keyPath})}(e)})),s}},{key:"ke",value:function(e){var t=0;return e.store(Q_.store).jt(function(e,n){t+=zw(n)}).next(function(){var n=new Y_(t);return e.store(Y_.store).put(Y_.key,n)})}},{key:"Ne",value:function(e){var t=this,n=e.store(Z_.store),r=e.store(H_.store);return n.Bt().next(function(n){return sw.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(H_.userMutationsIndex,i).next(function(r){return sw.forEach(r,function(r){hm(r.userId===n.userId);var i=Rw(t.k,r);return Bw(e,n.userId,i).next(function(){})})})})})}},{key:"xe",value:function(e){var t=e.store(X_.store),n=e.store(Q_.store);return e.store($_.store).get($_.key).next(function(e){var r=[];return n.jt(function(n,i){var o=new Fm(n),a=[0,U_(o)];r.push(t.get(a).next(function(n){return n?sw.resolve():t.put(new X_(0,U_(o),e.highestListenSequenceNumber))}))}).next(function(){return sw.waitFor(r)})})}},{key:"$e",value:function(e,n){e.createObjectStore(ew.store,{keyPath:ew.keyPath});var r=n.store(ew.store),i=new Mw,o=function(e){if(i.add(e)){var t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:U_(n)})}};return n.store(Q_.store).jt({Kt:!0},function(e,t){var n=new Fm(e);return o(n.popLast())}).next(function(){return n.store(G_.store).jt({Kt:!0},function(e,n){var r=t(e,3),i=(r[0],r[1]),a=(r[2],q_(i));return o(a.popLast())})})}},{key:"Oe",value:function(e){var t=this,n=e.store(J_.store);return n.jt(function(e,r){var i=Aw(r),o=Ow(t.k,i);return n.put(o)})}}]),e}();function gb(e){e.createObjectStore(X_.store,{keyPath:X_.keyPath}).createIndex(X_.documentTargetsIndex,X_.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(J_.store,{keyPath:J_.keyPath}).createIndex(J_.queryTargetsIndexName,J_.queryTargetsKeyPath,{unique:!0}),e.createObjectStore($_.store)}var mb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yb=function(){function e(t,n,r,i,o,a,s,u,c,l){if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=o,this.window=a,this.document=s,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new pm(dm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ab(this,i),this.Ge=n+"main",this.k=new bw(u),this.ze=new cw(this.Ge,11,new vb(this.k)),this.He=new Yw(this.referenceDelegate,this.k),this.Jt=new Uw,this.Je=new lb(this.k,this.Jt),this.Ye=new Nw,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&sm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f(e,[{key:"start",value:function(){var e=this;return this.Ze().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new pm(dm.FAILED_PRECONDITION,mb);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.He.getHighestSequenceNumber(t)})}).then(function(t){e.Be=new Sm(t,e.Fe)}).then(function(){e.Ue=!0}).catch(function(t){return e.ze&&e.ze.close(),Promise.reject(t)})}},{key:"sn",value:function(e){var t,n=this;return this.We=(t=(0,Jh.Z)(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.started){t.next=2;break}return t.abrupt("return",e(r));case 2:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){var t;this.ze.xt((t=(0,Jh.Z)(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}))}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}},e)}))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return _b(t).put(new tw(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.rn(t).next(function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable(function(){return e.We(!1)}))})}).next(function(){return e.on(t)}).next(function(n){return e.isPrimary&&!n?e.cn(t).next(function(){return!1}):!!n&&e.an(t).next(function(){return!0})})}).catch(function(t){if(fw(t))return am("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return am("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Me.enqueueRetryable(function(){return e.We(t)}),e.isPrimary=t})}},{key:"rn",value:function(e){var t=this;return kb(e).get(z_.key).next(function(e){return sw.resolve(t.un(e))})}},{key:"hn",value:function(e){return _b(e).delete(this.clientId)}},{key:"ln",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isPrimary||e.fn(e.Qe,18e5)){t.next=6;break}return e.Qe=Date.now(),t.next=4,e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var n=yw(t,tw.store);return n.Bt().next(function(t){var r=e.dn(t,18e5),i=t.filter(function(e){return-1===r.indexOf(e)});return sw.forEach(i,function(e){return n.delete(e.clientId)}).next(function(){return i})})}).catch(function(){return[]});case 4:if(n=t.sent,e.Xe){r=u(n);try{for(r.s();!(i=r.n()).done;)o=i.value,e.Xe.removeItem(e.wn(o.clientId))}catch(a){r.e(a)}finally{r.f()}}case 6:case"end":return t.stop()}},t)}))()}},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.Ze().then(function(){return e.ln()}).then(function(){return e.nn()})})}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?sw.resolve(!0):kb(e).get(z_.key).next(function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new pm(dm.FAILED_PRECONDITION,mb);return!1}}return!(!t.networkEnabled||!t.inForeground)||_b(e).Bt().next(function(e){return void 0===t.dn(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.inForeground&&e.inForeground,r=t.networkEnabled===e.networkEnabled;if(!t.networkEnabled&&e.networkEnabled||n&&r)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&am("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e})}},{key:"shutdown",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),t.next=7,e.ze.runTransaction("shutdown","readwrite",[z_.store,tw.store],function(t){var n=new mw(t,Sm.I);return e.cn(n).next(function(){return e.hn(n)})});case 7:e.ze.close(),e.pn();case 9:case"end":return t.stop()}},t)}))()}},{key:"dn",value:function(e,t){var n=this;return e.filter(function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)})}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return _b(t).Bt().next(function(t){return e.dn(t,18e5).map(function(e){return e.clientId})})})}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Zw.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r,i=this;return am("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",iw,function(o){return r=new mw(o,i.Be?i.Be.next():Sm.I),"readwrite-primary"===t?i.rn(r).next(function(e){return!!e||i.on(r)}).next(function(t){if(!t)throw sm("Failed to obtain primary lease for action '".concat(e,"'.")),i.isPrimary=!1,i.Me.enqueueRetryable(function(){return i.We(!1)}),new pm(dm.FAILED_PRECONDITION,ow);return n(r)}).next(function(e){return i.an(r).next(function(){return e})}):i.En(r).next(function(){return n(r)})}).then(function(e){return r.raiseOnCommittedEvent(),e})}},{key:"En",value:function(e){var t=this;return kb(e).get(z_.key).next(function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new pm(dm.FAILED_PRECONDITION,mb)})}},{key:"an",value:function(e){var t=new z_(this.clientId,this.allowTabSynchronization,Date.now());return kb(e).put(z_.key,t)}},{key:"cn",value:function(e){var t=this,n=kb(e);return n.get(z_.key).next(function(e){return t.un(e)?(am("IndexedDbPersistence","Releasing primary lease."),n.delete(z_.key)):sw.resolve()})}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t||e>n&&(sm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()})},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),(0,ef.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return am("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(n){return sm("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){sm("Failed to set zombie client id.",e)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return cw.Pt()}}]),e}();function kb(e){return yw(e,z_.store)}function _b(e){return yw(e,tw.store)}function wb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var bb=f(function e(t,n){d(this,e),this.progress=t,this.In=n}),xb=function(){function e(t,n,r){d(this,e),this.Je=t,this.An=n,this.Jt=r}return f(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.bn(e,t,r)})}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next(function(e){var t,r=u(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e})}},{key:"Pn",value:function(e,t){e.forEach(function(e,n){var r,i=u(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(o){i.e(o)}finally{i.f()}})}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next(function(t){return n.Vn(e,t).next(function(){return t})})}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.Pn(t,e)})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return Jm.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(e,t.path):By(t)?this.Dn(e,t,n):this.Cn(e,t,n);var r}},{key:"Sn",value:function(e,t){return this.Rn(e,new Jm(t)).next(function(e){var t=zk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,o=zk();return this.Jt.getCollectionParents(e,i).next(function(a){return sw.forEach(a,function(a){var s,u,c=(s=t,u=a.child(i),new Ly(u,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.Cn(e,c,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})}},{key:"Cn",value:function(e,t,n){var r,i,o=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o.An.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return i=t,o.Nn(e,i,r).next(function(e){r=e;var t,n=u(i);try{for(n.s();!(t=n.n()).done;){var o,a=t.value,s=u(a.mutations);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=c.key,h=r.get(l);null==h&&(h=py.newInvalidDocument(l),r=r.insert(l,h)),kk(c,h,a.localWriteTime),h.isFoundDocument()||(r=r.remove(l))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}})}).next(function(){return r.forEach(function(e,n){Qy(t,n)||(r=r.remove(e))}),r})}},{key:"Nn",value:function(e,t,n){var r,i=Kk(),o=u(t);try{for(o.s();!(r=o.n()).done;){var a,s=u(r.value.mutations);try{for(s.s();!(a=s.n()).done;){var c=a.value;c instanceof Sk&&null===n.get(c.key)&&(i=i.add(c.key))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){o.e(h)}finally{o.f()}var l=n;return this.Je.getEntries(e,i).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(l=l.insert(e,t))}),l})}}]),e}(),Sb=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return f(e,null,[{key:"$n",value:function(t,n){var r,i=Kk(),o=Kk(),a=u(n.docChanges);try{for(a.s();!(r=a.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}}catch(c){a.e(c)}finally{a.f()}return new e(t,n.fromCache,i,o)}}]),e}(),Tb=function(){function e(){d(this,e)}return f(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i,o=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Om.min())?this.Fn(e,t):this.Mn.vn(e,r).next(function(i){var a=o.Ln(t,i);return(Uy(t)||jy(t))&&o.Bn(t.limitType,a,r,n)?o.Fn(e,t):(om()<=tf.in.DEBUG&&am("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wy(t)),o.Mn.getDocumentsMatchingQuery(e,t,n).next(function(e){return a.forEach(function(t){e=e.insert(t.key,t)}),e}))})}},{key:"Ln",value:function(e,t){var n=new Uk(Yy(e));return t.forEach(function(t,r){Qy(e,r)&&(n=n.add(r))}),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return om()<=tf.in.DEBUG&&am("QueryEngine","Using full collection scan to execute query:",Wy(t)),this.Mn.getDocumentsMatchingQuery(e,t,Om.min())}}]),e}(),Eb=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Lk(Cm),this.Kn=new ub(function(e){return my(e)},yy),this.jn=Om.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new xb(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return f(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.qn)})}}]),e}();function Cb(e,t,n,r){return new Eb(e,t,n,r)}function Ib(e,t){return Rb.apply(this,arguments)}function Rb(){return(Rb=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),i=r.An,o=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.An.getAllMutationBatches(e).next(function(a){return t=a,i=r.persistence.getMutationQueue(n),o=new xb(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)}).next(function(n){var r,i=[],a=[],s=Kk(),c=u(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;i.push(l.batchId);var h,f=u(l.mutations);try{for(f.s();!(h=f.n()).done;){var d=h.value;s=s.add(d.key)}}catch(_){f.e(_)}finally{f.f()}}}catch(_){c.e(_)}finally{c.f()}var p,v=u(n);try{for(v.s();!(p=v.n()).done;){var g=p.value;a.push(g.batchId);var m,y=u(g.mutations);try{for(y.s();!(m=y.n()).done;){var k=m.value;s=s.add(k.key)}}catch(_){y.e(_)}finally{y.f()}}}catch(_){v.e(_)}finally{v.f()}return o.vn(e,s).next(function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:a}})})});case 4:return a=e.sent,e.abrupt("return",(r.An=i,r.Wn=o,r.Un.On(r.Wn),a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ab(e,t){var n=fm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),h=n.Qn.newChangeBuffer({trackRemovals:!0});return(r=n,i=e,o=t,a=h,s=o.batch,u=s.keys(),c=sw.resolve(),u.forEach(function(e){c=c.next(function(){return a.getEntry(i,e)}).next(function(t){var n=o.docVersions.get(e);hm(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,o),t.isValidDocument()&&a.addEntry(t,o.commitVersion))})}),c.next(function(){return r.An.removeMutationBatch(i,s)})).next(function(){return h.apply(e)}).next(function(){return n.An.performConsistencyCheck(e)}).next(function(){return n.Wn.vn(e,l)})})}function Ob(e){var t=fm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.He.getLastRemoteSnapshotVersion(e)})}function Pb(e,t){var n=fm(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var a=[];t.targetChanges.forEach(function(o,s){var u=i.get(s);if(u){a.push(n.He.removeMatchingKeys(e,o.removedDocuments,s).next(function(){return n.He.addMatchingKeys(e,o.addedDocuments,s)}));var c,l,h,f=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?f=f.withResumeToken(Vm.EMPTY_BYTE_STRING,Om.min()).withLastLimboFreeSnapshotVersion(Om.min()):o.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(o.resumeToken,r)),i=i.insert(s,f),l=f,h=o,(0===(c=u).resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-c.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&a.push(n.He.updateTargetData(e,f))}});var s=qk();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Nb(e,o,t.documentUpdates,r,void 0).next(function(e){s=e})),!r.isEqual(Om.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next(function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)});a.push(u)}return sw.waitFor(a).next(function(){return o.apply(e)}).next(function(){return n.Wn.Vn(e,s)}).next(function(){return s})}).then(function(e){return n.qn=i,e})}function Nb(e,t,n,r,i){var o=Kk();return n.forEach(function(e){return o=o.add(e)}),t.getEntries(e,o).next(function(e){var o=qk();return n.forEach(function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Om.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):am("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Db(e,t){var n=fm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)})}function Lb(e,t){var n=fm(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.He.getTargetData(e,t).next(function(i){return i?(r=i,sw.resolve(r)):n.He.allocateTargetId(e).next(function(i){return r=new ww(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e})}function Fb(e,t,n){return Mb.apply(this,arguments)}function Mb(){return(Mb=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fm(t),o=i.qn.get(n),a=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",a,function(e){return i.persistence.referenceDelegate.removeTarget(e,o)});case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),fw(e.t1)){e.next=12;break}throw e.t1;case 12:am("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(o.target);case 14:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function Ub(e,t,n){var r=fm(e),i=Om.min(),o=Kk();return r.persistence.runTransaction("Execute query","readonly",function(e){return(a=r,s=e,u=Zy(t),c=fm(a),l=c.Kn.get(u),void 0!==l?sw.resolve(c.qn.get(l)):c.He.getTargetData(s,u)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next(function(e){o=e})}).next(function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Om.min(),n?o:Kk())}).next(function(e){return{documents:e,zn:o}});var a,s,u,c,l})}function jb(e,t){var n=fm(e),r=fm(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.Et(e,t).next(function(e){return e?e.target:null})})}function Vb(e){var t=fm(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return n=t.Qn,r=e,i=t.jn,o=fm(n),a=qk(),s=Tw(i),u=db(r),c=IDBKeyRange.lowerBound(s,!0),u.jt({index:Q_.readTimeIndex,range:c},function(e,t){var n=xw(o.k,t);a=a.insert(n.key,n),s=t.readTime}).next(function(){return{In:a,readTime:Ew(s)}});var n,r,i,o,a,s,u,c}).then(function(e){var n=e.In,r=e.readTime;return t.jn=r,n})}function qb(){return(qb=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=fm(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return t=db(e),n=Om.min(),t.jt({index:Q_.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=Ew(t.readTime)),r.done()}).next(function(){return n});var t,n}).then(function(e){n.jn=e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bb(){return(Bb=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,s,c,l,h,f,d,p,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=fm(t),a=Kk(),s=qk(),c=Hk(),l=u(r);try{for(l.s();!(h=l.n()).done;)f=h.value,d=n.Hn(f.metadata.name),f.document&&(a=a.add(d)),s=s.insert(d,n.Jn(f)),c=c.insert(d,n.Yn(f.metadata.readTime))}catch(m){l.e(m)}finally{l.f()}return p=o.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Lb(o,(g=i,Zy(My(Fm.fromString("__bundle__/docs/".concat(g))))));case 7:return v=e.sent,e.abrupt("return",o.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return Nb(e,p,s,Om.min(),c).next(function(t){return p.apply(e),t}).next(function(t){return o.He.removeMatchingKeysForTargetId(e,v.targetId).next(function(){return o.He.addMatchingKeys(e,a,v.targetId)}).next(function(){return o.Wn.Vn(e,t)}).next(function(){return t})})}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zb(e,t){return Zb.apply(this,arguments)}function Zb(){return(Zb=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:Kk(),e.next=3,Lb(t,Zy(Pw(n.bundledQuery)));case 3:return i=e.sent,o=fm(t),e.abrupt("return",o.persistence.runTransaction("Save named query","readwrite",function(e){var t=h_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return o.Ye.saveNamedQuery(e,n);var a=i.withResumeToken(Vm.EMPTY_BYTE_STRING,t);return o.qn=o.qn.insert(a.targetId,a),o.He.updateTargetData(e,a).next(function(){return o.He.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return o.He.addMatchingKeys(e,r,i.targetId)}).next(function(){return o.Ye.saveNamedQuery(e,n)})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Hb=function(){function e(t){d(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return f(e,[{key:"getBundleMetadata",value:function(e,t){return sw.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:h_(n.createTime)}),sw.resolve()}},{key:"getNamedQuery",value:function(e,t){return sw.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,{name:(n=t).name,query:Pw(n.bundledQuery),readTime:h_(n.readTime)}),sw.resolve();var n}}]),e}(),Gb=function(){function e(){d(this,e),this.ts=new Uk(Kb.es),this.ns=new Uk(Kb.ss)}return f(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Kb(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.os(new Kb(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"us",value:function(e){var t=this,n=new Jm(new Fm([])),r=new Kb(n,e),i=new Kb(n,e+1),o=[];return this.ns.forEachInRange([r,i],function(e){t.os(e),o.push(e.key)}),o}},{key:"hs",value:function(){var e=this;this.ts.forEach(function(t){return e.os(t)})}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Jm(new Fm([])),n=new Kb(t,e),r=new Kb(t,e+1),i=Kk();return this.ns.forEachInRange([n,r],function(e){i=i.add(e.key)}),i}},{key:"containsKey",value:function(e){var t=new Kb(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Kb=function(){function e(t,n){d(this,e),this.key=t,this.fs=n}return f(e,null,[{key:"es",value:function(e,t){return Jm.comparator(e.key,t.key)||Cm(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Cm(e.fs,t.fs)||Jm.comparator(e.key,t.key)}}]),e}(),Wb=function(){function e(t,n){d(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Uk(Kb.es)}return f(e,[{key:"checkEmpty",value:function(e){return sw.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++;var o=new kw(i,t,n,r);this.An.push(o);var a,s=u(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;this.ws=this.ws.add(new Kb(c.key,i)),this.Jt.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return sw.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return sw.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this.gs(t+1),r=n<0?0:n;return sw.resolve(this.An.length>r?this.An[r]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return sw.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return sw.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Kb(t,0),i=new Kb(t,Number.POSITIVE_INFINITY),o=[];return this.ws.forEachInRange([r,i],function(e){var t=n._s(e.fs);o.push(t)}),sw.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Uk(Cm);return t.forEach(function(e){var t=new Kb(e,0),i=new Kb(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],function(e){r=r.add(e.fs)})}),sw.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Jm.isDocumentKey(i)||(i=i.child(""));var o=new Kb(new Jm(i),0),a=new Uk(Cm);return this.ws.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.fs)),!0)},o),sw.resolve(this.ys(a))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t._s(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;hm(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return sw.forEach(t.mutations,function(i){var o=new Kb(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.ws=r})}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Kb(t,0),r=this.ws.firstAfterOrEqual(n);return sw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return sw.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Qb=function(){function e(t,n){d(this,e),this.Jt=t,this.Ts=n,this.docs=new Lk(Jm.comparator),this.size=0}return f(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a,readTime:n}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return sw.resolve(n?n.document.mutableCopy():py.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=qk();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():py.newInvalidDocument(e))}),sw.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=qk(),i=new Jm(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Qy(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return sw.resolve(r)}},{key:"Es",value:function(e,t){return sw.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new Yb(this)}},{key:"getSize",value:function(e){return sw.resolve(this.size)}}]),e}(),Yb=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).De=e,r}return f(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)}),sw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(cb),Jb=function(){function e(t){d(this,e),this.persistence=t,this.Is=new ub(function(e){return my(e)},yy),this.lastRemoteSnapshotVersion=Om.min(),this.highestTargetId=0,this.As=0,this.Rs=new Gb,this.targetCount=0,this.bs=Qw.ie()}return f(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach(function(e,n){return t(n)}),sw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return sw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return sw.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),sw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),sw.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Qw(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,sw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),sw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,sw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.Is.forEach(function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),sw.waitFor(o).next(function(){return i})}},{key:"getTargetCount",value:function(e){return sw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return sw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),sw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),sw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),sw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return sw.resolve(n)}},{key:"containsKey",value:function(e,t){return sw.resolve(this.Rs.containsKey(t))}}]),e}(),Xb=function(){function e(t,n){var r=this;d(this,e),this.Ps={},this.Be=new Sm(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Jb(this),this.Jt=new Fw,this.Je=new Qb(this.Jt,function(e){return r.referenceDelegate.vs(e)}),this.k=new bw(n),this.Ye=new Hb(this.k)}return f(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new Wb(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;am("MemoryPersistence","Starting transaction:",e);var i=new $b(this.Be.next());return this.referenceDelegate.Vs(),n(i).next(function(e){return r.referenceDelegate.Ss(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"Ds",value:function(e,t){return sw.or(Object.values(this.Ps).map(function(n){return function(){return n.containsKey(e,t)}}))}}]),e}(),$b=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return f(n)}(aw),ex=function(){function e(t){d(this,e),this.persistence=t,this.Cs=new Gb,this.Ns=null}return f(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw lm()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),sw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),sw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),sw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach(function(e){return n.xs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.xs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sw.forEach(this.xs,function(r){var i=Jm.fromPath(r);return t.$s(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Ns=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next(function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())})}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return sw.or([function(){return sw.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function tx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function nx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function rx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ix=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return f(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&((a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new pm(o.error.code,o.error.message))),a?new e(t,n,o.state,i):(sm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ox=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return f(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&((o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new pm(i.error.code,i.error.message))),o?new e(t,i.state,r):(sm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ax=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return f(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Qk(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ym(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(sm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),sx=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return f(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(sm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ux=function(){function e(){d(this,e),this.activeTargetIds=Qk()}return f(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),cx=function(){function e(t,n,r,i,o){d(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Lk(Cm),this.started=!1,this.js=[];var a,s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Qs=tx(this.persistenceKey,this.Bs),this.Ws="firestore_sequence_number_".concat(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new ux),this.Gs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Js="firestore_online_state_".concat(this.persistenceKey),this.Ys=(a=this.persistenceKey,"firestore_bundle_loaded_".concat(a)),this.window.addEventListener("storage",this.Us)}return f(e,[{key:"start",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o,a,s,c,l,h,f,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.syncEngine.Tn();case 2:n=t.sent,r=u(n),t.prev=4,r.s();case 6:if((i=r.n()).done){t.next=14;break}if((o=i.value)!==e.Bs){t.next=10;break}return t.abrupt("continue",12);case 10:(a=e.getItem(tx(e.persistenceKey,o)))&&(s=ax.Os(o,a))&&(e.Ks=e.Ks.insert(s.clientId,s));case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:e.Xs(),(c=e.storage.getItem(e.Js))&&(l=e.Zs(c))&&e.ti(l),h=u(e.js);try{for(h.s();!(f=h.n()).done;)d=f.value,e.qs(d)}catch(p){h.e(p)}finally{h.f()}e.js=[],e.window.addEventListener("pagehide",function(){return e.shutdown()}),e.started=!0;case 28:case"end":return t.stop()}},t,null,[[4,16,19,22]])}))()}},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(rx(this.persistenceKey,e));if(n){var r=ox.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(rx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach(function(e){r.si(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return am("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){am("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){am("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(am("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void sm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,Jh.Z)(regeneratorRuntime.mark(function e(){var r,i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(o=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(o));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(a=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(a));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}(u=function(e){var t=Sm.I;if(null!=e)try{var n=JSON.parse(e);hm("number"==typeof n),t=n}catch(n){sm("SharedClientState","Failed to read sequence number from WebStorage",n)}return t}(n.newValue))!==Sm.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}},e)})))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new ix(this.currentUser,e,t,n),i=nx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=nx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}},{key:"ri",value:function(e,t,n){var r=rx(this.persistenceKey,e),i=new ox(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return ax.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]);return ix.Os(new nm(void 0!==n[2]?n[2]:null),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return ox.Os(r,t)}},{key:"Zs",value:function(e){return sx.Os(e)}},{key:"fi",value:function(e){var t=this;return(0,Jh.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.user.uid!==t.currentUser.uid){n.next=2;break}return n.abrupt("return",t.syncEngine.mi(e.batchId,e.state,e.error));case 2:am("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid));case 3:case"end":return n.stop()}},n)}))()}},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),o=this.ei(r),a=[],s=[];return o.forEach(function(e){i.has(e)||a.push(e)}),i.forEach(function(e){o.has(e)||s.push(e)}),this.syncEngine.yi(a,s).then(function(){n.Ks=r})}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Qk();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),lx=function(){function e(){d(this,e),this.pi=new ux,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return f(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new ux,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),hx=function(){function e(){d(this,e)}return f(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),fx=function(){function e(){var t=this;d(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return f(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){am("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=u(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){am("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=u(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),dx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},px=function(){function e(t){d(this,e),this.Vi=t.Vi,this.Si=t.Si}return f(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),vx=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return f(n,[{key:"Ki",value:function(e,t,n,r){return new Promise(function(i,o){var a=new em;a.listenOnce(Qg.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Wg.NO_ERROR:var t=a.getResponseJson();am("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Wg.TIMEOUT:am("Connection",'RPC "'+e+'" timed out'),o(new pm(dm.DEADLINE_EXCEEDED,"Request time out"));break;case Wg.HTTP_ERROR:var n=a.getStatus();if(am("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(dm).indexOf(c)>=0?c:dm.UNKNOWN);o(new pm(s,r.message))}else o(new pm(dm.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new pm(dm.UNAVAILABLE,"Connection failed."));break;default:lm()}}finally{am("Connection",'RPC "'+e+'" completed.')}var u,c});var s=JSON.stringify(r);a.send(t,"POST",s,n,15)})}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Gg(),o=Kg(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Xg({})),this.qi(a.initMessageHeaders,t,n),(0,ef.uI)()||(0,ef.b$)()||(0,ef.d)()||(0,ef.w1)()||(0,ef.Mn)()||(0,ef.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");am("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,l=!1,h=new px({Vi:function(e){l?am("Connection","Not sending because WebChannel is closed:",e):(c||(am("Connection","Opening WebChannel transport."),u.open(),c=!0),am("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),f=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(t){setTimeout(function(){throw t},0)}})};return f(u,$g.EventType.OPEN,function(){l||am("Connection","WebChannel transport opened.")}),f(u,$g.EventType.CLOSE,function(){l||(l=!0,am("Connection","WebChannel transport closed"),h.Oi())}),f(u,$g.EventType.ERROR,function(e){l||(l=!0,um("Connection","WebChannel transport errored:",e),h.Oi(new pm(dm.UNAVAILABLE,"The operation could not be completed")))}),f(u,$g.EventType.MESSAGE,function(e){var t;if(!l){var n=e.data[0];hm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){am("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Ik[e];if(void 0!==t)return Dk(t)}(o),s=i.message;void 0===a&&(a=dm.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Oi(new pm(a,s)),u.close()}else am("Connection","WebChannel received:",n),h.Mi(n)}}),f(o,Yg.STAT_EVENT,function(e){e.stat===Jg.PROXY?am("Connection","Detected buffering proxy"):e.stat===Jg.NOPROXY&&am("Connection","Detected no buffering proxy")}),setTimeout(function(){h.$i()},0),h}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return f(e,[{key:"Bi",value:function(e,t,n,r,i){var o=this.Ui(e,t);am("RestConnection","Sending: ",o,n);var a={};return this.qi(a,r,i),this.Ki(e,o,a,n).then(function(e){return am("RestConnection","Received: ",e),e},function(t){throw um("RestConnection","".concat(e," failed with error: "),t,"url: ",o,"request:",n),t})}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(function(t,n){return e[n]=t}),n&&n.headers.forEach(function(t,n){return e[n]=t})}},{key:"Ui",value:function(e,t){return"".concat(this.Fi,"/v1/").concat(t,":").concat(dx[e])}}]),e}());function gx(){return"undefined"!=typeof window?window:null}function mx(){return"undefined"!=typeof document?document:null}function yx(e){return new s_(e,!0)}var kx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=o,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return f(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&am("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,function(){return t.Yi=Date.now(),e()}),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),_x=function(){function e(t,n,r,i,o,a,s,u){d(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new kx(t,n)}return f(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.hr(),!t.t0){t.next=4;break}return t.next=4,e.close(0);case 4:case"end":return t.stop()}},t)}))()}},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,function(){return e.mr()}))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.lr()){t.next=2;break}return t.abrupt("return",e.close(0));case 2:case"end":return t.stop()}},t)}))()}},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(e,t){var n=this;return(0,Jh.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.yr(),n.pr(),n.ur.cancel(),n.rr++,4!==e?n.ur.reset():t&&t.code===dm.RESOURCE_EXHAUSTED?(sm(t.toString()),sm("Using maximum backoff delay to prevent overloading the backend."),n.ur.Xi()):t&&t.code===dm.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Tr(),n.stream.close(),n.stream=null),n.state=e,r.next=9,n.listener.Ni(t);case 9:case"end":return r.stop()}},r)}))()}},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var n=this.Er(this.rr),r=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(n){var i=t(n,2),o=i[0],a=i[1];e.rr===r&&e.Ir(o,a)},function(t){n(function(){var n=new pm(dm.UNKNOWN,"Fetching auth token failed: "+t.message);return e.Ar(n)})})}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(function(){r(function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,function(){return n.lr()&&(n.state=3),Promise.resolve()}),n.listener.Di()})}),this.stream.Ni(function(e){r(function(){return n.Ar(e)})}),this.stream.onMessage(function(e){r(function(){return n.onMessage(e)})})}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi((0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}},t)})))}},{key:"Ar",value:function(e){return am("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget(function(){return t.rr===e?n():(am("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e}(),wx=function(e){p(n,e);var t=v(n);function n(e,r,i,o,a,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,s)).k=a,u}return f(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n,r;if("targetChange"in t){var i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:lm(),o=t.targetChange.targetIds||[],a=function(e,t){return e.C?(hm(void 0===t||"string"==typeof t),Vm.fromBase64String(t||"")):(hm(void 0===t||t instanceof Uint8Array),Vm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,u=s&&function(e){var t=void 0===e.code?dm.UNKNOWN:Dk(e.code);return new pm(t,e.message||"")}(s);n=new e_(i,o,a,u||null)}else if("documentChange"in t){var c=t.documentChange,l=v_(e,c.document.name),h=h_(c.document.updateTime),f=new fy({mapValue:{fields:c.document.fields}}),d=py.newFoundDocument(l,h,f);n=new Xk(c.targetIds||[],c.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){var p=t.documentDelete,v=v_(e,p.document),g=p.readTime?h_(p.readTime):Om.min(),m=py.newNoDocument(v,g);n=new Xk([],p.removedTargetIds||[],m.key,m)}else if("documentRemove"in t){var y=t.documentRemove,k=v_(e,y.document);n=new Xk([],y.removedTargetIds||[],k,null)}else{if(!("filter"in t))return lm();var _=t.filter,w=new Pk(_.count||0);n=new $k(_.targetId,w)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Om.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Om.min():t.readTime?h_(t.readTime):Om.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t,n,r,i,o={};o.database=y_(this.k),o.addTarget=(t=this.k,i=(n=e).target,(r=ky(i)?{documents:S_(t,i)}:{query:T_(t,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=c_(t,n.resumeToken):n.snapshotVersion.compareTo(Om.min())>0&&(r.readTime=u_(t,n.snapshotVersion.toTimestamp())),r);var a=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);a&&(o.labels=a),this.gr(o)}},{key:"vr",value:function(e){var t={};t.database=y_(this.k),t.removeTarget=e,this.gr(t)}}]),n}(_x),bx=function(e){p(n,e);var t=v(n);function n(e,r,i,o,a,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,s)).k=a,u.Vr=!1,u}return f(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,i(b(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(hm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(hm(void 0!==t),e.map(function(e){return function(e,t){var n=h_(e.updateTime?e.updateTime:t);return n.isEqual(Om.min())&&(n=h_(t)),new pk(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=h_(e.commitTime);return this.listener.Cr(n,t)}return hm(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=y_(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return b_(t.k,e)})};this.gr(n)}}]),n}(_x),xx=function(e){p(r,e);var n=v(r);function r(e,t,i,o){var a;return d(this,r),(a=n.call(this)).authCredentials=e,a.appCheckCredentials=t,a.ir=i,a.k=o,a.$r=!1,a}return f(r,[{key:"Or",value:function(){if(this.$r)throw new pm(dm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,n,r){var i=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(o){var a=t(o,2),s=a[0],u=a[1];return i.ir.Bi(e,n,r,s,u)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===dm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new pm(dm.UNKNOWN,e.toString())})}},{key:"ji",value:function(e,n,r){var i=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(o){var a=t(o,2),s=a[0],u=a[1];return i.ir.ji(e,n,r,s,u)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===dm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new pm(dm.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.$r=!0}}]),r}(function(){return f(function e(){d(this,e)})}()),Sx=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return f(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()}))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(sm(t),this.Lr=!1):am("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Tx=f(function e(t,n,r,i,o){d(this,e);var a=this;this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei(function(e){r.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Fx(a),!e.t0){e.next=5;break}return am("RemoteStore","Restarting streams for network reachability change."),e.next=5,(t=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fm(t)).Gr.add(4),e.next=4,Ix(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Ex(n);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})(a);case 5:case"end":return e.stop()}},e)})))}),this.Jr=new Sx(r,i)});function Ex(e){return Cx.apply(this,arguments)}function Cx(){return(Cx=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fx(t)){e.next=18;break}n=u(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}function Ix(e){return Rx.apply(this,arguments)}function Rx(){return(Rx=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=u(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function Ax(e,t){var n=fm(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Lx(n)?Dx(n):cS(n).lr()&&Px(n,t))}function Ox(e,t){var n=fm(e),r=cS(n);n.Wr.delete(t),r.lr()&&Nx(n,t),0===n.Wr.size&&(r.lr()?r._r():Fx(n)&&n.Jr.set("Unknown"))}function Px(e,t){e.Yr.X(t.targetId),cS(e).Pr(t)}function Nx(e,t){e.Yr.X(t),cS(e).vr(t)}function Dx(e){e.Yr=new n_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),cS(e).start(),e.Jr.Br()}function Lx(e){return Fx(e)&&!cS(e).hr()&&e.Wr.size>0}function Fx(e){return 0===fm(e).Gr.size}function Mx(e){e.Yr=void 0}function Ux(e){return jx.apply(this,arguments)}function jx(){return(jx=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach(function(e,n){Px(t,e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vx(e,t){return qx.apply(this,arguments)}function qx(){return(qx=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Mx(t),Lx(t)?(t.Jr.Kr(n),Dx(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bx(e,t,n){return zx.apply(this,arguments)}function zx(){return(zx=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof e_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,(o=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=u(n.targetIds),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(a=o.value,e.t0=t.Wr.has(a),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(a,r);case 10:t.Wr.delete(a),t.Yr.removeTarget(a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[2,16,19,22]])})),function(e,t){return o.apply(this,arguments)})(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),am("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Zx(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof Xk?t.Yr.ot(n):n instanceof $k?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Om.min())){e.next=29;break}return e.prev=14,e.next=17,Ob(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Vm.EMPTY_BYTE_STRING,n.snapshotVersion)),Nx(e,t);var r=new ww(n.target,t,1,n.sequenceNumber);Px(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),am("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Zx(t,e.t2);case 29:case"end":return e.stop()}},e,null,[[1,6],[14,24]])}))).apply(this,arguments)}function Zx(e,t,n){return Hx.apply(this,arguments)}function Hx(){return(Hx=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(fw(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Ix(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Ob(t.localStore)}),t.asyncQueue.enqueueRetryable((0,Jh.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return am("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Ex(t);case 6:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gx(e,t){return t().catch(function(n){return Zx(e,n,t)})}function Kx(e){return Wx.apply(this,arguments)}function Wx(){return(Wx=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=fm(t),r=lS(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Qx(n)){e.next=19;break}return e.prev=3,e.next=6,Db(n.localStore,i);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=o.batchId,Yx(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Zx(n,e.t0);case 17:e.next=2;break;case 19:Jx(n)&&Xx(n);case 20:case"end":return e.stop()}},e,null,[[3,13]])}))).apply(this,arguments)}function Qx(e){return Fx(e)&&e.Qr.length<10}function Yx(e,t){e.Qr.push(t);var n=lS(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Jx(e){return Fx(e)&&!lS(e).hr()&&e.Qr.length>0}function Xx(e){lS(e).start()}function $x(e){return eS.apply(this,arguments)}function eS(){return(eS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:lS(t).kr();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tS(e){return nS.apply(this,arguments)}function nS(){return(nS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=lS(t),r=u(t.Qr);try{for(r.s();!(i=r.n()).done;)o=i.value,n.Dr(o.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rS(e,t,n){return iS.apply(this,arguments)}function iS(){return(iS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),o=_w.from(i,n,r),e.next=3,Gx(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)});case 3:return e.next=5,Kx(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oS(e,t){return aS.apply(this,arguments)}function aS(){return(aS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&lS(t).Sr,!e.t0){e.next=4;break}return e.next=4,(r=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nk(i=n.code)||i===dm.ABORTED){e.next=7;break}return r=t.Qr.shift(),lS(t).wr(),e.next=5,Gx(t,function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)});case 5:return e.next=7,Kx(t);case 7:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})(t,n);case 4:Jx(t)&&Xx(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function sS(e,t){return uS.apply(this,arguments)}function uS(){return(uS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fm(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Ex(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Ix(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cS(e){return e.Xr||(e.Xr=(t=e.datastore,n=e.asyncQueue,r={Di:Ux.bind(null,e),Ni:Vx.bind(null,e),br:Bx.bind(null,e)},(i=fm(t)).Or(),new wx(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)),e.zr.push(function(){var t=(0,Jh.Z)(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Lx(e)?Dx(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Mx(e);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.Xr;var t,n,r,i}function lS(e){return e.Zr||(e.Zr=(t=e.datastore,n=e.asyncQueue,r={Di:$x.bind(null,e),Ni:oS.bind(null,e),Nr:tS.bind(null,e),Cr:rS.bind(null,e)},(i=fm(t)).Or(),new bx(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)),e.zr.push(function(){var t=(0,Jh.Z)(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,Kx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(am("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.Zr;var t,n,r,i}var hS=function(){function e(t,n,r,i,o){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new vm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return f(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pm(dm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function fS(e,t){if(sm("AsyncQueue","".concat(t,": ").concat(e)),fw(e))return new pm(dm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var dS=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Jm.comparator(e.key,n.key)}:function(e,t){return Jm.comparator(e.key,t.key)},this.keyedMap=zk(),this.sortedSet=new Lk(this.comparator)}return f(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),pS=function(){function e(){d(this,e),this.eo=new Lk(Jm.comparator)}return f(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):lm():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal(function(t,n){e.push(n)}),e}}]),e}(),vS=function(){function e(t,n,r,i,o,a,s,u){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u}return f(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,dS.emptySet(n),o,r,i,!0,!1)}}]),e}(),gS=f(function e(){d(this,e),this.so=void 0,this.listeners=[]}),mS=f(function e(){d(this,e),this.queries=new ub(function(e){return Ky(e)},Gy),this.onlineState="Unknown",this.io=new Set});function yS(e,t){return kS.apply(this,arguments)}function kS(){return(kS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fm(t),i=n.query,o=!1,(a=r.queries.get(i))||(o=!0,a=new gS),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:a.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=fS(e.t0,"Initialization of query '".concat(Wy(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,a),a.listeners.push(n),n.ro(r.onlineState),a.so&&n.oo(a.so)&&SS(r);case 14:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function _S(e,t){return wS.apply(this,arguments)}function wS(){return(wS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fm(t),i=n.query,o=!1,(a=r.queries.get(i))&&(s=a.listeners.indexOf(n))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bS(e,t){var n,r=fm(e),i=!1,o=u(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=r.queries.get(a.query);if(s){var c,l=u(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(a)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}s.so=a}}}catch(h){o.e(h)}finally{o.f()}i&&SS(r)}function xS(e,t,n){var r=fm(e),i=r.queries.get(t);if(i){var o,a=u(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(s){a.e(s)}finally{a.f()}}r.queries.delete(t)}function SS(e){e.io.forEach(function(e){e.next()})}var TS=function(){function e(t,n,r){d(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return f(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=u(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new vS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.ao?this.ho(e)&&(this.co.next(e),o=!0):this.lo(e,this.onlineState)&&(this.fo(e),o=!0),this.uo=e,o}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}},{key:"ho",value:function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=vS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),ES=function(){function e(t,n){d(this,e),this.payload=t,this.byteLength=n}return f(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),CS=function(){function e(t){d(this,e),this.k=t}return f(e,[{key:"Hn",value:function(e){return v_(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?w_(this.k,e.document,!1):py.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return h_(e)}}]),e}(),IS=function(){function e(t,n,r){d(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=RS(t)}return f(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new CS(this.k),i=u(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.metadata.queries){var a,s=r.Hn(o.metadata.name),c=u(o.metadata.queries);try{for(c.s();!(a=c.n()).done;){var l=a.value,h=(n.get(l)||Kk()).add(s);n.set(l,h)}}catch(f){c.e(f)}finally{c.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e,t,n,r){return Bb.apply(this,arguments)}(e.localStore,new CS(e.k),e.documents,e.mo.id);case 2:n=t.sent,r=e.po(e.documents),i=u(e.queries),t.prev=5,i.s();case 7:if((o=i.n()).done){t.next=13;break}return a=o.value,t.next=11,zb(e.localStore,a,r.get(a.name));case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),i.e(t.t0);case 18:return t.prev=18,i.f(),t.finish(18);case 21:return t.abrupt("return",(e.progress.taskState="Success",new bb(Object.assign({},e.progress),n)));case 22:case"end":return t.stop()}},t,null,[[5,15,18,21]])}))()}}]),e}();function RS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var AS=f(function e(t){d(this,e),this.key=t}),OS=f(function e(t){d(this,e),this.key=t}),PS=function(){function e(t,n){d(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Kk(),this.mutatedKeys=Kk(),this.Ao=Yy(t),this.Ro=new dS(this.Ao)}return f(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new pS,i=t?t.Ro:this.Ro,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Uy(this.query)&&i.size===this.query.limit?i.last():null,c=jy(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),h=Qy(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ao(h,u)>0||c&&n.Ao(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),Uy(this.query)||jy(this.query))for(;a.size>this.query.limit;){var l=Uy(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Ro:a,vo:r,Bn:s,mutatedKeys:o}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var o=e.vo.no();o.sort(function(e,t){return n=e.type,i=t.type,(o=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lm()}})(n)-o(i)||r.Ao(e.doc,t.doc);var n,i,o}),this.So(n);var a=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==o.length||u?{snapshot:new vS(this.query,e.Ro,i,o,e.mutatedKeys,0===s,u,!1),Co:a}:{Co:a}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new pS,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.To=t.To.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.To=t.To.delete(e)}),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Kk(),this.Ro.forEach(function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))});var n=[];return t.forEach(function(t){e.Io.has(t)||n.push(new OS(t))}),this.Io.forEach(function(e){t.has(e)||n.push(new AS(e))}),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Kk();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return vS.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),NS=f(function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r}),DS=f(function e(t){d(this,e),this.key=t,this.$o=!1}),LS=function(){function e(t,n,r,i,o,a){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Oo={},this.Mo=new ub(function(e){return Ky(e)},Gy),this.Fo=new Map,this.Lo=new Set,this.Bo=new Lk(Jm.comparator),this.Uo=new Map,this.qo=new Gb,this.Ko={},this.jo=new Map,this.Qo=Qw.re(),this.onlineState="Unknown",this.Wo=void 0}return f(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function FS(e,t){return MS.apply(this,arguments)}function MS(){return(MS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ET(t),!(a=r.Mo.get(n))){e.next=6;break}i=a.targetId,r.sharedClientState.addLocalQueryTarget(i),o=a.view.xo(),e.next=15;break;case 6:return e.next=8,Lb(r.localStore,Zy(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,US(r,n,i,"current"===u);case 13:o=e.sent,r.isPrimaryClient&&Ax(r.remoteStore,s);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function US(e,t,n,r){return jS.apply(this,arguments)}function jS(){return(jS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return(i=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.Po(r),e.t0=o.Bn,!e.t0){e.next=6;break}return e.next=5,Ub(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.Po(t,o)});case 5:o=e.sent;case 6:return a=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(o,t.isPrimaryClient,a),e.abrupt("return",(rT(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}},e)})),function(e,t,n,r){return i.apply(this,arguments)})(t,e,n,r);var i},e.next=3,Ub(t.localStore,n,!0);case 3:return o=e.sent,a=new PS(n,o.zn),s=a.Po(o.documents),u=Jk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=a.applyChanges(s,t.isPrimaryClient,u),rT(t,r,c.Co),l=new NS(n,r,a),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function VS(e,t){return qS.apply(this,arguments)}function qS(){return(qS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fm(t),i=r.Mo.get(n),!((o=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,o.filter(function(e){return!Gy(e,n)})),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Fb(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),Ox(r.remoteStore,i.targetId),tT(r,i.targetId)}).catch(eb);case 9:e.next=14;break;case 11:return tT(r,i.targetId),e.next=14,Fb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function BS(){return(BS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=CT(t),e.prev=1,e.next=4,function(e,t){var n,r=fm(e),i=Am.now(),o=t.reduce(function(e,t){return e.add(t.key)},Kk());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Wn.vn(e,o).next(function(o){n=o;var a,s=[],c=u(t);try{for(c.s();!(a=c.n()).done;){var l=a.value,h=_k(l,n.get(l.key));null!=h&&s.push(new Sk(l.key,h,dy(h.value.mapValue),vk.exists(!0)))}}catch(f){c.e(f)}finally{c.f()}return r.An.addMutationBatch(e,i,s,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(i.localStore,n);case 4:return o=e.sent,i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Lk(Cm)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,o.batchId,r),e.next=9,aT(i,o.changes);case 9:return e.next=11,Kx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=fS(e.t0,"Failed to persist write"),r.reject(a);case 17:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function zS(e,t){return ZS.apply(this,arguments)}function ZS(){return(ZS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),e.prev=1,e.next=4,Pb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach(function(e,t){var n=r.Uo.get(t);n&&(hm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?hm(n.$o):e.removedDocuments.size>0&&(hm(n.$o),n.$o=!1))}),e.next=8,aT(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,eb(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function HS(e,t,n){var r=fm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach(function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=fm(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var i,o=u(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.ro(t)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}}),r&&SS(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function GS(e,t,n){return KS.apply(this,arguments)}function KS(){return(KS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fm(t)).sharedClientState.updateQueryState(n,"rejected",r),o=i.Uo.get(n),!(a=o&&o.key)){e.next=14;break}return s=(s=new Lk(Jm.comparator)).insert(a,py.newNoDocument(a,Om.min())),u=Kk().add(a),c=new Yk(Om.min(),new Map,new Uk(Cm),s,u),e.next=9,zS(i,c);case 9:i.Bo=i.Bo.remove(a),i.Uo.delete(n),oT(i),e.next=16;break;case 14:return e.next=16,Fb(i.localStore,n,!1).then(function(){return tT(i,n,r)}).catch(eb);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function WS(e,t){return QS.apply(this,arguments)}function QS(){return(QS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),i=n.batch.batchId,e.prev=1,e.next=4,Ab(r.localStore,n);case 4:return o=e.sent,eT(r,i,null),$S(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,aT(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,eb(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function YS(e,t,n){return JS.apply(this,arguments)}function JS(){return(JS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=fm(t),e.prev=1,e.next=4,function(e,t){var n=fm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.An.lookupMutationBatch(e,t).next(function(t){return hm(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)}).next(function(){return n.An.performConsistencyCheck(e)}).next(function(){return n.Wn.vn(e,r)})})}(i.localStore,n);case 4:return o=e.sent,eT(i,n,r),$S(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,aT(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,eb(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function XS(){return(XS=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Fx((r=fm(t)).remoteStore)||am("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=fm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.An.getHighestUnacknowledgedBatchId(e)})}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(o=r.jo.get(i)||[]).push(n),r.jo.set(i,o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),a=fS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(a);case 16:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function $S(e,t){(e.jo.get(t)||[]).forEach(function(e){e.resolve()}),e.jo.delete(t)}function eT(e,t,n){var r=fm(e),i=r.Ko[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function tT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=u(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.Mo.delete(o),n&&e.Oo.zo(o,n)}}catch(a){i.e(a)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach(function(t){e.qo.containsKey(t)||nT(e,t)})}function nT(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Ox(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),oT(e))}function rT(e,t,n){var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof AS?(e.qo.addReference(o.key,t),iT(e,o)):o instanceof OS?(am("SyncEngine","Document no longer in limbo: "+o.key),e.qo.removeReference(o.key,t),e.qo.containsKey(o.key)||nT(e,o.key)):lm()}}catch(a){i.e(a)}finally{i.f()}}function iT(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(am("SyncEngine","New document in limbo: "+n),e.Lo.add(r),oT(e))}function oT(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Jm(Fm.fromString(t)),r=e.Qo.next();e.Uo.set(r,new DS(n)),e.Bo=e.Bo.insert(n,r),Ax(e.remoteStore,new ww(Zy(My(n.path)),r,2,Sm.I))}}function aT(e,t,n){return sT.apply(this,arguments)}function sT(){return(sT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fm(t),o=[],a=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach(function(e,t){s.push(i.Go(t,n,r).then(function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=Sb.$n(t.targetId,e);a.push(n)}}))}),e.next=6,Promise.all(s);case 6:return i.Oo.br(o),e.next=9,(c=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return sw.forEach(n,function(t){return sw.forEach(t.kn,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return sw.forEach(t.xn,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),fw(e.t0)){e.next=10;break}throw e.t0;case 10:am("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=u(n);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.targetId,a.fromCache||(c=r.qn.get(s),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),r.qn=r.qn.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}},e,null,[[1,6]])})),function(e,t){return c.apply(this,arguments)})(i.localStore,a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function uT(e,t){return cT.apply(this,arguments)}function cT(){return(cT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fm(t)).currentUser.isEqual(n)){e.next=12;break}return am("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ib(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,(o=r).jo.forEach(function(e){e.forEach(function(e){e.reject(new pm(dm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=12,aT(r,i.Gn);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lT(e,t){var n=fm(e),r=n.Uo.get(t);if(r&&r.$o)return Kk().add(r.key);var i=Kk(),o=n.Fo.get(t);if(!o)return i;var a,s=u(o);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=n.Mo.get(c);i=i.unionWith(l.view.bo)}}catch(h){s.e(h)}finally{s.f()}return i}function hT(e,t){return fT.apply(this,arguments)}function fT(){return(fT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),e.next=3,Ub(r.localStore,n.query,!0);case 3:return i=e.sent,o=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&rT(r,n.targetId,o.Co),o));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dT(e){return pT.apply(this,arguments)}function pT(){return(pT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=fm(t),e.abrupt("return",Vb(n.localStore).then(function(e){return aT(n,e)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vT(e,t,n,r){return gT.apply(this,arguments)}function gT(){return(gT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=fm(t),e.next=3,function(e,t){var n=fm(e),r=fm(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.Zt(e,t).next(function(t){return t?n.Wn.vn(e,t):sw.resolve(null)})})}(o.localStore,n);case 3:if(null===(a=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Kx(o.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(eT(o,n,i||null),$S(o,n),s=n,fm(fm(o.localStore).An).ee(s)):lm();case 11:return e.next=13,aT(o,a);case 13:e.next=16;break;case 15:am("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mT(){return(mT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,c,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ET(r=fm(t)),CT(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,yT(r,i.toArray());case 5:return o=e.sent,r.Wo=!0,e.next=9,sS(r.remoteStore,!0);case 9:a=u(o);try{for(a.s();!(s=a.n()).done;)c=s.value,Ax(r.remoteStore,c)}catch(f){a.e(f)}finally{a.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return l=[],h=Promise.resolve(),r.Fo.forEach(function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):h=h.then(function(){return tT(r,t),Fb(r.localStore,t,!0)}),Ox(r.remoteStore,t)}),e.next=19,h;case 19:return e.next=21,yT(r,l);case 21:return function(e){var t=fm(e);t.Uo.forEach(function(e,n){Ox(t.remoteStore,n)}),t.qo.hs(),t.Uo=new Map,t.Bo=new Lk(Jm.comparator)}(r),r.Wo=!1,e.next=25,sS(r.remoteStore,!1);case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yT(e,t,n){return kT.apply(this,arguments)}function kT(){return(kT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,c,l,h,f,d,p,v,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=fm(t),o=[],a=[],s=u(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,h=void 0,!(f=i.Fo.get(l))||0===f.length){e.next=34;break}return e.next=11,Lb(i.localStore,Zy(f[0]));case 11:h=e.sent,d=u(f),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,g=i.Mo.get(v),e.next=20,hT(i,g);case 20:(m=e.sent).snapshot&&a.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,jb(i.localStore,l);case 36:return y=e.sent,e.next=39,Lb(i.localStore,y);case 39:return h=e.sent,e.next=42,US(i,_T(y),l,!1);case 42:o.push(h);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(a),o));case 54:case"end":return e.stop()}},e,null,[[2,47,50,53],[13,26,29,32]])}))).apply(this,arguments)}function _T(e){return Fy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function wT(e){var t=fm(e);return fm(fm(t.localStore).persistence).Tn()}function bT(e,t,n,r){return xT.apply(this,arguments)}function xT(){return(xT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=fm(t)).Wo){e.next=5;break}am("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!o.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Vb(o.localStore);case 11:return a=e.sent,s=Yk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,aT(o,a,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Fb(o.localStore,n,!0);case 18:return tT(o,n,i),e.abrupt("break",21);case 20:lm();case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ST(e,t,n){return TT.apply(this,arguments)}function TT(){return(TT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,c,l,h,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ET(t)).Wo){e.next=45;break}o=u(n),e.prev=3,o.s();case 5:if((a=o.n()).done){e.next=21;break}if(s=a.value,!i.Fo.has(s)){e.next=10;break}return am("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,jb(i.localStore,s);case 12:return c=e.sent,e.next=15,Lb(i.localStore,c);case 15:return l=e.sent,e.next=18,US(i,_T(c),l.targetId,!1);case 18:Ax(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:h=u(r),e.prev=30,d=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,Fb(i.localStore,t,!1).then(function(){Ox(i.remoteStore,t),tT(i,t)}).catch(eb);case 5:case"end":return e.stop()}},e)}),h.s();case 33:if((f=h.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),h.e(e.t2);case 42:return e.prev=42,h.f(),e.finish(42);case 45:case"end":return e.stop()}},e,null,[[3,23,26,29],[30,39,42,45]])}))).apply(this,arguments)}function ET(e){var t=fm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GS.bind(null,t),t.Oo.br=bS.bind(null,t.eventManager),t.Oo.zo=xS.bind(null,t.eventManager),t}function CT(e){var t=fm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YS.bind(null,t),t}var IT=function(){function e(){d(this,e),this.synchronizeTabs=!1}return f(e,[{key:"initialize",value:function(e){var t=this;return(0,Jh.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.k=yx(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),n.next=5,t.persistence.start();case 5:t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e);case 7:case"end":return n.stop()}},n)}))()}},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Cb(this.persistence,new Tb,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Xb(ex.ks,this.k)}},{key:"Jo",value:function(e){return new lx}},{key:"terminate",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.gcScheduler&&e.gcScheduler.stop(),t.next=3,e.sharedClientState.shutdown();case 3:return t.next=5,e.persistence.shutdown();case 5:case"end":return t.stop()}},t)}))()}}]),e}(),RT=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).tc=e,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return f(n,[{key:"initialize",value:function(e){var t=this,r=this;return(0,Jh.Z)(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i(b(n.prototype),"initialize",t).call(r,e);case 2:return o.next=4,function(e){return qb.apply(this,arguments)}(r.localStore);case 4:return o.next=6,r.tc.initialize(r,e);case 6:return o.next=8,CT(r.tc.syncEngine);case 8:return o.next=10,Kx(r.tc.remoteStore);case 10:return o.next=12,r.persistence.sn(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()});case 12:case"end":return o.stop()}},o)}))()}},{key:"Zo",value:function(e){return Cb(this.persistence,new Tb,e.initialUser,this.k)}},{key:"Xo",value:function(e){return new ib(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}},{key:"Yo",value:function(e){var t=wb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qw.withCacheSize(this.cacheSizeBytes):qw.DEFAULT;return new yb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gx(),mx(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new lx}}]),n}(IT),AT=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return f(n,[{key:"initialize",value:function(e){var t=this,r=this;return(0,Jh.Z)(regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i(b(n.prototype),"initialize",t).call(r,e);case 2:if(a=r.tc.syncEngine,o.t0=r.sharedClientState instanceof cx,!o.t0){o.next=8;break}return r.sharedClientState.syncEngine={mi:vT.bind(null,a),gi:bT.bind(null,a),yi:ST.bind(null,a),Tn:wT.bind(null,a),_i:dT.bind(null,a)},o.next=8,r.sharedClientState.start();case 8:return o.next=10,r.persistence.sn(function(){var e=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e,t){return mT.apply(this,arguments)}(r.tc.syncEngine,t);case 2:r.gcScheduler&&(t&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):t||r.gcScheduler.stop());case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return o.stop()}},o)}))()}},{key:"Jo",value:function(e){var t=gx();if(!cx.Pt(t))throw new pm(dm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(RT),OT=function(){function e(){d(this,e)}return f(e,[{key:"initialize",value:function(e,t){var n=this;return(0,Jh.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=n.localStore,r.t0){r.next=12;break}return n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=function(e){return HS(n.syncEngine,e,1)},n.remoteStore.remoteSyncer.handleCredentialChange=uT.bind(null,n.syncEngine),r.next=12,sS(n.remoteStore,n.syncEngine.isPrimaryClient);case 12:case"end":return r.stop()}},r)}))()}},{key:"createEventManager",value:function(e){return new mS}},{key:"createDatastore",value:function(e){var t=yx(e.databaseInfo.databaseId),n=new vx(e.databaseInfo);return new xx(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return HS(a.syncEngine,e,0)},o=fx.Pt()?new fx:new hx,new Tx(t,n,r,i,o)}},{key:"createSyncEngine",value:function(e,t){return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,a=e.initialUser,s=e.maxConcurrentLimboResolutions,u=t,c=new LS(n,r,i,o,a,s),u&&(c.Wo=!0),c;var n,r,i,o,a,s,u,c}},{key:"terminate",value:function(){return(e=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=fm(t),am("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Ix(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}]),e}();function PT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,Jh.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}},r)}))()},cancel:function(){return(0,Jh.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var NT=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return f(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)}}]),e}(),DT=function(){function e(t,n){var r=this;d(this,e),this.sc=t,this.k=n,this.metadata=new vm,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))},function(e){return r.metadata.reject(e)})}return f(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.metadata.promise);case 1:case"end":return t.stop()}},t)}))()}},{key:"Ho",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getMetadata();case 2:return t.abrupt("return",e.rc());case 3:case"end":return t.stop()}},t)}))()}},{key:"rc",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.oc();case 2:if(null!==(n=t.sent)){t.next=5;break}return t.abrupt("return",null);case 5:return r=e.ic.decode(n),i=Number(r),isNaN(i)&&e.cc("length string (".concat(r,") is not valid number")),t.next=9,e.ac(i);case 9:return o=t.sent,t.abrupt("return",new ES(JSON.parse(o),n.length+i));case 11:case"end":return t.stop()}},t)}))()}},{key:"uc",value:function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})}},{key:"oc",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.uc()<0,!t.t0){t.next=5;break}return t.next=4,e.hc();case 4:t.t0=!t.sent;case 5:if(!t.t0){t.next=9;break}case 7:t.next=0;break;case 9:if(0!==e.buffer.length){t.next=11;break}return t.abrupt("return",null);case 11:return(n=e.uc())<0&&e.cc("Reached the end of bundle when a length string is expected."),r=e.buffer.slice(0,n),t.abrupt("return",(e.buffer=e.buffer.slice(n),r));case 15:case"end":return t.stop()}},t)}))()}},{key:"ac",value:function(e){var t=this;return(0,Jh.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.buffer.length<e)){n.next=8;break}return n.next=3,t.hc();case 3:if(n.t0=n.sent,!n.t0){n.next=6;break}t.cc("Reached the end of bundle when more is expected.");case 6:n.next=0;break;case 8:return r=t.ic.decode(t.buffer.slice(0,e)),n.abrupt("return",(t.buffer=t.buffer.slice(e),r));case 10:case"end":return n.stop()}},n)}))()}},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sc.read();case 2:return(n=t.sent).done||((r=new Uint8Array(e.buffer.length+n.value.length)).set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r),t.abrupt("return",n.done);case 5:case"end":return t.stop()}},t)}))()}}]),e}(),LT=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return f(e,[{key:"lookup",value:function(e){var t=this;return(0,Jh.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.ensureCommitNotCalled(),!(t.mutations.length>0)){n.next=2;break}throw new pm(dm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return n.next=4,(i=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),i=y_(r.k)+"/documents",o={documents:n.map(function(e){return p_(r.k,e)})},e.next=5,r.ji("BatchGetDocuments",i,o);case 5:return a=e.sent,s=new Map,a.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){hm(!!t.found);var n=v_(e,t.found.name),r=h_(t.found.updateTime),i=new fy({mapValue:{fields:t.found.fields}});return py.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){hm(!!t.missing),hm(!!t.readTime);var n=v_(e,t.missing),r=h_(t.readTime);return py.newNoDocument(n,r)}(e,t):lm()}(r.k,e);s.set(t.key.toString(),t)}),u=[],e.abrupt("return",(n.forEach(function(e){var t=s.get(e.toString());hm(!!t),u.push(t)}),u));case 10:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})(t.datastore,e);case 4:return r=n.sent,n.abrupt("return",(r.forEach(function(e){return t.recordVersion(e)}),r));case 6:case"end":return n.stop()}},n)}))()}},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ak(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ensureCommitNotCalled(),!e.lastWriteError){t.next=2;break}throw e.lastWriteError;case 2:return n=e.readVersions,e.mutations.forEach(function(e){n.delete(e.key.toString())}),n.forEach(function(t,n){var r=Jm.fromPath(n);e.mutations.push(new Ok(r,e.precondition(r)))}),t.next=7,(r=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=fm(t),i=y_(r.k)+"/documents",o={writes:n.map(function(e){return b_(r.k,e)})},e.next=3,r.Bi("Commit",i,o);case 3:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})(e.datastore,e.mutations);case 7:e.committed=!0;case 8:case"end":return t.stop()}},t)}))()}},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lm();t=Om.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new pm(dm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?vk.updateTime(t):vk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Om.min()))throw new pm(dm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vk.updateTime(t)}return vk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),FT=function(){function e(t,n,r,i){d(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new kx(this.asyncQueue,"transaction_retry")}return f(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi((0,Jh.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new LT(e.datastore),(r=e.dc(n))&&r.then(function(t){e.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){e.deferred.resolve(t)}).catch(function(t){e.wc(t)})})}).catch(function(t){e.wc(t)});case 2:case"end":return t.stop()}},t)})))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!Wm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(function(){return t.fc(),Promise.resolve()})):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Nk(t)}return!1}}]),e}(),MT=function(){function e(t,n,r,i){d(this,e);var o,a=this;this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nm.UNAUTHENTICATED,this.clientId=Em.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,(o=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return am("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})),this.appCheckCredentials.start(r,function(){return Promise.resolve()})}return f(e,[{key:"getConfiguration",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}},t)}))()}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new pm(dm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new vm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Jh.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=fS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}},n,null,[[0,14]])}))),t.promise}}]),e}();function UT(e,t){return jT.apply(this,arguments)}function jT(){return(jT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),am("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ib(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function VT(e,t){return qT.apply(this,arguments)}function qT(){return(qT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,BT(t);case 3:return r=e.sent,am("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener(function(e){return(t=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fm(t)).asyncQueue.verifyOperationInProgress(),am("RemoteStore","RemoteStore received new credentials"),i=Fx(r),r.Gr.add(3),e.next=6,Ix(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Ex(r);case 12:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})(n.remoteStore,e);var t}),t.onlineComponents=n;case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function BT(e){return zT.apply(this,arguments)}function zT(){return(zT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return am("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,UT(t,new IT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ZT(e){return HT.apply(this,arguments)}function HT(){return(HT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return am("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,VT(t,new OT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function GT(e){return BT(e).then(function(e){return e.persistence})}function KT(e){return BT(e).then(function(e){return e.localStore})}function WT(e){return ZT(e).then(function(e){return e.remoteStore})}function QT(e){return ZT(e).then(function(e){return e.syncEngine})}function YT(e){return JT.apply(this,arguments)}function JT(){return(JT=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=FS.bind(null,n.syncEngine),r.onUnlisten=VS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function XT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vm;return e.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new NT({next:function(o){t.enqueueAndForget(function(){return _S(e,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new pm(dm.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new pm(dm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new TS(My(n.path),o,{includeMetadataChanges:!0,wo:!0});return yS(e,a)},i.next=3,YT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}function $T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vm;return e.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new NT({next:function(n){t.enqueueAndForget(function(){return _S(e,a)}),n.fromCache&&"server"===r.source?i.reject(new pm(dm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new TS(n,o,{includeMetadataChanges:!0,wo:!0});return yS(e,a)},i.next=3,YT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}var eE=f(function e(t,n,r,i,o,a,s,u){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=u}),tE=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return f(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),nE=new Map;function rE(e,t,n){if(!n)throw new pm(dm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function iE(e,t,n,r){if(!0===t&&!0===r)throw new pm(dm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function oE(e){if(!Jm.isDocumentKey(e))throw new pm(dm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function aE(e){if(Jm.isDocumentKey(e))throw new pm(dm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function sE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=(n=e).constructor?n.constructor.name:null;return t?"a custom ".concat(t," object"):"an object"}var n;return"function"==typeof e?"a function":lm()}function uE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pm(dm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sE(e);throw new pm(dm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function cE(e,t){if(t<=0)throw new pm(dm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var lE=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new pm(dm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pm(dm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,iE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return f(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),hE=function(){function e(t,n,r){d(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,t instanceof tE?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pm(dm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tE(e.options.projectId)}(t))}return f(e,[{key:"app",get:function(){if(!this._app)throw new pm(dm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new pm(dm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new mm;switch(e.type){case"gapi":var t=e.client;return hm(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new wm(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new pm(dm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return e=this,(t=nE.get(e))&&(am("ComponentProvider","Removing Datastore"),nE.delete(e),t.terminate()),Promise.resolve();var e,t}}]),e}(),fE=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return f(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new pE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),dE=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return f(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),pE=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r,My(i)))._path=i,o.type="collection",o}return f(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new fE(this.firestore,null,new Jm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(dE);function vE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,ef.m9)(e),rE("collection","path",t),e instanceof hE){var o=Fm.fromString.apply(Fm,[t].concat(r));return aE(o),new pE(e,null,o)}if(!(e instanceof fE||e instanceof pE))throw new pm(dm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Fm.fromString.apply(Fm,[t].concat(r)));return aE(a),new pE(e.firestore,null,a)}function gE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,ef.m9)(e),1===arguments.length&&(t=Em.A()),rE("doc","path",t),e instanceof hE){var o=Fm.fromString.apply(Fm,[t].concat(r));return oE(o),new fE(e,null,new Jm(o))}if(!(e instanceof fE||e instanceof pE))throw new pm(dm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Fm.fromString.apply(Fm,[t].concat(r)));return oE(a),new fE(e.firestore,e instanceof pE?e.converter:null,new Jm(a))}function mE(e,t){return e=(0,ef.m9)(e),t=(0,ef.m9)(t),(e instanceof fE||e instanceof pE)&&(t instanceof fE||t instanceof pE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function yE(e,t){return e=(0,ef.m9)(e),t=(0,ef.m9)(t),e instanceof dE&&t instanceof dE&&e.firestore===t.firestore&&Gy(e._query,t._query)&&e.converter===t.converter}var kE=function(){function e(){var t=this;d(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new kx(this,"async_queue_retry"),this.bc=function(){var e=mx();e&&am("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=mx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return f(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=mx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise(function(){});var n=new vm;return this.vc(function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.gc.push(e),t.Vc()})}},{key:"Vc",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.gc.length){t.next=14;break}return t.prev=1,t.next=4,e.gc[0]();case 4:e.gc.shift(),e.ur.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),fw(t.t0)){t.next=12;break}throw t.t0;case 12:am("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:e.gc.length>0&&e.ur.Zi(function(){return e.Vc()});case 14:case"end":return t.stop()}},t,null,[[1,8]])}))()}},{key:"vc",value:function(e){var t=this,n=this.mc.then(function(){return t.Ic=!0,e().catch(function(e){throw t.Ec=e,t.Ic=!1,sm("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),e;var n,r}).then(function(e){return t.Ic=!1,e})});return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=hS.createAndSchedule(this,e,t,n,function(e){return r.Sc(e)});return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&lm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=this;return(0,Jh.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.mc,t.next=3,n;case 3:if(n!==e.mc){t.next=0;break}case 4:case"end":return t.stop()}},t)}))()}},{key:"Cc",value:function(e){var t,n=u(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then(function(){t.Tc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n,r=u(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.Dc()})}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function _E(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var wE=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new vm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return f(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),bE=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r,i)).type="firestore",o._queue=new kE,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return f(n,[{key:"_terminate",value:function(){return this._firestoreClient||SE(this),this._firestoreClient.terminate()}}]),n}(hE);function xE(e){return e._firestoreClient||SE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function SE(e){var t,n,r,i=e._freezeSettings(),o=(n=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new eE(e._databaseId,n,e._persistenceKey,(r=i).host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams));e._firestoreClient=new MT(e._authCredentials,e._appCheckCredentials,e._queue,o)}function TE(e,t,n){var r=new vm;return e.asyncQueue.enqueue((0,Jh.Z)(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,UT(e,n);case 3:return i.next=5,VT(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),"FirebaseError"===(o=i.t0).name?o.code===dm.FAILED_PRECONDITION||o.code===dm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}},i,null,[[0,8]])}))).then(function(){return r.promise})}function EE(e){if(e._initialized||e._terminated)throw new pm(dm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var CE=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new pm(dm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Um(n)}return f(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}(),IE=function(){function e(t){d(this,e),this._byteString=t}return f(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Vm.fromBase64String(t))}catch(n){throw new pm(dm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}},{key:"fromUint8Array",value:function(t){return new e(Vm.fromUint8Array(t))}}]),e}(),RE=f(function e(t){d(this,e),this._methodName=t}),AE=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new pm(dm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pm(dm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return f(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Cm(this._lat,e._lat)||Cm(this._long,e._long)}}]),e}(),OE=/^__.*__$/,PE=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Sk(e,this.data,this.fieldMask,t,this.fieldTransforms):new xk(e,this.data,t,this.fieldTransforms)}}]),e}(),NE=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return new Sk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function DE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lm()}}var LE=function(){function e(t,n,r,i,o,a){d(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===o&&this.xc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return f(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return tC(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(DE(this.$c)&&OE.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),FE=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||yx(t)}return f(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new LE({$c:e,methodName:t,jc:n,path:Um.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function ME(e){var t=e._freezeSettings(),n=yx(e._databaseId);return new FE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function UE(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.Qc(o.merge||o.mergeFields?2:0,t,n,i);JE("Data must be an object, but it was:",a,r);var s,c,l=QE(r,a);if(o.merge)s=new jm(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){var h,f=[],d=u(o.mergeFields);try{for(d.s();!(h=d.n()).done;){var p=h.value,v=XE(t,p,n);if(!a.contains(v))throw new pm(dm.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));nC(f,v)||f.push(v)}}catch(g){d.e(g)}finally{d.f()}s=new jm(f),c=a.fieldTransforms.filter(function(e){return s.covers(e.field)})}else s=null,c=a.fieldTransforms;return new PE(new fy(l),s,c)}var jE=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw e.qc(1===e.$c?"".concat(this._methodName,"() can only appear at the top level of your update data"):"".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(RE);function VE(e,t,n){return new LE({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var qE=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"_toFieldTransform",value:function(e){return new dk(e.path,new ok)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(RE),BE=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Wc=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=VE(this,e,!0),n=this.Wc.map(function(e){return WE(e,t)}),r=new ak(n);return new dk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(RE),zE=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Wc=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=VE(this,e,!0),n=this.Wc.map(function(e){return WE(e,t)}),r=new uk(n);return new dk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(RE),ZE=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Gc=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=new lk(e.k,ek(e.k,this.Gc));return new dk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(RE);function HE(e,t,n,r){var i=e.Qc(1,t,n);JE("Data must be an object, but it was:",i,r);var o=[],a=fy.empty();Nm(r,function(e,r){var s=eC(t,e,n);r=(0,ef.m9)(r);var u=i.Bc(s);if(r instanceof jE)o.push(s);else{var c=WE(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new jm(o);return new NE(a,s,i.fieldTransforms)}function GE(e,t,n,r,i,o){var a=e.Qc(1,t,n),s=[XE(t,r,n)],u=[i];if(o.length%2!=0)throw new pm(dm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<o.length;c+=2)s.push(XE(t,o[c])),u.push(o[c+1]);for(var l=[],h=fy.empty(),f=s.length-1;f>=0;--f)if(!nC(l,s[f])){var d=s[f],p=u[f];p=(0,ef.m9)(p);var v=a.Bc(d);if(p instanceof jE)l.push(d);else{var g=WE(p,v);null!=g&&(l.push(d),h.set(d,g))}}var m=new jm(l);return new NE(h,m,a.fieldTransforms)}function KE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return WE(n,e.Qc(r?4:3,t))}function WE(e,t){if(YE(e=(0,ef.m9)(e)))return JE("Unsupported field value:",t,e),QE(e,t);if(e instanceof RE)return function(e,t){if(!DE(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=u(e);try{for(o.s();!(n=o.n()).done;){var a=WE(n.value,t.Uc(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(s){o.e(s)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,ef.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ek(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Am.fromDate(e);return{timestampValue:u_(t.k,n)}}if(e instanceof Am){var r=new Am(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:u_(t.k,r)}}if(e instanceof AE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof IE)return{bytesValue:c_(t.k,e._byteString)};if(e instanceof fE){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t.qc("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:f_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(sE(e)))}(e,t)}function QE(e,t){var n={};return Dm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nm(e,function(e,r){var i=WE(r,t.Mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function YE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Am||e instanceof AE||e instanceof IE||e instanceof fE||e instanceof RE)}function JE(e,t,n){if(!YE(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){var r=sE(n);throw t.qc("an object"===r?e+" a custom object":e+" "+r)}var i}function XE(e,t,n){if((t=(0,ef.m9)(t))instanceof CE)return t._internalPath;if("string"==typeof t)return eC(e,t);throw tC("Field path arguments must be of type string or ",e,!1,void 0,n)}var $E=new RegExp("[~\\*/\\[\\]]");function eC(e,t,n){if(t.search($E)>=0)throw tC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return k(CE,a(t.split(".")))._internalPath}catch(r){throw tC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function tC(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field ".concat(r)),a&&(u+=" in document ".concat(i)),u+=")"),new pm(dm.INVALID_ARGUMENT,s+e+u)}function nC(e,t){return e.some(function(e){return e.isEqual(t)})}var rC=function(){function e(t,n,r,i,o){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return f(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new fE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new iC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(oC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),iC=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){return i(b(n.prototype),"data",this).call(this)}}]),n}(rC);function oC(e,t){return"string"==typeof t?eC(e,t):t instanceof CE?t._internalPath:t._delegate._internalPath}var aC=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return f(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),sC=function(e){p(n,e);var t=v(n);function n(e,r,i,o,a,s){var u;return d(this,n),(u=t.call(this,e,r,i,o,s))._firestore=e,u._firestoreImpl=e,u.metadata=a,u}return f(n,[{key:"exists",value:function(){return i(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new uC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(oC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(rC),uC=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(b(n.prototype),"data",this).call(this,e)}}]),n}(sC),cC=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new aC(i.hasPendingWrites,i.fromCache),this.query=r}return f(e,[{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new uC(n._firestore,n._userDataWriter,r.key,r,new aC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pm(dm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new uC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new uC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:lC(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function lC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lm()}}function hC(e,t){return e instanceof sC&&t instanceof sC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cC&&t instanceof cC&&e._firestore===t._firestore&&yE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function fC(e){if(jy(e)&&0===e.explicitOrderBy.length)throw new pm(dm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dC=f(function e(){d(this,e)});function pC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=a._apply(e)}return e}var vC=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).zc=e,o.Hc=r,o.Jc=i,o.type="where",o}return f(n,[{key:"_apply",value:function(e){var t,n,r,i=ME(e.firestore),o=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new pm(dm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){bC(a,o);var c,l=[],h=u(a);try{for(h.s();!(c=h.n()).done;){var f=c.value;l.push(wC(r,e,f))}}catch(p){h.e(p)}finally{h.f()}s={arrayValue:{values:l}}}else s=wC(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||bC(a,o),s=KE(n,"where",a,"in"===o||"not-in"===o);var d=_y.create(i,o,s);return function(e,t){if(t.V()){var n=qy(e);if(null!==n&&!n.isEqual(t.field))throw new pm(dm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Vy(e);null!==r&&xC(0,t.field,r)}var i=function(e,t){var n,r=u(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new pm(dm.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter."):"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,i,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new dE(e.firestore,e.converter,(t=e._query,n=o,r=t.filters.concat([n]),new Ly(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)))}}]),n}(dC),gC=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return f(n,[{key:"_apply",value:function(e){var t,n,r,i=function(e,t,n){if(null!==e.startAt)throw new pm(dm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pm(dm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Oy(t,n);return function(e,t){if(null===Vy(e)){var n=qy(e);null!==n&&xC(0,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new dE(e.firestore,e.converter,(t=e._query,n=i,r=t.explicitOrderBy.concat([n]),new Ly(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))}}]),n}(dC),mC=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).type=e,o.Xc=r,o.Zc=i,o}return f(n,[{key:"_apply",value:function(e){return new dE(e.firestore,e.converter,Hy(e._query,this.Xc,this.Zc))}}]),n}(dC),yC=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).type=e,o.ta=r,o.ea=i,o}return f(n,[{key:"_apply",value:function(e){var t,n,r=_C(e,this.type,this.ta,this.ea);return new dE(e.firestore,e.converter,(n=r,new Ly((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt)))}}]),n}(dC),kC=function(e){p(n,e);var t=v(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this)).type=e,o.ta=r,o.ea=i,o}return f(n,[{key:"_apply",value:function(e){var t,n,r=_C(e,this.type,this.ta,this.ea);return new dE(e.firestore,e.converter,(n=r,new Ly((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n)))}}]),n}(dC);function _C(e,t,n,r){if(n[0]=(0,ef.m9)(n[0]),n[0]instanceof rC)return function(e,t,n,r,i){if(!r)throw new pm(dm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var o,a=[],s=u(zy(e));try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c.field.isKeyField())a.push(oy(t,r.key));else{var l=r.data.field(c.field);if(Hm(l))throw new pm(dm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var h=c.field.canonicalString();throw new pm(dm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(h,"' (used as the orderBy) does not exist."))}a.push(l)}}}catch(f){s.e(f)}finally{s.f()}return new Ry(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ME(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new pm(dm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new pm(dm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!By(e)&&-1!==c.indexOf("/"))throw new pm(dm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Fm.fromString(c));if(!Jm.isDocumentKey(l))throw new pm(dm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var h=new Jm(l);s.push(oy(t,h))}else{var f=KE(n,r,c);s.push(f)}}return new Ry(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function wC(e,t,n){if("string"==typeof(n=(0,ef.m9)(n))){if(""===n)throw new pm(dm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!By(t)&&-1!==n.indexOf("/"))throw new pm(dm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Fm.fromString(n));if(!Jm.isDocumentKey(r))throw new pm(dm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return oy(e,new Jm(r))}if(n instanceof fE)return oy(e,n._key);throw new pm(dm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(sE(n),"."))}function bC(e,t){if(!Array.isArray(e)||0===e.length)throw new pm(dm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new pm(dm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function xC(e,t,n){if(!n.isEqual(t))throw new pm(dm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var SC=function(){function e(){d(this,e)}return f(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Xm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Nm(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r}},{key:"convertGeoPoint",value:function(e){return new AE(zm(e.latitude),zm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Gm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Km(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Bm(e);return new Am(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Fm.fromString(e);hm(M_(n));var r=new tE(n.get(1),n.get(3)),i=new Jm(n.popFirst(5));return r.isEqual(t)||sm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function TC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var EC=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new IE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fE(this.firestore,null,t)}}]),n}(SC),CC=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ME(t)}return f(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=IC(e,this._firestore),i=TC(r.converter,t,n),o=UE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,vk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=IC(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(t=(0,ef.m9)(t))||t instanceof CE?GE(this._dataReader,"WriteBatch.update",i._key,t,n,a):HE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,vk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=IC(e,this._firestore);return this._mutations=this._mutations.concat(new Ak(t._key,vk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new pm(dm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function IC(e,t){if((e=(0,ef.m9)(e)).firestore!==t)throw new pm(dm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var RC=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new IE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new fE(this.firestore,null,t)}}]),n}(SC);function AC(e,t,n){e=uE(e,fE);var r=uE(e.firestore,bE),i=TC(e.converter,t,n);return NC(r,[UE(ME(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vk.none())])}function OC(e,t,n){e=uE(e,fE);for(var r=uE(e.firestore,bE),i=ME(r),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return NC(r,[("string"==typeof(t=(0,ef.m9)(t))||t instanceof CE?GE(i,"updateDoc",e._key,t,n,a):HE(i,"updateDoc",e._key,t)).toMutation(e._key,vk.exists(!0))])}function PC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=(0,ef.m9)(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||_E(n[u])||(s=n[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(_E(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(o=d.error)||void 0===o?void 0:o.bind(d),n[u+2]=null===(a=d.complete)||void 0===a?void 0:a.bind(d)}if(e instanceof fE)l=uE(e.firestore,bE),h=My(e._key.path),c={next:function(t){n[u]&&n[u](DC(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=uE(e,dE);l=uE(p.firestore,bE),h=p._query;var v=new RC(l);c={next:function(e){n[u]&&n[u](new cC(l,v,p,e))},error:n[u+1],complete:n[u+2]},fC(e._query)}return function(e,t,n,r){var i=new NT(r),o=new TS(t,i,n);return e.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=yS,t.next=3,YT(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){i.nc(),e.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_S,t.next=3,YT(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(xE(l),h,f,c)}function NC(e,t){return n=xE(e),r=t,i=new vm,n.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t,n){return BS.apply(this,arguments)},e.next=3,QT(n);case 3:return e.t1=e.sent,e.t2=r,e.t3=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}},e)}))),i.promise;var n,r,i}function DC(e,t,n){var r=n.docs.get(t._key),i=new RC(e);return new sC(e,i,t._key,r,new aC(n.hasPendingWrites,n.fromCache),t.converter)}var LC=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return f(n,[{key:"get",value:function(e){var t=this,r=IC(e,this._firestore),o=new RC(this._firestore);return i(b(n.prototype),"get",this).call(this,e).then(function(e){return new sC(t._firestore,o,r._key,e._document,new aC(!1,!1),r.converter)})}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=ME(t)}return f(e,[{key:"get",value:function(e){var t=this,n=IC(e,this._firestore),r=new EC(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return lm();var i=e[0];if(i.isFoundDocument())return new rC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new rC(t._firestore,r,n._key,null,n.converter);throw lm()})}},{key:"set",value:function(e,t,n){var r=IC(e,this._firestore),i=TC(r.converter,t,n),o=UE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}},{key:"update",value:function(e,t,n){for(var r,i=IC(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(t=(0,ef.m9)(t))||t instanceof CE?GE(this._dataReader,"Transaction.update",i._key,t,n,a):HE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=IC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function FC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pm("invalid-argument","Invalid options passed to function ".concat(e,'(): You cannot specify both "merge" and "mergeFields".'));return t}function MC(){if("undefined"==typeof Uint8Array)throw new pm("unimplemented","Uint8Arrays are not available in this environment.")}function UC(){if("undefined"==typeof atob)throw new pm("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];rm=Xh.SDK_VERSION,(0,Xh._registerComponent)(new $h.wA("firestore",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),o=new bE(i,new km(e.getProvider("auth-internal")),new xm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC")),(0,Xh.registerVersion)(tm,"3.4.3",e),(0,Xh.registerVersion)(tm,"3.4.3","esm2017")}();var jC=function(){function e(t){d(this,e),this._delegate=t}return f(e,[{key:"toBase64",value:function(){return UC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return MC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return UC(),new e(IE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return MC(),new e(IE.fromUint8Array(t))}}]),e}();function VC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var qC=function(){function e(){d(this,e)}return f(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){EE(e=uE(e,bE));var n=xE(e),r=e._freezeSettings(),i=new OT;return TE(n,i,new RT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){EE(e=uE(e,bE));var t=xE(e),n=e._freezeSettings(),r=new OT;return TE(t,r,new AT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new pm(dm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new vm;return e._queue.enqueueAndForgetEvenWhileRestricted((0,Jh.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(r=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(cw.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,cw.delete(n);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})(wb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}))),t.promise}(e._delegate)}}]),e}(),BC=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof tE||(this._appCompat=t)}return f(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&um("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=uE(e,hE))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&um("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var a,s;if("string"==typeof i.mockUserToken)a=i.mockUserToken,s=nm.MOCK_USER;else{a=(0,ef.Sg)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new pm(dm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new nm(u)}e._authCredentials=new ym(new gm(a,s))}}(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Jh.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GT(e);case 2:return n=t.sent,t.next=5,WT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),i=void 0,(i=fm(r)).Gr.delete(0),Ex(i)));case 7:case"end":return t.stop()}var i},t)})))}(xE(e=uE(e,bE)))}(this._delegate)}},{key:"disableNetwork",value:function(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Jh.Z)(regeneratorRuntime.mark(function t(){var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GT(e);case 2:return n=t.sent,t.next=5,WT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),(i=(0,Jh.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fm(t)).Gr.add(0),e.next=4,Ix(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})(r)));case 7:case"end":return t.stop()}},t)})))}(xE(e=uE(e,bE)))}(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&iE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return t=xE(e=uE(e,bE)),n=new vm,t.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t){return XS.apply(this,arguments)},e.next=3,QT(t);case 3:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)}))),n.promise;var t,n}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return function(e,t){return function(e,t){var n=new NT(t);return e.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function t(){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,YT(e);case 2:return r=t.sent,i=n,fm(r).io.add(i),t.abrupt("return",void i.next());case 6:case"end":return t.stop()}},t)}))),function(){n.nc(),e.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function t(){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,YT(e);case 2:return r=t.sent,i=n,t.abrupt("return",void fm(r).io.delete(i));case 5:case"end":return t.stop()}},t)})))}}(xE(e=uE(e,bE)),_E(t)?t:{next:t})}(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new pm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new nI(this,vE(this._delegate,e))}catch(t){throw WC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new KC(this,gE(this._delegate,e))}catch(t){throw WC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new $C(this,function(e,t){if(e=uE(e,hE),rE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new pm(dm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new dE(e,null,(n=t,new Ly(Fm.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw WC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t){return function(e,t){var n=new vm;return e.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ZT(e).then(function(e){return e.datastore});case 2:i=r.sent,new FT(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}},r)}))),n.promise}(xE(e=uE(e,bE)),function(n){return t(new LC(e,n))})}(this._delegate,function(n){return e(new ZC(t,n))})}},{key:"batch",value:function(){var e=this;return xE(this._delegate),new HC(new CC(this._delegate,function(t){return NC(e._delegate,t)}))}},{key:"loadBundle",value:function(e){return function(e,t){var n=xE(e=uE(e,bE)),r=new wE;return function(e,t,n,r){var i,o,a,s=(i=n,o=yx(t),a=function(e,t){if(e instanceof Uint8Array)return PT(e,t);if(e instanceof ArrayBuffer)return PT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new DT(a,o));e.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t,n){var r,i=fm(e);(r=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=fm(e),r=h_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.Ye.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith((c=i,{taskState:"Success",documentsLoaded:c.totalDocuments,bytesLoaded:c.totalBytes,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes})));case 10:return r._updateProgress(RS(i)),o=new IS(i,t.localStore,n.k),e.next=14,n.Ho();case 14:a=e.sent;case 15:if(!a){e.next=25;break}return e.next=18,o.yo(a);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:a=e.sent;case 23:e.next=15;break;case 25:return e.next=27,o.complete();case 27:return u=e.sent,e.next=30,aT(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=fm(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.Ye.saveBundleMetadata(e,t)})}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),um("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}},e,null,[[0,35]])})),function(e,t,n){return r.apply(this,arguments)})(i,t,n).then(function(){i.sharedClientState.notifyBundleLoaded()})},t.next=3,QT(e);case 3:t.t1=t.sent,t.t2=s,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}},t)})))}(n,e._databaseId,t,r),r}(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,Jh.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=fm(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.Ye.getNamedQuery(e,t)})},n.next=3,KT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)})))}(xE(e=uE(e,bE)),t).then(function(t){return t?new dE(e,null,t.query):null})}(this._delegate,e).then(function(e){return e?new $C(t,e):null})}}]),e}(),zC=function(e){p(n,e);var t=v(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new jC(new IE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return KC.forKey(t,this.firestore,null)}}]),n}(SC),ZC=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new zC(t)}return f(e,[{key:"get",value:function(e){var t=this,n=rI(e);return this._delegate.get(n).then(function(e){return new JC(t._firestore,new sC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})}},{key:"set",value:function(e,t,n){var r=rI(e);return n?(FC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var s=rI(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,[s,t,n].concat(o)),this}},{key:"delete",value:function(e){var t=rI(e);return this._delegate.delete(t),this}}]),e}(),HC=function(){function e(t){d(this,e),this._delegate=t}return f(e,[{key:"set",value:function(e,t,n){var r=rI(e);return n?(FC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var s=rI(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,[s,t,n].concat(o)),this}},{key:"delete",value:function(e){var t=rI(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),GC=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return f(e,[{key:"fromFirestore",value:function(e,t){var n=new uC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XC(this._firestore,n),null!=t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new zC(t),n),i.set(n,o)),o}}]),e}();GC.INSTANCES=new WeakMap;var KC=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new zC(t)}return f(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new nI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new nI(this.firestore,vE(this._delegate,e))}catch(t){throw WC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=(0,ef.m9)(e))instanceof fE&&mE(this._delegate,e)}},{key:"set",value:function(e,t){t=FC("DocumentReference.set",t);try{return t?AC(this._delegate,e,t):AC(this._delegate,e)}catch(n){throw WC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?OC(this._delegate,e):OC.apply(void 0,[this._delegate,e,t].concat(r))}catch(o){throw WC(o,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return NC(uE(e.firestore,bE),[new Ak(e._key,vk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QC(n),o=YC(n,function(t){return new JC(e.firestore,new sC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return PC(this._delegate,i,o)}},{key:"get",value:function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=uE(e,fE);var t=uE(e.firestore,bE),n=xE(t),r=new RC(t);return function(e,t){var n=new vm;return e.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=(i=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=fm(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Wn.Rn(e,t)})}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new pm(dm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=fS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(o);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t,n){return i.apply(this,arguments)}),r.next=3,KT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._key).then(function(n){return new sC(t,r,e._key,n,new aC(null!==n&&n.hasLocalMutations,!0),e.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=uE(e,fE);var t=uE(e.firestore,bE);return XT(xE(t),e._key,{source:"server"}).then(function(n){return DC(t,e,n)})}(this._delegate):function(e){e=uE(e,fE);var t=uE(e.firestore,bE);return XT(xE(t),e._key).then(function(n){return DC(t,e,n)})}(this._delegate)).then(function(e){return new JC(t.firestore,new sC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})}},{key:"withConverter",value:function(t){return new e(this.firestore,this._delegate.withConverter(t?GC.getInstance(this.firestore,t):null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!=0)throw new pm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but ".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new fE(n._delegate,r,new Jm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new fE(n._delegate,r,t))}}]),e}();function WC(e,t,n){return e.message=e.message.replace(t,n),e}function QC(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"==typeof r&&!VC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function YC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=VC(e[0])?e[0]:VC(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var JC=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"ref",get:function(){return new KC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return hC(this._delegate,e._delegate)}}]),e}(),XC=function(e){p(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||lm()}(void 0!==t),t}}]),n}(JC),$C=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new zC(t)}return f(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,pC(this._delegate,function(e,t,n){var r=t,i=oC("where",e);return new vC(i,r,n)}(t,n,r)))}catch(i){throw WC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,pC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=oC("orderBy",e);return new gC(r,n)}(t,n)))}catch(r){throw WC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,pC(this._delegate,function(e){return cE("limit",e),new mC("limit",e,"F")}(t)))}catch(n){throw WC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,pC(this._delegate,function(e){return cE("limitToLast",e),new mC("limitToLast",e,"L")}(t)))}catch(n){throw WC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,pC(this._delegate,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yC("startAt",t,!0)}).apply(void 0,arguments)))}catch(t){throw WC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,pC(this._delegate,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yC("startAfter",t,!1)}).apply(void 0,arguments)))}catch(t){throw WC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,pC(this._delegate,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kC("endBefore",t,!0)}).apply(void 0,arguments)))}catch(t){throw WC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,pC(this._delegate,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kC("endAt",t,!1)}).apply(void 0,arguments)))}catch(t){throw WC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return yE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=uE(e,dE);var t=uE(e.firestore,bE),n=xE(t),r=new RC(t);return function(e,t){var n=new vm;return e.asyncQueue.enqueueAndForget((0,Jh.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=(i=(0,Jh.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ub(t,n,!0);case 3:i=e.sent,o=new PS(n,i.zn),a=o.Po(i.documents),s=o.applyChanges(a,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=fS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}},e,null,[[0,10]])})),function(e,t,n){return i.apply(this,arguments)}),r.next=3,KT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._query).then(function(n){return new cC(t,r,e,n)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=uE(e,dE);var t=uE(e.firestore,bE),n=xE(t),r=new RC(t);return $T(n,e._query,{source:"server"}).then(function(n){return new cC(t,r,e,n)})}(this._delegate):function(e){e=uE(e,dE);var t=uE(e.firestore,bE),n=xE(t),r=new RC(t);return fC(e._query),$T(n,e._query).then(function(n){return new cC(t,r,e,n)})}(this._delegate)).then(function(e){return new tI(t.firestore,new cC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QC(n),o=YC(n,function(t){return new tI(e.firestore,new cC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return PC(this._delegate,i,o)}},{key:"withConverter",value:function(t){return new e(this.firestore,this._delegate.withConverter(t?GC.getInstance(this.firestore,t):null))}}]),e}(),eI=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new XC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),tI=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"query",get:function(){return new $C(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map(function(t){return new XC(e._firestore,t)})}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new eI(t._firestore,e)})}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new XC(n._firestore,r))})}},{key:"isEqual",value:function(e){return hC(this._delegate,e._delegate)}}]),e}(),nI=function(e){p(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return f(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new KC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new KC(this.firestore,void 0===e?gE(this._delegate):gE(this._delegate,e))}catch(t){throw WC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=uE(e.firestore,bE),r=gE(e),i=TC(e.converter,t);return NC(n,[UE(ME(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vk.exists(!1))]).then(function(){return r})}(this._delegate,e).then(function(e){return new KC(t.firestore,e)})}},{key:"isEqual",value:function(e){return mE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,this._delegate.withConverter(e?GC.getInstance(this.firestore,e):null))}}]),n}($C);function rI(e){return uE(e,fE)}var iI={Firestore:BC,GeoPoint:AE,Timestamp:Am,Blob:jC,Transaction:ZC,WriteBatch:HC,DocumentReference:KC,DocumentSnapshot:JC,Query:$C,QueryDocumentSnapshot:XC,QuerySnapshot:tI,CollectionReference:nI,FieldPath:function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=k(CE,n)}return f(e,[{key:"isEqual",value:function(e){return(e=(0,ef.m9)(e))instanceof CE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Um.keyField().canonicalString())}}]),e}(),FieldValue:function(){function e(t){d(this,e),this._delegate=t}return f(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new qE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new jE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BE("arrayUnion",t)}).apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zE("arrayRemove",t)}).apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ZE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),setLogLevel:function(e){!function(e){im.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function oI(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs.z;return new Le.y(function(n){var r;return null!=t?t.schedule(function(){r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(e,t)}function aI(e,t){return oI(e,t).pipe((0,Be.U)(function(e){return{payload:e,type:"query"}}))}function sI(e,n){return aI(e,n).pipe(ut(void 0),Uc(),(0,Be.U)(function(e){var n=t(e,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(e){return{type:e.type,payload:e}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(e,t){var n=o.find(function(t){return t.doc.ref.isEqual(e.ref)}),i=null==r?void 0:r.payload.docs.find(function(t){return t.ref.isEqual(e.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(e.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(e.metadata)||a.push({type:"modified",payload:{oldIndex:t,newIndex:t,type:"modified",doc:e}})}),a}))}function uI(e,t,n){return sI(e,n).pipe(lt(function(e,n){return function(e,t,n){return t.forEach(function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return cI(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){var n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return cI(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return cI(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(function(e){return e.payload}),t)},[]),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.y;return e=null!=e?e:Fc,(0,rt.e)(function(n,r){var i,o=!0;n.subscribe(new Ge.Q(r,function(n){var a=t(n);(o||!e(i,a))&&(o=!1,i=a,r.next(n))}))})}(),(0,Be.U)(function(e){return e.map(function(e){return{type:e.type,payload:e}})}))}function cI(e,t,n){for(var r=e.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[t,n].concat(o)),r}function lI(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}!function(e){(function(e,t){e.INTERNAL.registerComponent(new $h.wA("firestore-compat",function(e){return function(e,t){return new BC(e,t,new qC)}(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())},"PUBLIC").setServiceProps(Object.assign({},iI)))})(e),e.registerVersion("@firebase/firestore-compat","0.1.12")}(Wf.Z);var hI=function(){function n(e,t,r){d(this,n),this.ref=e,this.query=t,this.afs=r}return f(n,[{key:"stateChanges",value:function(e){var n=sI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,Be.U)(function(t){return t.filter(function(t){return e.indexOf(t.type)>-1})}))),n.pipe(ut(void 0),Uc(),ht(function(e){var n=t(e,2),r=n[0];return n[1].length>0||!r}),(0,Be.U)(function(e){var n=t(e,2);n[0];return n[1]}),Qh.iC)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(lt(function(e,t){return[].concat(a(e),a(t))},[]))}},{key:"snapshotChanges",value:function(e){var t=lI(e);return uI(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qh.iC)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return aI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(function(n){return n.payload.docs.map(function(n){return t.idField?Object.assign(Object.assign({},n.data()),e({},t.idField,n.id)):n.data()})}),Qh.iC)}},{key:"get",value:function(e){return(0,Ae.D)(this.query.get(e)).pipe(Qh.iC)}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new fI(this.ref.doc(e),this.afs)}}]),n}(),fI=function(){function n(e,t){d(this,n),this.ref=e,this.afs=t}return f(n,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=yI(this.ref.collection(e),t),r=n.ref,i=n.query;return new hI(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return function(e,n){return oI(e,n).pipe(ut(void 0),Uc(),(0,Be.U)(function(e){var n=t(e,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qh.iC)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe((0,Be.U)(function(n){var r=n.payload;return t.idField?Object.assign(Object.assign({},r.data()),e({},t.idField,r.id)):r.data()}))}},{key:"get",value:function(e){return(0,Ae.D)(this.ref.get(e)).pipe(Qh.iC)}}]),n}(),dI=function(){function t(e,n){d(this,t),this.query=e,this.afs=n}return f(t,[{key:"stateChanges",value:function(e){return e&&0!==e.length?sI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(function(t){return t.filter(function(t){return e.indexOf(t.type)>-1})}),ht(function(e){return e.length>0}),Qh.iC):sI(this.query,this.afs.schedulers.outsideAngular).pipe(Qh.iC)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(lt(function(e,t){return[].concat(a(e),a(t))},[]))}},{key:"snapshotChanges",value:function(e){var t=lI(e);return uI(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qh.iC)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return aI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Be.U)(function(n){return n.payload.docs.map(function(n){return t.idField?Object.assign(e({},t.idField,n.id),n.data()):n.data()})}),Qh.iC)}},{key:"get",value:function(e){return(0,Ae.D)(this.query.get(e)).pipe(Qh.iC)}}]),t}(),pI=new s.OlP("angularfire2.enableFirestorePersistence"),vI=new s.OlP("angularfire2.firestore.persistenceSettings"),gI=new s.OlP("angularfire2.firestore.settings"),mI=new s.OlP("angularfire2.firestore.use-emulator");function yI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var kI=function(){var e=function(){function e(n,r,i,o,s,u,c,l,h,f,p,v,g,m,y,k,_){var w;d(this,e),this.schedulers=c;var b=(0,Yh.on)(n,u,r),x=h;f&&Bf(b,u,p,g,m,y,v,k),w=t((0,Yh.cc)("".concat(b.name,".firestore"),"AngularFirestore",b.name,function(){var e=u.runOutsideAngular(function(){return b.firestore()});if(o&&e.settings(o),x&&e.useEmulator.apply(e,a(x)),i&&!K(s)){return[e,u.runOutsideAngular(function(){try{return(0,Ae.D)(e.enablePersistence(l||void 0).then(function(){return!0},function(){return!1}))}catch(t){return"undefined"!=typeof console&&console.warn(t),Pe(!1)}})]}return[e,Pe(!1)]},[o,x,i]),2),this.firestore=w[0],this.persistenceEnabled$=w[1]}return f(e,[{key:"collection",value:function(e,t){var n=yI("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new hI(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new dI(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run(function(){return t});return new fI(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Yh.Dh),s.LFG(Yh.xv,8),s.LFG(pI,8),s.LFG(gI,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Qh.HU),s.LFG(vI,8),s.LFG(mI,8),s.LFG(zf,8),s.LFG(Ff,8),s.LFG(Mf,8),s.LFG(Uf,8),s.LFG(jf,8),s.LFG(Vf,8),s.LFG(qf,8),s.LFG(Lf,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e}(),_I=function(){var e=function(){function e(t){d(this,e),this.afs=t,this.userPostsCollection=t.collection("user-posts"),this.userPosts$=this.userPostsCollection.valueChanges({idField:"id"})}return f(e,[{key:"updatePost",value:function(e){return(0,Ae.D)(this.afs.doc("user-posts/".concat(e.id)).update({purrs:e.purrs++}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(kI))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),wI=function(){var e=function(){function e(t,n,r){d(this,e),this.connectS=t,this.databaseService=n,this.snackBar=r,this.destroy$=new Ne.x}return f(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Gf),s.Y36(_I),s.Y36(Gl))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-create"]],decls:5,vars:0,consts:[["mat-flat-button","","color","primary","type","button","onclick","alert('Hello world!')"],["aria-hidden","false","aria-label","Example home icon"],["alt","Create Post","src","/assets/create.png",1,"placeholder-image"]],template:function(e,t){1&e&&(s.TgZ(0,"button",0),s.TgZ(1,"mat-icon",1),s._uU(2,"cloud_upload"),s.qZA(),s._uU(3," Upload\n"),s.qZA(),s._UZ(4,"img",2))},directives:[su,sc],styles:[".placeholder-image[_ngcontent-%COMP%]{height:1;width:1}"]}),e}(),bI=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-feed"]],decls:1,vars:0,consts:[["alt","Create Post","src","/assets/feed.png",1,"placeholder-image"]],template:function(e,t){1&e&&s._UZ(0,"img",0)},styles:['body[_ngcontent-%COMP%]{margin:0;background-color:#fff;font-family:"Roboto",sans-serif;font-size:12px}h1[_ngcontent-%COMP%]{margin:0;font-size:5em;font-weight:900}h2[_ngcontent-%COMP%]{margin:0;font-size:3em;font-weight:900}h3[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:2em}p[_ngcontent-%COMP%]{margin:0;font-size:.83em}.nav-header[_ngcontent-%COMP%]{height:80px;width:100%;background-color:#000;display:flex}.nav-menu[_ngcontent-%COMP%]{min-height:80px;height:100%;width:100%;display:flex;flex-flow:row;align-items:center;justify-content:center;color:#fff;padding:0 20%}.nav-logo[_ngcontent-%COMP%]{flex-grow:55}.nav-spotifylogo[_ngcontent-%COMP%]{height:50px}.nav-item[_ngcontent-%COMP%]{flex-grow:5;font-size:1.25em;font-weight:700;text-align:center;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{color:#1ed760}.nav-divider[_ngcontent-%COMP%]{height:20px;border-right:1px solid white;flex-grow:1;font-size:1.25em;font-weight:500;text-align:center}.container[_ngcontent-%COMP%]{background-color:#2941ab;width:auto;height:937px}.container-image[_ngcontent-%COMP%]{background-image:url(https://www-growth.scdn.co/static/home/bursts.svg);background-size:170%;background-position:44% 7%;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.container-content[_ngcontent-%COMP%]{display:flex;width:1000px;justify-content:center;flex-flow:row wrap;align-items:center}.container-title[_ngcontent-%COMP%]{font-size:140px;line-height:166px;padding:0 0 40px 40px;margin-left:250px;width:800px;text-indent:-2.1em;color:#1ed760}.container-text[_ngcontent-%COMP%]{box-sizing:border-box;font-size:18px;line-height:24px;padding-bottom:40px;font-weight:500;color:#1ed760;width:900px;text-align:center}.container-button[_ngcontent-%COMP%]{border-radius:50px;background-color:#1ed760;color:#2941ab;font-weight:700;font-size:.9rem;cursor:pointer;padding:1rem 2rem}.footer[_ngcontent-%COMP%]{width:100%;background-color:#000;display:flex;flex-flow:row wrap;padding-bottom:30px}.footer-menu[_ngcontent-%COMP%]{height:300px;width:100%;display:flex;color:#fff;padding:0 20%;margin-top:80px}.footer-logo[_ngcontent-%COMP%]{width:16%;display:flex;flex-flow:column;padding:0 15px}.footer-column[_ngcontent-%COMP%]{width:16%;display:flex;flex-flow:column;padding:20px 15px 0}.footer-title[_ngcontent-%COMP%]{color:#919496;font-size:12px;font-weight:900;line-height:1.4;letter-spacing:.08em;text-transform:uppercase;margin-bottom:15px}.footer-item[_ngcontent-%COMP%]{display:inline-block;font-size:16px;font-weight:400;line-height:1.5;text-decoration:none;padding:3px 0 15px;cursor:pointer}.footer-item[_ngcontent-%COMP%]:hover{color:#1ed760}.footer-spotifylogo[_ngcontent-%COMP%]{width:80%}.footer-divider[_ngcontent-%COMP%]{padding:0 20%;width:100%;display:flex;color:#919496;justify-content:flex-end}.divider-text[_ngcontent-%COMP%]{padding-left:5px}.divider-text[_ngcontent-%COMP%]:hover{color:#1ed760}.footer-social[_ngcontent-%COMP%]{width:16%;display:flex;flex-flow:row;padding:0 15px}.social-icons[_ngcontent-%COMP%]{margin:10px 5px;display:flex;background-color:#222326;height:50px;width:50px;min-height:50px;min-width:50px;border-radius:100px;justify-content:center;align-items:center}.social-icon[_ngcontent-%COMP%]:hover{color:#1ed760;cursor:pointer}.footer-footer[_ngcontent-%COMP%]{color:#fff;padding:0 20%;width:100%;height:50px;display:flex;align-items:center}.fitem[_ngcontent-%COMP%]{color:gray;margin:0 10px}.fitem[_ngcontent-%COMP%]:hover{color:#1ed760}.fitem-end[_ngcontent-%COMP%]{text-align:right;flex-grow:50;color:#919496}@media (max-width: 1200px){.container-title[_ngcontent-%COMP%]{font-size:90px;text-indent:0em;line-height:90px;width:500px;text-align:center;padding:0 0 40px;margin:0}.container-image[_ngcontent-%COMP%]{background-image:url(https://www-growth.scdn.co/static/home/bursts-tablet.svg);background-size:153%;background-position:right 40% center;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.nav-item[_ngcontent-%COMP%]{flex-grow:5;font-size:1em;font-weight:700;text-align:center;cursor:pointer}.footer-menu[_ngcontent-%COMP%]{padding:0 2%}.footer-item[_ngcontent-%COMP%]{font-size:12px}}']}),e}(),xI=function(){var e=function(){function e(t){d(this,e),this.http=t,this.test="How r u?"}return f(e,[{key:"httpGet",value:function(e){return this.http.get(e)}},{key:"httpPost",value:function(e,t){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(t),this.http.post(e,{name:"TestSubject"})}},{key:"sendEmail",value:function(e,t){return this.http.post(e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Pu))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),SI=function(){var e=f(function e(){d(this,e),this.isMusician=!1});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function TI(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",45),s.TgZ(1,"div",46),s.TgZ(2,"h1",47),s._uU(3," R\xe9servez des musiciens plus facilement "),s.qZA(),s.qZA(),s.TgZ(4,"div",48),s.TgZ(5,"h1",49),s._uU(6," Laissez les musiciens venir \xe0 vous "),s.qZA(),s.TgZ(7,"button",50),s.NdJ("click",function(){return s.CHM(n),s.oxw().scrollDown()}),s._uU(8," Commencer "),s.qZA(),s.qZA(),s.qZA()}}function EI(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",45),s.TgZ(1,"h1",47),s._uU(2," Musician booking made easier "),s.qZA(),s.TgZ(3,"div",48),s.TgZ(4,"h1",49),s._uU(5," Let musicians come to you "),s.qZA(),s.TgZ(6,"button",50),s.NdJ("click",function(){return s.CHM(n),s.oxw().scrollDown()}),s._uU(7," Get started "),s.qZA(),s.qZA(),s.qZA()}}function CI(e,t){1&e&&(s.TgZ(0,"div",51),s.TgZ(1,"h1",52),s._uU(2," Pourquoi OpenBook? "),s.qZA(),s.TgZ(3,"div",53),s.TgZ(4,"p"),s._uU(5," La r\xe9servation de musiciens pour les \xe9v\xe9nements est complexe, "),s.qZA(),s.TgZ(6,"p"),s._uU(7," ardue et d\xe9centralis\xe9e. Nous simplifions le processus en permettant "),s.qZA(),s.TgZ(8,"p"),s._uU(9," aux h\xf4tes de publier des gigs sur notre plateforme. Nous laissons les "),s.qZA(),s.TgZ(10,"p"),s._uU(11,"musiciens venir \xe0 vous!"),s.qZA(),s.qZA(),s.qZA())}function II(e,t){1&e&&(s.TgZ(0,"div",51),s.TgZ(1,"h1",52),s._uU(2," Why OpenBook? "),s.qZA(),s.TgZ(3,"div",53),s.TgZ(4,"p"),s._uU(5," The booking of musicians for events is complex, time-consuming "),s.qZA(),s.TgZ(6,"p"),s._uU(7," and decentralized. We simplify the process by allowing hosts to "),s.qZA(),s.TgZ(8,"p"),s._uU(9," publish gigs on our platform. We let the musicians come to you! "),s.qZA(),s.qZA(),s.qZA())}function RI(e,t){1&e&&(s.TgZ(0,"div",54),s.TgZ(1,"h1",55),s._uU(2," Une plateforme int\xe9gr\xe9e pour communiquer, r\xe9server et payer les musiciens de vos \xe9v\xe9nements "),s.qZA(),s.TgZ(3,"div",56),s.TgZ(4,"p"),s._uU(5," Communiquez, administrez vos r\xe9servations et sautez le processus de "),s.qZA(),s.TgZ(6,"p"),s._uU(7,"recherche gr\xe2ce \xe0 notre mod\xe8le de publication des gigs."),s.qZA(),s.qZA(),s.qZA())}function AI(e,t){1&e&&(s.TgZ(0,"div",54),s.TgZ(1,"h1",55),s._uU(2," An all-in-one platform to connect, book and pay artists for your events "),s.qZA(),s.TgZ(3,"div",56),s.TgZ(4,"p"),s._uU(5," Easily connect to musicians, manage your bookings and skip the "),s.qZA(),s.TgZ(6,"p"),s._uU(7,"search process through our post-a-gig model."),s.qZA(),s.qZA(),s.qZA())}function OI(e,t){1&e&&(s.TgZ(0,"h1",57),s._uU(1," Comment \xe7a fonctionne? "),s.qZA())}function PI(e,t){1&e&&(s.TgZ(0,"div",58),s.TgZ(1,"div",59),s._UZ(2,"i",60),s.TgZ(3,"p",48),s._uU(4," Publiez votre gig sur le Tableau des Gigs "),s.qZA(),s.TgZ(5,"p"),s._uU(6,"avec les d\xe9tails de votre \xe9v\xe9nement"),s.qZA(),s.qZA(),s.TgZ(7,"div",59),s._UZ(8,"i",61),s.TgZ(9,"p",48),s._uU(10,"Choisissez parmi les musiciens qui ont"),s.qZA(),s.TgZ(11,"p"),s._uU(12,"appliqu\xe9s pour votre gig"),s.qZA(),s.qZA(),s.TgZ(13,"div",62),s._UZ(14,"i",63),s.TgZ(15,"p",48),s._uU(16," Payez vos musiciens \xe0 travers la "),s.qZA(),s.TgZ(17,"p"),s._uU(18," plateforme et profitez de votre"),s.qZA(),s.TgZ(19,"p"),s._uU(20,"\xe9v\xe9nement!"),s.qZA(),s.qZA(),s.qZA())}function NI(e,t){1&e&&(s.TgZ(0,"h1",57),s._uU(1," How it works "),s.qZA())}function DI(e,t){1&e&&(s.TgZ(0,"div",58),s.TgZ(1,"div",59),s._UZ(2,"i",60),s.TgZ(3,"p",48),s._uU(4," Post a gig on the job Board with the details "),s.qZA(),s.TgZ(5,"p"),s._uU(6,"of your event"),s.qZA(),s.qZA(),s.TgZ(7,"div",59),s._UZ(8,"i",61),s.TgZ(9,"p",48),s._uU(10,"Choose from musicians who apply and"),s.qZA(),s.TgZ(11,"p"),s._uU(12,"confirm your selection"),s.qZA(),s.qZA(),s.TgZ(13,"div",59),s._UZ(14,"i",63),s.TgZ(15,"p",48),s._uU(16," Pay for your artists through our secure "),s.qZA(),s.TgZ(17,"p"),s._uU(18,"platform and enjoy your event!"),s.qZA(),s.qZA(),s.qZA())}function LI(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",64),s.TgZ(1,"h1",65),s._uU(2," Fonctionnalit\xe9s des h\xf4tes "),s.qZA(),s.TgZ(3,"p",66),s._uU(4,"Les h\xf4tes peuvent"),s.qZA(),s.TgZ(5,"div",67),s.TgZ(6,"p"),s._UZ(7,"i",68),s._uU(8,"Cr\xe9er un compte personnel ou professionnel "),s.qZA(),s.TgZ(9,"p"),s._UZ(10,"i",68),s._uU(11,"Publier des gigs sur le Tableau des Gigs "),s.qZA(),s.TgZ(12,"p"),s._UZ(13,"i",68),s._uU(14,"Accepter ou rejeter les applications des musiciens "),s.qZA(),s.qZA(),s.TgZ(15,"button",29),s.NdJ("click",function(){return s.CHM(n),s.oxw().isHost()}),s._uU(16," S'inscrire comme h\xf4te "),s.qZA(),s.qZA()}}function FI(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",64),s.TgZ(1,"h1",65),s._uU(2," Hosts features "),s.qZA(),s.TgZ(3,"p",66),s._uU(4,"Hosts can"),s.qZA(),s.TgZ(5,"div",67),s.TgZ(6,"p"),s._UZ(7,"i",68),s._uU(8,"Create a personal or business profile "),s.qZA(),s.TgZ(9,"p"),s._UZ(10,"i",68),s._uU(11,"Create gigs and publish them on the job board "),s.qZA(),s.TgZ(12,"p"),s._UZ(13,"i",68),s._uU(14,"Accept or reject Musician's applications "),s.qZA(),s.qZA(),s.TgZ(15,"button",29),s.NdJ("click",function(){return s.CHM(n),s.oxw().isHost()}),s._uU(16,"Register as a Host"),s.qZA(),s.qZA()}}function MI(e,t){1&e&&(s.TgZ(0,"h1",65),s._uU(1," Fonctionnalit\xe9s des musiciens "),s.qZA())}function UI(e,t){1&e&&(s.TgZ(0,"p",66),s._uU(1," Les musiciens peuvent "),s.qZA())}function jI(e,t){1&e&&(s.TgZ(0,"div",67),s.TgZ(1,"p"),s._UZ(2,"i",68),s._uU(3,"Cr\xe9er un profil personnel ou pour leur band "),s.qZA(),s.TgZ(4,"p"),s._UZ(5,"i",68),s._uU(6,"Appliquer pour des gigs "),s.qZA(),s.TgZ(7,"p"),s._UZ(8,"i",68),s._uU(9,"Suivre vos gains "),s.qZA(),s.qZA())}function VI(e,t){1&e&&(s.TgZ(0,"h1",65),s._uU(1," Musician features "),s.qZA())}function qI(e,t){1&e&&(s.TgZ(0,"p",66),s._uU(1," Musicians can "),s.qZA())}function BI(e,t){1&e&&(s.TgZ(0,"div",67),s.TgZ(1,"p"),s._UZ(2,"i",68),s._uU(3,"Create a personal or band profile "),s.qZA(),s.TgZ(4,"p"),s._UZ(5,"i",68),s._uU(6,"Apply for gigs "),s.qZA(),s.TgZ(7,"p"),s._UZ(8,"i",68),s._uU(9,"Track earnings "),s.qZA(),s.qZA())}function zI(e,t){1&e&&(s.TgZ(0,"h1",69),s._uU(1," Contactez-nous "),s.qZA())}function ZI(e,t){1&e&&(s.TgZ(0,"h1",69),s._uU(1," Sign-up to our mailing list to learn more! "),s.qZA())}function HI(e,t){1&e&&(s.TgZ(0,"h2",40),s._uU(1,"Pr\xe9nom"),s.qZA())}function GI(e,t){1&e&&(s.TgZ(0,"h2",40),s._uU(1,"First Name"),s.qZA())}function KI(e,t){1&e&&(s.TgZ(0,"h2",40),s._uU(1,"Nom"),s.qZA())}function WI(e,t){1&e&&(s.TgZ(0,"h2",40),s._uU(1,"Last Name"),s.qZA())}function QI(e,t){1&e&&(s.TgZ(0,"h2",40),s._uU(1,"Courriel*"),s.qZA())}function YI(e,t){1&e&&(s.TgZ(0,"h2",40),s._uU(1,"Email*"),s.qZA())}function JI(e,t){1&e&&(s.TgZ(0,"h2",40),s._uU(1,"T\xe9l\xe9phone"),s.qZA())}function XI(e,t){1&e&&(s.TgZ(0,"h2",40),s._uU(1,"Phone"),s.qZA())}function $I(e,t){if(1&e&&(s.TgZ(0,"p",70),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.hij(" ",n.getSubmitValue()," ")}}var eR=[{path:"",redirectTo:"/wip",pathMatch:"full"},{path:"feed",component:bI},{path:"create",component:wI,canActivate:[Hf],data:{authGuardPipe:function(){return function(e){return(0,Hh.z)(Zf,(0,Be.U)(function(t){return t||e}))}(["feed"])}}},{path:"wip",component:function(){var e=function(){function e(t,n){d(this,e),this.httpService=t,this.wipSwitchService=n,this.isFrench=!0,this.name="",this.message="",this.phoneNumber="",this.email="",this.familyName="",this.submitMessage=""}return f(e,[{key:"ngOnInit",value:function(){}},{key:"activateFrench",value:function(){this.isFrench=!0}},{key:"deactivateFrench",value:function(){this.isFrench=!1}},{key:"sendMessage",value:function(){var e=this;if(this.verifyName())if(this.verifyFamilyName())if(this.verifyEmail())if(this.verifyPhoneNumber())if(this.verifyMessage())try{this.sendMail()}catch(t){this.submitMessage=this.isFrench?"Il est impossible d'envoyer un message \xe0 ce moment...":"Your message cannot be sent currently..."}else this.submitMessage=this.isFrench?"Message invalide!":"Invalid message!";else this.submitMessage=this.isFrench?"Num\xe9ro de t\xe9l\xe9phone invalide (10 chiffres)!":"Invalid phone number (10 digits)!";else this.submitMessage=this.isFrench?"Adresse courriel invalide (il faut @)!":"Invalid email (needed @)!";else this.submitMessage=this.isFrench?"Nom erron\xe9, seulement les lettres, -, (espace) et ' sont autoris\xe9s!":"Invalid family name, only letters, -, (space) and ' are authorized!";else this.submitMessage=this.isFrench?"Pr\xe9nom erron\xe9, seulement les lettres, -, (espace) et ' sont autoris\xe9s!":"Invalid first name, only letters, -, (space) and ' are authorized!";setTimeout(function(){e.submitMessage=""},4e3)}},{key:"scrollDown",value:function(){window.scroll({top:document.body.scrollHeight,left:0,behavior:"smooth"})}},{key:"verifyName",value:function(){return!!/^[a-zA-Z]+[-'\s]{0,1}[a-zA-Z]+[-'\s]{0,1}[a-zA-Z]+$/.test(this.name)}},{key:"verifyFamilyName",value:function(){return!!/^[a-zA-Z]+[-'\s]{0,1}[a-zA-Z]+[-'\s]{0,1}[a-zA-Z]+$/.test(this.familyName)}},{key:"verifyPhoneNumber",value:function(){return!(14!==this.phoneNumber.length||!/^\(\d{3}\)\s\d{3}\-\d{4}$/.test(this.phoneNumber))}},{key:"verifyEmail",value:function(){return!(this.email.search("@")<0)}},{key:"verifyMessage",value:function(){return!(this.message.length<20||this.message.length>3e3)}},{key:"sendMail",value:function(){var e=this,t={name:this.name+" "+this.familyName,email:this.email,message:this.message,phone:"Vous pouvez m'appeller au "+this.phoneNumber+"."};console.log("deploy send email"),this.httpService.sendEmail("https://us-central1-server-deploy-testing2.cloudfunctions.net/app/sendmail",t).subscribe(function(t){e.submitMessage=e.isFrench?"Merci de nous \xe9crire!":"Thanks to reaching out to our team!",alert(e.submitMessage)},function(t){e.submitMessage=e.isFrench?"Une erreur s'est produite...":"An error has occurred..."},function(){})}},{key:"getSubmitValue",value:function(){return this.submitMessage}},{key:"isHost",value:function(){this.wipSwitchService.isMusician=!1}},{key:"isMusician",value:function(){this.wipSwitchService.isMusician=!0}},{key:"updatePhoneNumber",value:function(){/^\d{3}$/.test(this.phoneNumber)?this.phoneNumber="("+this.phoneNumber+") ":/^\(\d{3}\)\s\d{3}$/.test(this.phoneNumber)&&(this.phoneNumber+="-")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(xI),s.Y36(SI))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-wip"]],decls:79,vars:41,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],[1,"container"],[1,"topnav"],["src","assets/OpenBookImages/companyName.PNG","alt","logo",2,"margin-left","5%","margin-top","1%","width","222px","height","59px"],[2,"margin-right","5%",3,"ngClass","click"],[2,"margin-right","0.5%",3,"ngClass","click"],[1,"image-container"],["class","halved-container","style","text-align: center; width: 55%",4,"ngIf"],[1,"halved-container",2,"width","45%","text-align","left"],["src","assets/OpenBookImages/Img1.jpg","alt","1st Image",1,"img-spec"],[1,"h1",2,"color","#041b3b","margin-bottom","5%"],[1,"image-container",2,"margin-top","2%"],[1,"halved-container",2,"width","45%"],["src","assets/OpenBookImages/Img5.jpg","alt","2nd Image",1,"img"],["class","halved-container","style","width: 55%; position: absolute; top: -25%; left: 50%",4,"ngIf"],["class","halved-container2",4,"ngIf"],[1,"halved-container",2,"width","45%","margin-left","50%"],["src","assets/OpenBookImages/Img3.jpg","alt","3rd image",1,"img-spec-2"],["class","h3","style","margin-top: 10%; margin-bottom: -2.5%",4,"ngIf"],["class","image-container","style","margin-bottom: 6%",4,"ngIf"],["class","halved-container","style","position: absolute; top: -25%",4,"ngIf"],[1,"halved-container",2,"margin-left","50%"],["src","assets/OpenBookImages/Img2.jpg","alt","3rd Image",1,"img"],[1,"halved-container"],["src","assets/OpenBookImages/Img4.jpg","alt","4th Image",1,"img"],[1,"halved-container",2,"position","absolute","left","45%","top","-25%"],["class","h2","style","\n                    text-align: left;\n                    margin-left: 25%;\n                    color: #041b3b;\n                    margin-bottom: 5%;\n                ",4,"ngIf"],["style","margin-left: 25%; text-align: left",4,"ngIf"],["style","text-align: left; margin-left: 30%",4,"ngIf"],["routerLink","/under-development",3,"click"],["class","h2","style","\n            margin-top: 12%;\n            text-align: left;\n            margin-left: 26%;\n            margin-bottom: 2%;\n        ",4,"ngIf"],[2,"display","inline","width","100%","height","40%","margin-bottom","5%"],[2,"display","flex","width","50%","margin-left","26%","margin-top","1%"],[2,"width","50%","display","inline"],["class","info-text",4,"ngIf"],["type","\u201ctext\u201d","placeholder","e.g., Kat",3,"ngModel","ngModelChange"],["type","\u201ctext\u201d","placeholder","e.g., Jones",3,"ngModel","ngModelChange"],["type","mail","placeholder","e.g., example@mail.com",3,"ngModel","ngModelChange"],["type","tel","placeholder","e.g., 1234567890",3,"ngModel","ngModelChange","click"],[2,"display","inline","width","100%"],[1,"info-text"],["type","\u201ctext\u201d",2,"width","95%",3,"placeholder","ngModel","ngModelChange"],[1,"submit-button",3,"click"],["class","p2","style","text-align: center; margin-top: 0%; margin-bottom: 3%",4,"ngIf"],[1,"fa","fa-copyright"],[1,"halved-container",2,"text-align","center","width","55%"],[2,"margin-top","13.5%"],[1,"h1",2,"margin-left","5%"],[2,"margin-top","5%"],[1,"h2-replica",2,"margin-left","0%"],[2,"margin-top","2%",3,"click"],[1,"halved-container",2,"width","55%","position","absolute","top","-25%","left","50%"],[1,"h2",2,"text-align","left","color","#041b3b","margin-bottom","5%"],[2,"text-align","left"],[1,"halved-container2"],[1,"h2",2,"margin-left","10%","color","#041b3b","text-align","left"],[2,"margin-top","8%","text-align","center","margin-left","5%"],[1,"h3",2,"margin-top","10%","margin-bottom","-2.5%"],[1,"image-container",2,"margin-bottom","6%"],[2,"width","33.33%","text-align","center","margin-top","5%","display","inline"],[1,"fa","fa-home",2,"color","#18437b","font-size","66px"],[1,"fa","fa-refresh",2,"color","#18437b","font-size","66px"],[2,"width","33.33%","text-align","center","margin-top","5%","display","inline","margin-right","5%"],[1,"fa","fa-arrow-circle-o-right",2,"color","#18437b","font-size","66px"],[1,"halved-container",2,"position","absolute","top","-25%"],[1,"h2",2,"text-align","left","margin-left","25%","color","#041b3b","margin-bottom","5%"],[2,"margin-left","25%","text-align","left"],[2,"text-align","left","margin-left","30%"],[1,"fa","fa-circle",2,"font-size","8px","margin-right","2%"],[1,"h2",2,"margin-top","12%","text-align","left","margin-left","26%","margin-bottom","2%"],[1,"p2",2,"text-align","center","margin-top","0%","margin-bottom","3%"]],template:function(e,t){1&e&&(s._UZ(0,"link",0),s.TgZ(1,"div",1),s.TgZ(2,"header",2),s._UZ(3,"img",3),s.TgZ(4,"a",4),s.NdJ("click",function(){return t.deactivateFrench()}),s._uU(5,"Eng"),s.qZA(),s.TgZ(6,"a",5),s.NdJ("click",function(){return t.activateFrench()}),s._uU(7,"Fr"),s.qZA(),s.qZA(),s.TgZ(8,"div",6),s.YNc(9,TI,9,0,"div",7),s.YNc(10,EI,8,0,"div",7),s.TgZ(11,"div",8),s._UZ(12,"img",9),s.qZA(),s.qZA(),s.TgZ(13,"h1",10),s._uU(14),s.qZA(),s.TgZ(15,"div",11),s.TgZ(16,"div",12),s._UZ(17,"img",13),s.qZA(),s.YNc(18,CI,12,0,"div",14),s.YNc(19,II,10,0,"div",14),s.qZA(),s.TgZ(20,"div",6),s.YNc(21,RI,8,0,"div",15),s.YNc(22,AI,8,0,"div",15),s.TgZ(23,"div",16),s._UZ(24,"img",17),s.qZA(),s.qZA(),s.YNc(25,OI,2,0,"h1",18),s.YNc(26,PI,21,0,"div",19),s.YNc(27,NI,2,0,"h1",18),s.YNc(28,DI,19,0,"div",19),s.TgZ(29,"div",11),s.YNc(30,LI,17,0,"div",20),s.YNc(31,FI,17,0,"div",20),s.TgZ(32,"div",21),s._UZ(33,"img",22),s.qZA(),s.qZA(),s.TgZ(34,"div",11),s.TgZ(35,"div",23),s._UZ(36,"img",24),s.qZA(),s.TgZ(37,"div",25),s.YNc(38,MI,2,0,"h1",26),s.YNc(39,UI,2,0,"p",27),s.YNc(40,jI,10,0,"div",28),s.YNc(41,VI,2,0,"h1",26),s.YNc(42,qI,2,0,"p",27),s.YNc(43,BI,10,0,"div",28),s.TgZ(44,"button",29),s.NdJ("click",function(){return t.isMusician()}),s._uU(45),s.qZA(),s.qZA(),s.qZA(),s.YNc(46,zI,2,0,"h1",30),s.YNc(47,ZI,2,0,"h1",30),s.TgZ(48,"div",31),s.TgZ(49,"div",32),s.TgZ(50,"div",33),s.YNc(51,HI,2,0,"h2",34),s.YNc(52,GI,2,0,"h2",34),s.TgZ(53,"input",35),s.NdJ("ngModelChange",function(e){return t.name=e}),s.qZA(),s.qZA(),s.TgZ(54,"div",33),s.YNc(55,KI,2,0,"h2",34),s.YNc(56,WI,2,0,"h2",34),s.TgZ(57,"input",36),s.NdJ("ngModelChange",function(e){return t.familyName=e}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(58,"div",32),s.TgZ(59,"div",33),s.YNc(60,QI,2,0,"h2",34),s.YNc(61,YI,2,0,"h2",34),s.TgZ(62,"input",37),s.NdJ("ngModelChange",function(e){return t.email=e}),s.qZA(),s.qZA(),s.TgZ(63,"div",33),s.YNc(64,JI,2,0,"h2",34),s.YNc(65,XI,2,0,"h2",34),s._uU(66),s.TgZ(67,"input",38),s.NdJ("ngModelChange",function(e){return t.phoneNumber=e})("click",function(){return t.updatePhoneNumber()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(68,"div",32),s.TgZ(69,"div",39),s.TgZ(70,"h2",40),s._uU(71,"Message"),s.qZA(),s.TgZ(72,"input",41),s.NdJ("ngModelChange",function(e){return t.message=e}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(73,"button",42),s.NdJ("click",function(){return t.sendMessage()}),s._uU(74),s.qZA(),s.YNc(75,$I,2,1,"p",43),s.qZA(),s.TgZ(76,"footer"),s._UZ(77,"i",44),s._uU(78," 2023 by OpenBook"),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Q6J("ngClass",t.isFrench?"not":"active"),s.xp6(2),s.Q6J("ngClass",t.isFrench?"active":"not"),s.xp6(3),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(4),s.hij(" ",t.isFrench?"Bienvenue sur OpenBook":"Welcome to OpenBook"," "),s.xp6(4),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(2),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(3),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(2),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(7),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(2),s.hij(" ",t.isFrench?"S'inscrire comme Musicien":"Register as a Musician"," "),s.xp6(1),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(4),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(1),s.Q6J("ngModel",t.name),s.xp6(2),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(1),s.Q6J("ngModel",t.familyName),s.xp6(3),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(1),s.Q6J("ngModel",t.email),s.xp6(2),s.Q6J("ngIf",t.isFrench),s.xp6(1),s.Q6J("ngIf",!t.isFrench),s.xp6(1),s.hij(" ",t.updatePhoneNumber()," "),s.xp6(1),s.Q6J("ngModel",t.phoneNumber),s.xp6(5),s.Q6J("placeholder",t.isFrench?"Tapez votre message et les d\xe9tails de votre \xe9v\xe8nement ici...":"Type your questions and the details of your event here...")("ngModel",t.message),s.xp6(2),s.hij(" ",t.isFrench?"Soumettre":"Submit"," "),s.xp6(1),s.Q6J("ngIf",""!==t.getSubmitValue()))},directives:[B,z,ti,nh,_h,jh],styles:['@import"https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap";@font-face{font-family:"Avenir";src:url(FontsFree-Net-Avenir-Light.3d58440667d5d20a9f02.ttf)}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:3950px;max-height:3950px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth;padding-left:3%;padding-right:3%}.topnav[_ngcontent-%COMP%]{background-color:#fdfdfd;overflow:hidden}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1.5%;float:right;color:#000;text-align:center;padding:14px 16px;text-decoration:none;font-size:16px;font-family:"Avenir",Helvetica,sans-serif;font-weight:bold;cursor:pointer}.topnav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:150%;font-size:x-large;color:#18437b;margin-left:1%;font-family:"Quicksand",sans-serif}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:gray;transition-delay:.15s}.topnav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:gray}.open-book-logo[_ngcontent-%COMP%]{margin-left:5%}.title-zone[_ngcontent-%COMP%]{width:100%;height:3%;text-align:center}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative}.halved-container[_ngcontent-%COMP%]{display:inline;width:50%;height:60%;text-align:center}.h1[_ngcontent-%COMP%]{font-size:40px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:28px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:28px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:32px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:19px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:3900px;width:100%}button[_ngcontent-%COMP%]{background-color:#041b3b;color:#fff;text-align:center;font-size:16px;border-radius:24px;padding:12px 14px;border:none;margin-top:10%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#1c65a1}.info-text[_ngcontent-%COMP%]{font-size:22px;color:#373b4d;text-align:left}input[_ngcontent-%COMP%]{border:solid 2px;color:#000;background-color:#fff;border-radius:0%;width:90%;font-style:italic;font-family:"Avenir",Helvetica,sans-serif;padding:10px}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:49%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:#000;transition-delay:.15s}.img[_ngcontent-%COMP%]{width:450px;height:450px}.img-spec[_ngcontent-%COMP%]{width:497px;height:418px}.img-spec-2[_ngcontent-%COMP%]{width:520px;height:470px}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-25%}@media only screen and (max-width: 1200px){.img[_ngcontent-%COMP%]{margin-top:25%;width:300px;height:300px}.img-spec[_ngcontent-%COMP%]{width:331px;height:276px}.img-spec-2[_ngcontent-%COMP%]{width:380px;height:278px}.h1[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:18px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:24px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:14px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:3380px;width:100%}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:3450px;max-height:3450px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:50%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;margin-bottom:5%}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-75%}}@media only screen and (max-width: 900px){.img[_ngcontent-%COMP%]{margin-top:25%;width:300px;height:300px}.img-spec[_ngcontent-%COMP%]{width:331px;height:276px}.img-spec-2[_ngcontent-%COMP%]{width:380px;height:278px}.h1[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:18px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:24px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:14px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b;max-width:40ch}.p2[_ngcontent-%COMP%]{font-size:14px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b;max-width:100%;text-align:center}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:3070px;width:100%}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:3100px;max-height:3100px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:50.5%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;margin-bottom:5%}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-75%}}@media only screen and (max-width: 700px){.img[_ngcontent-%COMP%]{margin-top:25%;width:250px;height:250px}.img-spec[_ngcontent-%COMP%]{width:305px;height:254px}.img-spec-2[_ngcontent-%COMP%]{margin-top:30%;width:342px;height:250px}.h1[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:18px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:24px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:14px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b;max-width:30ch;text-align:center}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:3550px;width:100%}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:3600px;max-height:3600px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:51%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;margin-bottom:25%;margin-top:10%}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-75%}}@media only screen and (max-width: 600px){.img[_ngcontent-%COMP%]{margin-top:25%;width:250px;height:250px}.img-spec[_ngcontent-%COMP%]{width:255px;height:212px}.img-spec-2[_ngcontent-%COMP%]{margin-top:30%;width:293px;height:214px}.h1[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:18px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:24px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:13px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b;max-width:30ch;text-align:center}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:3450px;width:100%}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:3500px;max-height:3500px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:51.5%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;margin-bottom:30%;margin-top:10%}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-75%}}@media only screen and (max-width: 500px){.img[_ngcontent-%COMP%]{margin-top:25%;width:140px;height:140px}.img-spec[_ngcontent-%COMP%]{width:143px;height:119px}.img-spec-2[_ngcontent-%COMP%]{margin-top:30%;width:164px;height:120px}.h1[_ngcontent-%COMP%]{font-size:22px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:14px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:14px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:15px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:11px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b;max-width:20ch;text-align:center}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:4925px;width:100%}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:4950px;max-height:4950px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:52.5%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;margin-bottom:100%;margin-top:50%}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-75%}.info-text[_ngcontent-%COMP%]{font-size:14px;color:#373b4d;text-align:left}button[_ngcontent-%COMP%]{background-color:#041b3b;color:#fff;text-align:center;font-size:12px;border-radius:24px;padding:12px 14px;border:none;margin-top:10%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1.5%;float:right;color:#000;text-align:center;padding:14px 16px;text-decoration:none;font-size:10px;font-family:"Avenir",Helvetica,sans-serif;font-weight:bold;cursor:pointer}.topnav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:150%;font-size:14px;color:#18437b;margin-left:1%;font-family:"Quicksand",sans-serif}}']}),e}()},{path:"under-development",component:function(){var e=function(){function e(t){d(this,e),this.wipSwitchService=t,this.isFrench=!0}return f(e,[{key:"ngOnInit",value:function(){}},{key:"activateFrench",value:function(){this.isFrench=!0}},{key:"deactivateFrench",value:function(){this.isFrench=!1}},{key:"getIsMusician",value:function(){return this.wipSwitchService.isMusician}},{key:"getIsFrench",value:function(){return this.isFrench}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(SI))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-under-construction-page"]],decls:22,vars:6,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],[1,"container"],[1,"topnav"],["src","assets/OpenBookImages/companyName.PNG","alt","logo",2,"margin-left","8%","margin-top","1%","width","222px","height","59px"],[2,"margin-right","5%",3,"ngClass","click"],[2,"margin-right","0.5%",3,"ngClass","click"],[1,"image-container"],[1,"circle"],[1,"text-container"],[1,"h2"],["routerLink","/wip"],[1,"fa","fa-copyright"]],template:function(e,t){1&e&&(s._UZ(0,"link",0),s.TgZ(1,"div",1),s.TgZ(2,"header",2),s._UZ(3,"img",3),s.TgZ(4,"a",4),s.NdJ("click",function(){return t.deactivateFrench()}),s._uU(5,"Eng"),s.qZA(),s.TgZ(6,"a",5),s.NdJ("click",function(){return t.activateFrench()}),s._uU(7,"Fr"),s.qZA(),s.qZA(),s.TgZ(8,"div",6),s._UZ(9,"div",7),s.TgZ(10,"div",8),s.TgZ(11,"h1",9),s._uU(12),s.qZA(),s.TgZ(13,"h1",9),s._uU(14),s.qZA(),s.TgZ(15,"h1",9),s._uU(16),s.qZA(),s.TgZ(17,"button",10),s._uU(18),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"footer"),s._UZ(20,"i",11),s._uU(21," 2023 by OpenBook"),s.qZA()),2&e&&(s.xp6(4),s.Q6J("ngClass",t.isFrench?"not":"active"),s.xp6(2),s.Q6J("ngClass",t.isFrench?"active":"not"),s.xp6(6),s.hij(" ",t.isFrench?"Notre site est en construction.":"Our website is under development."," "),s.xp6(2),s.hij(" ",t.isFrench?"Cette fonctionnalit\xe9 n'est pas encore disponible.":"The said functionality isn't available yet."," "),s.xp6(2),s.hij(" ",t.isFrench?t.getIsMusician()?"Pour s'enregistrer comme musicien, envoyez nous un message.":"Pour r\xe9server un musicien, envoyez-nous un message.":t.getIsMusician()?"To register as a musician, please contact us.":"To book a musician, fill out the form."," "),s.xp6(2),s.hij(" ",t.isFrench?"Retour au menu principal":"Back to main menu"," "))},directives:[B,ti],styles:['@import"https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap";@font-face{font-family:"Avenir";src:url(FontsFree-Net-Avenir-Light.3d58440667d5d20a9f02.ttf)}.container[_ngcontent-%COMP%]{height:100%;width:100%;max-height:100%;max-width:100%;overflow:hidden;display:inline;padding-left:3%;padding-right:3%}.image-container[_ngcontent-%COMP%]{background-color:#ebeaed;background-repeat:no-repeat;background-position:center center;width:100%;max-width:100%;height:50%;max-height:50%;padding-top:15%;text-align:center;overflow:hidden}.circle[_ngcontent-%COMP%]{border-radius:50%;width:70%;height:75%;background-color:#f3f2f4;position:fixed;margin-left:50%;bottom:8%;top:16%;z-index:.1}.text-container[_ngcontent-%COMP%]{position:fixed;width:50%;height:50%;max-height:50%;max-width:50%;top:40%;left:25%}.topnav[_ngcontent-%COMP%]{background-color:#fdfdfd;overflow:hidden}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1.5%;float:right;color:#000;text-align:center;padding:14px 16px;text-decoration:none;font-size:16px;font-family:"Avenir",Helvetica,sans-serif;font-weight:bold;cursor:pointer}.topnav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:150%;font-size:x-large;color:#18437b;margin-left:3.5%;font-family:"Quicksand",sans-serif}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:gray;transition-delay:.15s}.topnav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:gray}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:95%;width:100%;background-color:#fdfdfd}.h2[_ngcontent-%COMP%]{font-size:24px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;color:#000}button[_ngcontent-%COMP%]{background-color:#041b3b;color:#fff;text-align:center;font-size:16px;border-radius:24px;padding:12px 14px;border:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#1c65a1}@media only screen and (max-width: 1000px){.image-container[_ngcontent-%COMP%]{background-color:#ebeaed;background-repeat:no-repeat;background-position:center center;width:100%;max-width:100%;height:65%;max-height:65%;text-align:center;overflow:hidden}.h2[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;color:#000}.circle[_ngcontent-%COMP%]{border-radius:50%;width:70%;height:70%;background-color:#f3f2f4;position:fixed;margin-left:50%;bottom:10%;top:16%;z-index:.1}button[_ngcontent-%COMP%]{background-color:#041b3b;color:#fff;text-align:center;font-size:20px;border-radius:24px;padding:12px 14px;border:none;margin-top:15%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1.5%;float:right;color:#000;text-align:center;padding:14px 16px;text-decoration:none;font-size:16px;font-family:"Avenir",Helvetica,sans-serif;font-weight:bold;cursor:pointer}.topnav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:150%;font-size:x-large;color:#18437b;margin-left:1%;font-family:"Quicksand",sans-serif}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:96%;width:100%;background-color:#fdfdfd}.text-container[_ngcontent-%COMP%]{position:fixed;width:70%;height:50%;max-height:50%;max-width:70%;top:30%;left:15%}}@media only screen and (max-width: 500px){.image-container[_ngcontent-%COMP%]{background-color:#ebeaed;background-repeat:no-repeat;background-position:center center;width:100%;max-width:100%;height:60%;max-height:60%;text-align:center;overflow:hidden}.h2[_ngcontent-%COMP%]{font-size:12px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;color:#000}.circle[_ngcontent-%COMP%]{border-radius:50%;width:60%;height:60%;background-color:#f3f2f4;position:fixed;margin-left:50%;bottom:8%;z-index:.1}button[_ngcontent-%COMP%]{background-color:#041b3b;color:#fff;text-align:center;font-size:12px;border-radius:24px;padding:12px 14px;border:none;margin-top:4%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1.5%;float:right;color:#000;text-align:center;padding:14px 16px;text-decoration:none;font-size:10px;font-family:"Avenir",Helvetica,sans-serif;font-weight:bold;cursor:pointer}.topnav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:150%;font-size:14px;color:#18437b;margin-left:1%;font-family:"Quicksand",sans-serif}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:96%;width:100%;background-color:#fdfdfd}.text-container[_ngcontent-%COMP%]{position:fixed;width:70%;height:50%;max-height:50%;max-width:70%;top:20%;left:15%}}']}),e}()}],tR=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[di.forRoot(eR,{relativeLinkResolution:"legacy"})],di]}),e}(),nR={projectId:"openbook-1",appId:"1:813930860166:web:700b12450ff6d00fa20b07",storageBucket:"openbook-1.appspot.com",apiKey:"AIzaSyARTwBN1wSqGlfAU1kw-Qj-MBOMXIl4Gog",authDomain:"openbook-1.firebaseapp.com",messagingSenderId:"813930860166",measurementId:"G-LZ78491RM3"},rR=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Yh.hO.initializeApp(nR)]]}),e}(),iR=function(){var e=f(function e(){d(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e,bootstrap:[bi]}),e.\u0275inj=s.cJS({imports:[[tR,Zh,Re,rR,Bh,Hu]]}),e}();(0,s.G48)(),Ce().bootstrapModule(iR).catch(function(e){return console.error(e)})},4762:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})}function o(e){return this instanceof o?(this.v=e,this):new o(e)}function a(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||u(e,t)})})}function u(e,t){try{!function(e){e.value instanceof o?Promise.resolve(e.value.v).then(c,l):h(a[0][2],e)}(i[e](t))}catch(n){h(a[0][3],n)}}function c(e){u("next",e)}function l(e){u("throw",e)}function h(e,t){e(t),a.shift(),a.length&&u(a[0][0],a[0][1])}}function s(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}n.d(t,{_T:function(){return r},mG:function(){return i},qq:function(){return o},FC:function(){return a},KL:function(){return s}})},3394:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(3854),i=n(3910),o=n(8026),a=n(5422),s=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,(0,o._addComponent)(t,new i.wA("app-compat",function(){return r},"PUBLIC")),this.container=t.container}return f(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise(function(t){e._delegate.checkDestroyed(),t()}).then(function(){return e.firebase.INTERNAL.removeApp(e.name),(0,o.deleteApp)(e._delegate)})}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)&&r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){(0,o._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){(0,o._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),u=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.initializeApp(i,a);if((0,r.r3)(t,s.name))return t[s.name];var u=new e(s,n);return t[s.name]=u,u},app:i,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function(t){var a=t.name,s=a.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!=typeof e[s])throw u.create("invalid-app-argument",{appName:a});return e[s]()};void 0!==t.serviceProps&&(0,r.ZB)(c,t.serviceProps),n[s]=c,e.prototype[s]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._getService.bind(this,a).apply(this,t.multipleInstances?n:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:o}};function i(e){if(!(0,r.r3)(t,e=e||o._DEFAULT_ENTRY_NAME))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,n}(s);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new a.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var h=self.firebase.SDK_VERSION;h&&h.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=c;(0,o.registerVersion)("@firebase/app-compat","0.1.15",void 0)},8026:function(t,n,r){"use strict";var i;r.r(n),r.d(n,{FirebaseError:function(){return c.ZR},SDK_VERSION:function(){return C},_DEFAULT_ENTRY_NAME:function(){return v},_addComponent:function(){return k},_addOrOverwriteComponent:function(){return _},_apps:function(){return m},_clearComponents:function(){return S},_components:function(){return y},_getProvider:function(){return b},_registerComponent:function(){return w},_removeServiceInstance:function(){return x},deleteApp:function(){return O},getApp:function(){return R},getApps:function(){return A},initializeApp:function(){return I},onLog:function(){return D},registerVersion:function(){return N},setLogLevel:function(){return L}});var o=r(8239),a=r(3910),s=r(5422),c=r(3854),l=function(){function e(t){d(this,e),this.container=t}return f(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if("VERSION"===(null==(n=e.getComponent())?void 0:n.type)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}var n;return null}).filter(function(e){return e}).join(" ")}}]),e}(),h="@firebase/app",p=new s.Yd("@firebase/app"),v="[DEFAULT]",g=(e(i={},h,"fire-core"),e(i,"@firebase/app-compat","fire-core-compat"),e(i,"@firebase/analytics","fire-analytics"),e(i,"@firebase/analytics-compat","fire-analytics-compat"),e(i,"@firebase/app-check","fire-app-check"),e(i,"@firebase/app-check-compat","fire-app-check-compat"),e(i,"@firebase/auth","fire-auth"),e(i,"@firebase/auth-compat","fire-auth-compat"),e(i,"@firebase/database","fire-rtdb"),e(i,"@firebase/database-compat","fire-rtdb-compat"),e(i,"@firebase/functions","fire-fn"),e(i,"@firebase/functions-compat","fire-fn-compat"),e(i,"@firebase/installations","fire-iid"),e(i,"@firebase/installations-compat","fire-iid-compat"),e(i,"@firebase/messaging","fire-fcm"),e(i,"@firebase/messaging-compat","fire-fcm-compat"),e(i,"@firebase/performance","fire-perf"),e(i,"@firebase/performance-compat","fire-perf-compat"),e(i,"@firebase/remote-config","fire-rc"),e(i,"@firebase/remote-config-compat","fire-rc-compat"),e(i,"@firebase/storage","fire-gcs"),e(i,"@firebase/storage-compat","fire-gcs-compat"),e(i,"@firebase/firestore","fire-fst"),e(i,"@firebase/firestore-compat","fire-fst-compat"),e(i,"fire-js","fire-js"),e(i,"firebase","fire-js-all"),i),m=new Map,y=new Map;function k(e,t){try{e.container.addComponent(t)}catch(n){p.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function _(e,t){e.container.addOrOverwriteComponent(t)}function w(e){var t=e.name;if(y.has(t))return p.debug("There were multiple attempts to register component ".concat(t,".")),!1;y.set(t,e);var n,r=u(m.values());try{for(r.s();!(n=r.n()).done;){k(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function b(e,t){return e.container.getProvider(t)}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;b(e,t).clearInstance(n)}function S(){y.clear()}var T=new c.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."}),E=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new a.wA("app",function(){return i},"PUBLIC"))}return f(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw T.create("app-deleted",{appName:this._name})}}]),e}(),C="9.6.4";function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!=typeof t&&(t={name:t});var n=Object.assign({name:v,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw T.create("bad-app-name",{appName:String(r)});var i=m.get(r);if(i){if((0,c.vZ)(e,i.options)&&(0,c.vZ)(n,i.config))return i;throw T.create("duplicate-app",{appName:r})}var o,s=new a.H0(r),l=u(y.values());try{for(l.s();!(o=l.n()).done;){var h=o.value;s.addComponent(h)}}catch(d){l.e(d)}finally{l.f()}var f=new E(e,n,s);return m.set(r,f),f}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=m.get(e);if(!t)throw T.create("no-app",{appName:e});return t}function A(){return Array.from(m.values())}function O(e){return P.apply(this,arguments)}function P(){return(P=(0,o.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,e.t0=m.has(n),!e.t0){e.next=7;break}return m.delete(n),e.next=6,Promise.all(t.container.getProviders().map(function(e){return e.delete()}));case 6:t.isDeleted=!0;case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e,t,n){var r,i=null!==(r=g[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&u.push("and"),s&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void p.warn(u.join(" "))}w(new a.wA("".concat(i,"-version"),function(){return{library:i,version:t}},"VERSION"))}function D(e,t){if(null!==e&&"function"!=typeof e)throw T.create("invalid-log-argument");(0,s.Am)(e,t)}function L(e){(0,s.Ub)(e)}w(new a.wA("platform-logger",function(e){return new l(e)},"PRIVATE")),N(h,"0.7.14",""),N(h,"0.7.14","esm2017"),N("fire-js","")},3910:function(e,n,r){"use strict";r.d(n,{wA:function(){return s},H0:function(){return h}});var i=r(8239),o=r(3854),s=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return f(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),c="[DEFAULT]",l=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return f(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new o.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(r){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:c})}catch(o){}var n,r=u(this.instancesDeferred.entries());try{for(r.s();!(n=r.n()).done;){var i=t(n.value,2),o=i[0],a=i[1],s=this.normalizeInstanceIdentifier(o);try{var l=this.getOrInitializeService({instanceIdentifier:s});a.resolve(l)}catch(l){}}}catch(h){r.e(h)}finally{r.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.from(e.instances.values()),t.next=3,Promise.all([].concat(a(n.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})),a(n.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 3:case"end":return t.stop()}},t)}))()}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var o,a=this.getOrInitializeService({instanceIdentifier:i,options:r}),s=u(this.instancesDeferred.entries());try{for(s.s();!(o=s.n()).done;){var c=t(o.value,2),l=c[0],h=c[1];i===this.normalizeInstanceIdentifier(l)&&h.resolve(a)}}catch(f){s.e(f)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e,t)}catch(a){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===c?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return this.component?this.component.multipleInstances?e:c:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}(),h=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return f(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new l(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},5422:function(t,n,r){"use strict";var i;r.d(n,{in:function(){return s},Yd:function(){return v},Ub:function(){return g},Am:function(){return m}});var o,a=[],s=((o=s||(s={}))[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT",s),c={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,h=(e(i={},s.DEBUG,"log"),e(i,s.VERBOSE,"log"),e(i,s.INFO,"info"),e(i,s.WARN,"warn"),e(i,s.ERROR,"error"),i),p=function(e,t){var n;if(!(t<e.logLevel)){var r=(new Date).toISOString(),i=h[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(n=console)[i].apply(n,["[".concat(r,"]  ").concat(e.name,":")].concat(a))}},v=function(){function e(t){d(this,e),this.name=t,this._logLevel=l,this._logHandler=p,this._userLogHandler=null,a.push(this)}return f(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?c[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,s.DEBUG].concat(t)),this._logHandler.apply(this,[this,s.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,s.VERBOSE].concat(t)),this._logHandler.apply(this,[this,s.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,s.INFO].concat(t)),this._logHandler.apply(this,[this,s.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,s.WARN].concat(t)),this._logHandler.apply(this,[this,s.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,s.ERROR].concat(t)),this._logHandler.apply(this,[this,s.ERROR].concat(t))}}]),e}();function g(e){a.forEach(function(t){t.setLogLevel(e)})}function m(e,t){var n,r=u(a);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=c[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var u=o.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=i?i:t.logLevel)&&e({level:s[n].toLowerCase(),message:u,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}},8239:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return i}})}},function(e){e(e.s=2058)}])}();