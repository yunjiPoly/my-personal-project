(self.webpackChunkopenbook=self.webpackChunkopenbook||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},7716:function(e,t,n){"use strict";n.d(t,{deG:function(){return tn},tb:function(){return Tc},AFp:function(){return yc},ip1:function(){return gc},CZH:function(){return mc},hGG:function(){return gl},z2F:function(){return sl},sBO:function(){return _a},Sil:function(){return Nc},_Vd:function(){return zo},EJc:function(){return Cc},SBq:function(){return Go},qLn:function(){return br},vpe:function(){return Qa},gxx:function(){return us},tBr:function(){return kn},XFs:function(){return O},OlP:function(){return en},zs3:function(){return Cs},ZZ4:function(){return da},aQg:function(){return pa},soG:function(){return Ec},YKP:function(){return xa},v3s:function(){return al},h0i:function(){return Aa},PXZ:function(){return el},R0b:function(){return Fc},FiY:function(){return An},Lbi:function(){return bc},g9A:function(){return wc},n_E:function(){return Ja},Qsj:function(){return Qo},FYo:function(){return Wo},JOm:function(){return Cr},Tiy:function(){return Jo},q3G:function(){return pr},tp0:function(){return xn},EAV:function(){return ul},Rgc:function(){return Ea},dDg:function(){return zc},DyG:function(){return nn},q4F:function(){return ea},GfV:function(){return Xo},s_b:function(){return Pa},ifc:function(){return F},eFA:function(){return tl},G48:function(){return Yc},Gpc:function(){return f},f3M:function(){return Tn},X6Q:function(){return Qc},_c5:function(){return fl},VLi:function(){return $c},c2e:function(){return Sc},zSh:function(){return ds},wAp:function(){return Ao},vHH:function(){return m},EiD:function(){return dr},mCW:function(){return Qn},qzn:function(){return jn},JVY:function(){return qn},pB0:function(){return Hn},eBb:function(){return zn},L6k:function(){return Bn},LAX:function(){return Zn},cg1:function(){return Co},Tjo:function(){return dl},kL8:function(){return Io},yhl:function(){return Vn},dqk:function(){return V},sIi:function(){return Ls},CqO:function(){return Ys},QGY:function(){return Ws},F4k:function(){return Qs},RDi:function(){return Ce},AaK:function(){return u},z3N:function(){return Un},qOj:function(){return ks},TTD:function(){return ye},_Bn:function(){return jo},xp6:function(){return di},uIk:function(){return Us},ekj:function(){return uo},Suo:function(){return uc},Xpm:function(){return Y},lG2:function(){return ie},Yz7:function(){return b},cJS:function(){return T},oAB:function(){return te},Yjl:function(){return se},Y36:function(){return Vs},_UZ:function(){return Hs},BQk:function(){return Gs},ynx:function(){return $s},qZA:function(){return Zs},TgZ:function(){return zs},EpF:function(){return Ks},n5z:function(){return Wt},Ikx:function(){return wo},LFG:function(){return bn},$8M:function(){return Yt},NdJ:function(){return Js},CRH:function(){return hc},kcU:function(){return pt},O4$:function(){return ft},oxw:function(){return ro},ALo:function(){return Ga},lcZ:function(){return Ka},Hsn:function(){return oo},F$t:function(){return so},Q6J:function(){return qs},iGM:function(){return cc},pYS:function(){return Sr},CHM:function(){return Be},LSH:function(){return gr},kYT:function(){return ne},Udp:function(){return lo},WFA:function(){return Xs},d8E:function(){return bo},YNc:function(){return js},_uU:function(){return yo},Oqu:function(){return vo},hij:function(){return _o},Gf:function(){return lc}});var r=n(9359),i=n(9593),s=n(7241),o=n(1860),a=n(815);function c(e){for(let t in e)if(e[t]===c)return t;throw Error("Could not find renamed property on target object.")}function l(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=c({__forward_ref__:c});function f(e){return e.__forward_ref__=f,e.toString=function(){return u(this())},e}function p(e){return g(e)?e():e}function g(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===f}class m extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function y(e){return"string"==typeof e?e:null==e?"":String(e)}function v(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():y(e)}function _(e,t){const n=t?` in ${t}`:"";throw new m("201",`No provider for ${v(e)} found${n}`)}function w(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function T(e){return{providers:e.providers||[],imports:e.imports||[]}}function S(e){return E(e,I)||E(e,A)}function E(e,t){return e.hasOwnProperty(t)?e[t]:null}function C(e){return e&&(e.hasOwnProperty(k)||e.hasOwnProperty(x))?e[k]:null}const I=c({"\u0275prov":c}),k=c({"\u0275inj":c}),A=c({ngInjectableDef:c}),x=c({ngInjectorDef:c});var O=(()=>((O=O||{})[O.Default=0]="Default",O[O.Host=1]="Host",O[O.Self=2]="Self",O[O.SkipSelf=4]="SkipSelf",O[O.Optional=8]="Optional",O))();let P;function R(e){const t=P;return P=e,t}function N(e,t,n){const r=S(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==t?t:void _(u(e),"Injector")}function D(e){return{toString:e}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V=M||"undefined"!=typeof global&&global||U||j,q={},B=[],z=c({"\u0275cmp":c}),Z=c({"\u0275dir":c}),H=c({"\u0275pipe":c}),$=c({"\u0275mod":c}),G=c({"\u0275loc":c}),K=c({"\u0275fac":c}),W=c({__NG_ELEMENT_ID__:c});let Q=0;function Y(e){return D(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||B,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||F.Emulated,id:"c",styles:e.styles||B,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=Q++,n.inputs=re(e.inputs,t),n.outputs=re(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(X):null,n})}function J(e){return oe(e)||function(e){return e[Z]||null}(e)}function X(e){return function(e){return e[H]||null}(e)}const ee={};function te(e){return D(()=>{const t={type:e.type,bootstrap:e.bootstrap||B,declarations:e.declarations||B,imports:e.imports||B,exports:e.exports||B,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ee[e.id]=e.type),t})}function ne(e,t){return D(()=>{const n=ae(e,!0);n.declarations=t.declarations||B,n.imports=t.imports||B,n.exports=t.exports||B})}function re(e,t){if(null==e)return q;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const ie=Y;function se(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[z]||null}function ae(e,t){const n=e[$]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return n}function ce(e){return Array.isArray(e)&&"object"==typeof e[1]}function le(e){return Array.isArray(e)&&!0===e[1]}function ue(e){return 0!=(8&e.flags)}function he(e){return 2==(2&e.flags)}function de(e){return 1==(1&e.flags)}function fe(e){return null!==e.template}function pe(e){return 0!=(512&e[2])}function ge(e,t){return e.hasOwnProperty(K)?e[K]:null}class me{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ye(){return ve}function ve(e){return e.type.prototype.ngOnChanges&&(e.setInput=we),_e}function _e(){const e=Te(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===q)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function we(e,t,n,r){const i=Te(e)||function(e,t){return e[be]=t}(e,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new me(c&&c.currentValue,t,o===q),e[r]=t}ye.ngInherit=!0;const be="__ngSimpleChanges__";function Te(e){return e[be]||null}const Se="http://www.w3.org/2000/svg";let Ee;function Ce(e){Ee=e}function Ie(e){return!!e.listen}const ke={createRenderer:(e,t)=>void 0!==Ee?Ee:"undefined"!=typeof document?document:void 0};function Ae(e){for(;Array.isArray(e);)e=e[0];return e}function xe(e,t){return Ae(t[e])}function Oe(e,t){return Ae(t[e.index])}function Pe(e,t){return e.data[t]}function Re(e,t){const n=t[e];return ce(n)?n:n[0]}function Ne(e){return 4==(4&e[2])}function De(e){return 128==(128&e[2])}function Le(e,t){return null==t?null:e[t]}function Fe(e){e[18]=0}function Me(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ue={lFrame:ot(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function je(){return Ue.bindingsEnabled}function Ve(){return Ue.lFrame.lView}function qe(){return Ue.lFrame.tView}function Be(e){return Ue.lFrame.contextLView=e,e[8]}function ze(){let e=Ze();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ze(){return Ue.lFrame.currentTNode}function He(e,t){const n=Ue.lFrame;n.currentTNode=e,n.isParent=t}function $e(){return Ue.lFrame.isParent}function Ge(){Ue.lFrame.isParent=!1}function Ke(){return Ue.isInCheckNoChangesMode}function We(e){Ue.isInCheckNoChangesMode=e}function Qe(){return Ue.lFrame.bindingIndex++}function Ye(e,t){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,Je(t)}function Je(e){Ue.lFrame.currentDirectiveIndex=e}function Xe(e){const t=Ue.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function et(){return Ue.lFrame.currentQueryIndex}function tt(e){Ue.lFrame.currentQueryIndex=e}function nt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function rt(e,t,n){if(n&O.SkipSelf){let r=t,i=e;for(;!(r=r.parent,null!==r||n&O.Host||(r=nt(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}const r=Ue.lFrame=st();return r.currentTNode=t,r.lView=e,!0}function it(e){const t=st(),n=e[1];Ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function st(){const e=Ue.lFrame,t=null===e?null:e.child;return null===t?ot(e):t}function ot(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function at(){const e=Ue.lFrame;return Ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ct=at;function lt(){const e=at();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ut(){return Ue.lFrame.selectedIndex}function ht(e){Ue.lFrame.selectedIndex=e}function dt(){const e=Ue.lFrame;return Pe(e.tView,e.selectedIndex)}function ft(){Ue.lFrame.currentNamespace=Se}function pt(){Ue.lFrame.currentNamespace=null}function gt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function mt(e,t,n){_t(e,t,3,n)}function yt(e,t,n,r){(3&e[2])===n&&_t(e,t,n,r)}function vt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function _t(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(wt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function wt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class bt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Tt(e,t,n){const r=Ie(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?e.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Et(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function St(e){return 3===e||4===e||6===e}function Et(e){return 64===e.charCodeAt(0)}function Ct(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||It(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function It(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function kt(e){return-1!==e}function At(e){return 32767&e}function xt(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Ot=!0;function Pt(e){const t=Ot;return Ot=e,t}let Rt=0;function Nt(e,t){const n=Lt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Dt(r.data,e),Dt(t,null),Dt(r.blueprint,null));const i=Ft(e,t),s=e.injectorIndex;if(kt(i)){const e=At(i),n=xt(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Dt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Lt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ft(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Mt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(r=n[W]),null==r&&(r=n[W]=Rt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Ut(e,t,n){if(n&O.Optional)return e;_(t,"NodeInjector")}function jt(e,t,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=e[9],s=R(void 0);try{return i?i.get(t,r,n&O.Optional):N(t,r,n&O.Optional)}finally{R(s)}}return Ut(r,t,n)}function Vt(e,t,n,r=O.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(W)?e[W]:void 0;return"number"==typeof t?t>=0?255&t:Bt:t}(n);if("function"==typeof s){if(!rt(t,e,r))return r&O.Host?Ut(i,n,r):jt(t,n,r,i);try{const e=s(r);if(null!=e||r&O.Optional)return e;_(n)}finally{ct()}}else if("number"==typeof s){let i=null,o=Lt(e,t),a=-1,c=r&O.Host?t[16][6]:null;for((-1===o||r&O.SkipSelf)&&(a=-1===o?Ft(e,t):t[o+8],-1!==a&&Gt(r,!1)?(i=t[1],o=At(a),t=xt(a,t)):o=-1);-1!==o;){const e=t[1];if($t(s,o,e.data)){const e=zt(o,t,n,i,r,c);if(e!==qt)return e}a=t[o+8],-1!==a&&Gt(r,t[1].data[o+8]===c)&&$t(s,o,t)?(i=e,o=At(a),t=xt(a,t)):o=-1}}}return jt(t,n,r,i)}const qt={};function Bt(){return new Kt(ze(),Ve())}function zt(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],c=Zt(a,o,n,null==r?he(a)&&Ot:r!=o&&0!=(3&a.type),i&O.Host&&s===a);return null!==c?Ht(t,o,c,a):qt}function Zt(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,c=e.directiveStart,l=s>>20,u=i?a+l:e.directiveEnd;for(let h=r?a:a+l;h<u;h++){const e=o[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(i){const e=o[c];if(e&&fe(e)&&e.type===n)return c}return null}function Ht(e,t,n,r){let i=e[n];const s=t.data;if(function(e){return e instanceof bt}(i)){const o=i;o.resolving&&function(e,t){throw new m("200",`Circular dependency in DI detected for ${e}`)}(v(s[n]));const a=Pt(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?R(o.injectImpl):null;rt(e,r,O.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=ve(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==c&&R(c),Pt(a),o.resolving=!1,ct()}}return i}function $t(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Gt(e,t){return!(e&O.Self||e&O.Host&&t)}class Kt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return Vt(this._tNode,this._lView,e,n,t)}}function Wt(e){return D(()=>{const t=e.prototype.constructor,n=t[K]||Qt(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[K]||Qt(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Qt(e){return g(e)?()=>{const t=Qt(p(e));return t&&t()}:ge(e)}function Yt(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(St(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(ze(),e)}const Jt="__parameters__";function Xt(e,t,n){return D(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(Jt)?e[Jt]:Object.defineProperty(e,Jt,{value:[]})[Jt];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class en{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const tn=new en("AnalyzeForEntryComponents"),nn=Function;function rn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),rn(r,t)):t!==e&&t.push(r)}return t}function sn(e,t){e.forEach(e=>Array.isArray(e)?sn(e,t):t(e))}function on(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function an(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function cn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function ln(e,t,n){let r=hn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function un(e,t){const n=hn(e,t);if(n>=0)return e[1|n]}function hn(e,t){return function(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const dn={},fn="__NG_DI_FLAG__",pn="ngTempTokenPath",gn=/\n/gm,mn="__source",yn=c({provide:String,useValue:c});let vn;function _n(e){const t=vn;return vn=e,t}function wn(e,t=O.Default){if(void 0===vn)throw new Error("inject() must be called from an injection context");return null===vn?N(e,void 0,t):vn.get(e,t&O.Optional?null:void 0,t)}function bn(e,t=O.Default){return(P||wn)(p(e),t)}const Tn=bn;function Sn(e){const t=[];for(let n=0;n<e.length;n++){const r=p(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=O.Default;for(let t=0;t<r.length;t++){const i=r[t],s=Cn(i);"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(bn(e,n))}else t.push(bn(r))}return t}function En(e,t){return e[fn]=t,e.prototype[fn]=t,e}function Cn(e){return e[fn]}function In(e,t,n,r){const i=e[pn];throw t[mn]&&i.unshift(t[mn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=u(t);if(Array.isArray(t))i=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(gn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[pn]=null,e}const kn=En(Xt("Inject",e=>({token:e})),-1),An=En(Xt("Optional"),8),xn=En(Xt("SkipSelf"),4);let On;function Pn(e){var t;return(null===(t=function(){if(void 0===On&&(On=null,V.trustedTypes))try{On=V.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return On}())||void 0===t?void 0:t.createHTML(e))||e}class Rn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nn extends Rn{getTypeName(){return"HTML"}}class Dn extends Rn{getTypeName(){return"Style"}}class Ln extends Rn{getTypeName(){return"Script"}}class Fn extends Rn{getTypeName(){return"URL"}}class Mn extends Rn{getTypeName(){return"ResourceURL"}}function Un(e){return e instanceof Rn?e.changingThisBreaksApplicationSecurity:e}function jn(e,t){const n=Vn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Vn(e){return e instanceof Rn&&e.getTypeName()||null}function qn(e){return new Nn(e)}function Bn(e){return new Dn(e)}function zn(e){return new Ln(e)}function Zn(e){return new Fn(e)}function Hn(e){return new Mn(e)}class $n{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Pn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Gn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Pn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;("xmlns:ns1"===n||0===n.indexOf("ns1:"))&&e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Kn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(e){return(e=String(e)).match(Kn)||e.match(Wn)?e:"unsafe:"+e}function Yn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Jn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Xn=Yn("area,br,col,hr,img,wbr"),er=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Yn("rp,rt"),nr=Jn(Xn,Jn(er,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(tr,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn(tr,er)),rr=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Yn("srcset"),sr=Jn(rr,ir,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),or=Yn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!nr.hasOwnProperty(t))return this.sanitizedSomething=!0,!or.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!sr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;rr[s]&&(o=Qn(o)),ir[s]&&(r=o,o=(r=String(r)).split(",").map(e=>Qn(e.trim())).join(", ")),this.buf.push(" ",t,'="',ur(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();nr.hasOwnProperty(t)&&!Xn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ur(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function ur(e){return e.replace(/&/g,"&amp;").replace(cr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function dr(e,t){let n=null;try{hr=hr||function(e){const t=new Gn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(e){return!1}}()?new $n(t):t}(e);let r=t?String(t):"";n=hr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==s);return Pn((new ar).sanitizeChildren(fr(n)||n))}finally{if(n){const e=fr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function fr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var pr=(()=>((pr=pr||{})[pr.NONE=0]="NONE",pr[pr.HTML=1]="HTML",pr[pr.STYLE=2]="STYLE",pr[pr.SCRIPT=3]="SCRIPT",pr[pr.URL=4]="URL",pr[pr.RESOURCE_URL=5]="RESOURCE_URL",pr))();function gr(e){const t=function(){const e=Ve();return e&&e[12]}();return t?t.sanitize(pr.URL,e)||"":jn(e,"URL")?Un(e):Qn(y(e))}const mr="__ngContext__";function yr(e,t){e[mr]=t}function vr(e){const t=function(e){return e[mr]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function _r(e){return e.ngOriginalError}function wr(e,...t){e.error(...t)}class br{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=(i=e)&&i.ngErrorLogger||wr;var i;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?e.ngDebugContext||this._findContext(_r(e)):null}_findOriginalError(e){let t=e&&_r(e);for(;t&&_r(t);)t=_r(t);return t||null}}const Tr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Sr(e){return e.ownerDocument.body}function Er(e){return e instanceof Function?e():e}var Cr=(()=>((Cr=Cr||{})[Cr.Important=1]="Important",Cr[Cr.DashCase=2]="DashCase",Cr))();function Ir(e,t){return undefined(e,t)}function kr(e){const t=e[3];return le(t)?t[3]:t}function Ar(e){return Or(e[13])}function xr(e){return Or(e[4])}function Or(e){for(;null!==e&&!le(e);)e=e[4];return e}function Pr(e,t,n,r,i){if(null!=r){let s,o=!1;le(r)?s=r:ce(r)&&(o=!0,r=r[0]);const a=Ae(r);0===e&&null!==n?null==i?jr(t,n,a):Ur(t,n,a,i||null,!0):1===e&&null!==n?Ur(t,n,a,i||null,!0):2===e?function(e,t,n){const r=qr(e,t);r&&function(e,t,n,r){Ie(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Ae(n)&&Pr(t,e,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Wr(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Rr(e,t,n){return Ie(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Nr(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Me(i,-1)),n.splice(r,1)}function Dr(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Nr(i,r),t>0&&(e[n-1][4]=r[4]);const s=an(e,10+t);!function(e,t){Wr(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Lr(e,t){if(!(256&t[2])){const n=t[11];Ie(n)&&n.destroyNode&&Wr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Fr(e[1],e);for(;t;){let n=null;if(ce(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)ce(t)&&Fr(t[1],t),t=t[3];null===t&&(t=e),ce(t)&&Fr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Fr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof bt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):Ae(t[e]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)r[e]();t[7]=null}}(e,t),1===t[1].type&&Ie(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&le(t[3])){n!==t[3]&&Nr(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Mr(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===F.None||t===F.Emulated)return null}return Oe(r,n)}(e,t.parent,n)}function Ur(e,t,n,r,i){Ie(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function jr(e,t,n){Ie(e)?e.appendChild(t,n):t.appendChild(n)}function Vr(e,t,n,r,i){null!==r?Ur(e,t,n,r,i):jr(e,t,n)}function qr(e,t){return Ie(e)?e.parentNode(t):t.parentNode}function Br(e,t,n){return zr(e,t,n)}let zr=function(e,t,n){return 40&e.type?Oe(e,n):null};function Zr(e,t,n,r){const i=Mr(e,r,t),s=t[11],o=Br(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Vr(s,i,n[a],o,!1);else Vr(s,i,n,o,!1)}function Hr(e,t){if(null!==t){const n=t.type;if(3&n)return Oe(t,e);if(4&n)return Gr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Hr(e,n);{const n=e[t.index];return le(n)?Gr(-1,n):Ae(n)}}if(32&n)return Ir(t,e)()||Ae(e[t.index]);{const n=$r(e,t);return null!==n?Array.isArray(n)?n[0]:Hr(kr(e[16]),n):Hr(e,t.next)}}return null}function $r(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Gr(e,t){const n=10+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Hr(e,r)}return t[7]}function Kr(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===t&&(a&&yr(Ae(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Kr(e,t,n.child,r,i,s,!1),Pr(t,e,i,a,s);else if(32&c){const o=Ir(n,r);let c;for(;c=o();)Pr(t,e,i,c,s);Pr(t,e,i,a,s)}else 16&c?Qr(e,t,r,n,i,s):Pr(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Wr(e,t,n,r,i,s){Kr(n,r,e.firstChild,t,i,s,!1)}function Qr(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Pr(t,e,i,a[c],s);else Kr(e,t,a,o[3],i,s,!0)}function Yr(e,t,n){Ie(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Jr(e,t,n){Ie(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Xr(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ti(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Xr(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ni(e){return 4===e.type&&e.value!==ei}function ri(e,t,n){return t===(4!==e.type||n?e.value:ei)}function ii(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(St(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!ri(e,c,n)||""===c&&1===t.length){if(si(r))return!1;o=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!ti(e.attrs,l,n)){if(si(r))return!1;o=!0}continue}const u=oi(8&r?"class":c,i,ni(e),n);if(-1===u){if(si(r))return!1;o=!0;continue}if(""!==l){let e;e=u>s?"":i[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Xr(t,l,0)||2&r&&l!==e){if(si(r))return!1;o=!0}}}}else{if(!o&&!si(r)&&!si(c))return!1;if(o&&si(c))continue;o=!1,r=c|1&r}}return si(r)||o}function si(e){return 0==(1&e)}function oi(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ai(e,t,n=!1){for(let r=0;r<t.length;r++)if(ii(e,t[r],n))return!0;return!1}function ci(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function li(e,t){return e?":not("+t.trim()+")":t}function ui(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!si(o)&&(t+=li(s,i),i=""),r=o,s=s||!si(r);n++}return""!==i&&(t+=li(s,i)),t}const hi={};function di(e){fi(qe(),Ve(),ut()+e,Ke())}function fi(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&mt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&yt(t,r,0,n)}ht(n)}function pi(e,t){return e<<17|t<<2}function gi(e){return e>>17&32767}function mi(e){return 2|e}function yi(e){return(131068&e)>>2}function vi(e,t){return-131069&e|t<<2}function _i(e){return 1|e}function wi(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];tt(i),n.contentQueries(2,t[s],s)}}}function bi(e,t,n,r,i,s,o,a,c,l){const u=t.blueprint.slice();return u[0]=i,u[2]=140|r,Fe(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function Ti(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=Ze(),o=$e(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,r,i),Ue.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=function(){const e=Ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return He(s,!0),s}function Si(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ei(e,t,n){it(t);try{const r=e.viewQuery;null!==r&&ts(1,r,n);const i=e.template;null!==i&&ki(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&wi(e,t),e.staticViewQueries&&ts(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)Qi(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,lt()}}function Ci(e,t,n,r){const i=t[2];if(256==(256&i))return;it(t);const s=Ke();try{Fe(t),function(e){Ue.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ki(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&mt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&yt(t,n,0,null),vt(t,0)}if(function(e){for(let t=Ar(e);null!==t;t=xr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Me(r,1),n[2]|=1024}}}(t),function(e){for(let t=Ar(e);null!==t;t=xr(t))for(let e=10;e<t.length;e++){const n=t[e],r=n[1];De(n)&&Ci(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&wi(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&mt(t,n)}else{const n=e.contentHooks;null!==n&&yt(t,n,1),vt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)ht(~r);else{const i=r,s=n[++e],o=n[++e];Ye(s,i),o(2,t[i])}}}finally{ht(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Ki(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&ts(2,c,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&mt(t,n)}else{const n=e.viewHooks;null!==n&&yt(t,n,2),vt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Me(t[3],-1))}finally{lt()}}function Ii(e,t,n,r){const i=t[10],s=!Ke(),o=Ne(t);try{s&&!o&&i.begin&&i.begin(),o&&Ei(e,t,r),Ci(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function ki(e,t,n,r,i){const s=ut(),o=2&r;try{ht(-1),o&&t.length>20&&fi(e,t,20,Ke()),n(r,i)}finally{ht(s)}}function Ai(e,t,n){if(ue(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function xi(e,t,n){!je()||(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Nt(n,t),yr(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=fe(r);s&&zi(t,n,r);const c=Ht(t,e,a,n);yr(c,t),null!==o&&Hi(0,a-i,c,r,0,o),s&&(Re(n.index,t)[8]=c)}}(e,t,n,Oe(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ue.lFrame.currentDirectiveIndex;try{ht(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];Je(n),(null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs)&&Ui(r,i)}}finally{ht(-1),Je(o)}}(e,t,n))}function Oi(e,t,n=Oe){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Pi(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ri(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ri(e,t,n,r,i,s,o,a,c,l){const u=20+r,h=u+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:hi);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ni(e,t,n,r){const i=rs(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&is(e).push(r,i.length-1))}function Di(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Li(e,t,n,r,i,s,o,a){const c=Oe(t,n);let l,u=t.inputs;!a&&null!=u&&(l=u[r])?(as(e,n,l,r,i),he(t)&&function(e,t){const n=Re(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,Ie(s)?s.setProperty(c,r,i):Et(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Fi(e,t,n,r){let i=!1;if(je()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ai(n,o.selectors,!1)&&(i||(i=[]),Mt(Nt(n,t),e,o.type),fe(o)?(ji(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,qi(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,c=Si(e,t,s.length,null);for(let i=0;i<s.length;i++){const l=s[i];n.mergedAttrs=Ct(n.mergedAttrs,l.hostAttrs),Bi(e,n,t,c,l),Vi(c,l,o),null!==l.contentQueries&&(n.flags|=8),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=r[c],n=e.inputs,l=null===i||ni(t)?null:$i(n,i);s.push(l),o=Di(n,c,o),a=Di(e.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new m("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=Ct(n.mergedAttrs,n.attrs),i}function Mi(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ui(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ji(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Vi(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;fe(t)&&(n[""]=e)}}function qi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Bi(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ge(i.type)),o=new bt(s,fe(i),null);e.blueprint[r]=o,n[r]=o,Mi(e,t,0,r,Si(e,n,i.hostVars,hi),i)}function zi(e,t,n){const r=Oe(t,e),i=Pi(n),s=e[10],o=Yi(e,bi(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Zi(e,t,n,r,i,s){const o=Oe(e,t);!function(e,t,n,r,i,s,o){if(null==s)Ie(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Ie(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}function Hi(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function $i(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Gi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Ki(e,t){const n=Re(t,e);if(De(n)){const e=n[1];80&n[2]?Ci(e,n,e.template,n[8]):n[5]>0&&Wi(n)}}function Wi(e){for(let n=Ar(e);null!==n;n=xr(n))for(let e=10;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ci(e,t,e.template,t[8])}else t[5]>0&&Wi(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Re(t[n],e);De(r)&&r[5]>0&&Wi(r)}}function Qi(e,t){const n=Re(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Ei(r,n,n[8])}function Yi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Ji(e){for(;e;){e[2]|=64;const t=kr(e);if(pe(e)&&!t)return e;e=t}return null}function Xi(e,t,n){const r=t[10];r.begin&&r.begin();try{Ci(e,t,e.template,n)}catch(i){throw os(t,i),i}finally{r.end&&r.end()}}function es(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=vr(n),i=r[1];Ii(i,r,i.template,n)}}(e[8])}function ts(e,t,n){tt(0),t(e,n)}const ns=(()=>Promise.resolve(null))();function rs(e){return e[7]||(e[7]=[])}function is(e){return e.cleanup||(e.cleanup=[])}function ss(e,t,n){return(null===e||fe(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function os(e,t){const n=e[9],r=n?n.get(br,null):null;r&&r.handleError(t)}function as(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=t[o],l=e.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function cs(e,t,n){const r=xe(t,e);!function(e,t,n){Ie(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function ls(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=h(i,e):2==s&&(r=h(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const us=new en("INJECTOR",-1);class hs{get(e,t=dn){if(t===dn){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const ds=new en("Set Injector scope."),fs={},ps={};let gs;function ms(){return void 0===gs&&(gs=new hs),gs}function ys(e,t=null,n=null,r){return new vs(e,n,t||ms(),r)}class vs{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&sn(t,n=>this.processProvider(n,e,t)),sn([e],e=>this.processInjectorType(e,[],i)),this.records.set(us,bs(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=dn,n=O.Default){this.assertNotDestroyed();const r=_n(this),i=R(void 0);try{if(!(n&O.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof en)&&S(e);t=n&&this.injectableDefInScope(n)?bs(_s(e),fs):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&O.Self?ms():this.parent).get(e,t=n&O.Optional&&t===dn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[pn]=o[pn]||[]).unshift(u(e)),r)throw o;return In(o,e,"R3InjectorError",this.source)}throw o}finally{R(i),_n(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(u(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=p(e)))return!1;let r=C(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{sn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];sn(r,e=>this.processProvider(e,n,r||B))}}this.injectorDefTypes.add(s);const a=ge(s)||(()=>new s);this.records.set(s,bs(a,fs));const c=r.providers;if(null!=c&&!o){const t=e;sn(c,e=>this.processProvider(e,t,c))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=Ss(e=p(e))?e:p(e&&e.provide);const i=Ts(s=e)?bs(void 0,s.useValue):bs(ws(s),fs);var s;if(Ss(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=bs(void 0,fs,!0),t.factory=()=>Sn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){return t.value===fs&&(t.value=ps,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=p(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function _s(e){const t=S(e),n=null!==t?t.factory:ge(e);if(null!==n)return n;if(e instanceof en)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=cn(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[I]||e[A]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ws(e,t,n){let r;if(Ss(e)){const t=p(e);return ge(t)||_s(t)}if(Ts(e))r=()=>p(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Sn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>bn(p(e.useExisting));else{const t=p(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ge(t)||_s(t);r=()=>new t(...Sn(e.deps))}return r}function bs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ts(e){return null!==e&&"object"==typeof e&&yn in e}function Ss(e){return"function"==typeof e}const Es=function(e,t,n){return function(e,t=null,n=null,r){const i=ys(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let Cs=(()=>{class e{static create(e,t){return Array.isArray(e)?Es(e,t,""):Es(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=dn,e.NULL=new hs,e.\u0275prov=b({token:e,providedIn:"any",factory:()=>bn(us)}),e.__NG_ELEMENT_ID__=-1,e})();function Is(e,t){gt(vr(e)[1],ze())}function ks(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(fe(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=As(e.inputs),t.declaredInputs=As(e.declaredInputs),t.outputs=As(e.outputs);const n=i.hostBindings;n&&Ps(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&xs(e,s),o&&Os(e,o),l(e.inputs,i.inputs),l(e.declaredInputs,i.declaredInputs),l(e.outputs,i.outputs),fe(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===ks&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ct(i.hostAttrs,n=Ct(n,i.hostAttrs))}}(r)}function As(e){return e===q?{}:e===B?[]:e}function xs(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Os(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Ps(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}let Rs=null;function Ns(){if(!Rs){const e=V.Symbol;if(e&&e.iterator)Rs=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Rs=n)}}}return Rs}class Ds{constructor(e){this.wrapped=e}static wrap(e){return new Ds(e)}static unwrap(e){return Ds.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Ds}}function Ls(e){return!!Fs(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ns()in e)}function Fs(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ms(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Us(e,t,n,r){const i=Ve();return Ms(i,Qe(),t)&&(qe(),Zi(dt(),i,e,t,n,r)),Us}function js(e,t,n,r,i,s,o,a){const c=Ve(),l=qe(),u=e+20,h=l.firstCreatePass?function(e,t,n,r,i,s,o,a,c){const l=t.consts,u=Ti(t,e,4,o||null,Le(l,a));Fi(t,n,u,Le(l,c)),gt(t,u);const h=u.tViews=Ri(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,i,s,o):l.data[u];He(h,!1);const d=c[11].createComment("");Zr(l,c,d,h),yr(d,c),Yi(c,c[u]=Gi(d,c,d,h)),de(h)&&xi(l,c,h),null!=o&&Oi(c,h,a)}function Vs(e,t=O.Default){const n=Ve();return null===n?bn(e,t):Vt(ze(),n,p(e),t)}function qs(e,t,n){const r=Ve();return Ms(r,Qe(),t)&&Li(qe(),dt(),r,e,t,r[11],n,!1),qs}function Bs(e,t,n,r,i){const s=i?"class":"style";as(e,n,t.inputs[s],s,r)}function zs(e,t,n,r){const i=Ve(),s=qe(),o=20+e,a=i[11],c=i[o]=Rr(a,t,Ue.lFrame.currentNamespace),l=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,c=Ti(t,e,2,i,Le(a,s));return Fi(t,n,c,Le(a,o)),null!==c.attrs&&ls(c,c.attrs,!1),null!==c.mergedAttrs&&ls(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,i,0,t,n,r):s.data[o];He(l,!0);const u=l.mergedAttrs;null!==u&&Tt(a,c,u);const h=l.classes;null!==h&&Jr(a,c,h);const d=l.styles;null!==d&&Yr(a,c,d),64!=(64&l.flags)&&Zr(s,i,c,l),0===Ue.lFrame.elementDepthCount&&yr(c,i),Ue.lFrame.elementDepthCount++,de(l)&&(xi(s,i,l),Ai(s,l,i)),null!==r&&Oi(i,l)}function Zs(){let e=ze();$e()?Ge():(e=e.parent,He(e,!1));const t=e;Ue.lFrame.elementDepthCount--;const n=qe();n.firstCreatePass&&(gt(n,e),ue(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Bs(n,t,Ve(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Bs(n,t,Ve(),t.stylesWithoutHost,!1)}function Hs(e,t,n,r){zs(e,t,n,r),Zs()}function $s(e,t,n){const r=Ve(),i=qe(),s=e+20,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Le(s,r),a=Ti(t,e,8,"ng-container",o);return null!==o&&ls(a,o,!0),Fi(t,n,a,Le(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];He(o,!0);const a=r[s]=r[11].createComment("");Zr(i,r,a,o),yr(a,r),de(o)&&(xi(i,r,o),Ai(i,o,r)),null!=n&&Oi(r,o)}function Gs(){let e=ze();const t=qe();$e()?Ge():(e=e.parent,He(e,!1)),t.firstCreatePass&&(gt(t,e),ue(e)&&t.queries.elementEnd(e))}function Ks(){return Ve()}function Ws(e){return!!e&&"function"==typeof e.then}function Qs(e){return!!e&&"function"==typeof e.subscribe}const Ys=Qs;function Js(e,t,n,r){const i=Ve(),s=qe(),o=ze();return eo(s,i,i[11],o,e,t,!!n,r),Js}function Xs(e,t){const n=ze(),r=Ve(),i=qe();return eo(i,r,ss(Xe(i.data),n,r),n,e,t,!1),Xs}function eo(e,t,n,r,i,s,o,a){const c=de(r),l=e.firstCreatePass&&is(e),u=t[8],h=rs(t);let d=!0;if(3&r.type||a){const f=Oe(r,t),p=a?a(f):f,g=h.length,m=a?e=>a(Ae(e[r.index])):r.index;if(Ie(n)){let o=null;if(!a&&c&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,d=!1;else{s=no(r,t,u,s,!1);const e=n.listen(p,i,s);h.push(s,e),l&&l.push(i,m,g,g+1)}}else s=no(r,t,u,s,!0),p.addEventListener(i,s,o),h.push(s),l&&l.push(i,m,g,o)}else s=no(r,t,u,s,!1);const f=r.outputs;let p;if(d&&null!==f&&(p=f[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=h.length;h.push(s,e),l&&l.push(i,r.index,o,-(o+1))}}}function to(e,t,n,r){try{return!1!==n(r)}catch(i){return os(e,i),!1}}function no(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Re(e.index,t):t;0==(32&t[2])&&Ji(o);let a=to(t,0,r,s),c=n.__ngNextListenerFn__;for(;c;)a=to(t,0,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function ro(e=1){return function(e){return(Ue.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ue.lFrame.contextLView))[8]}(e)}function io(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?ai(e,s,!0):ci(r,s))return i}else n=i}return n}function so(e){const t=Ve()[16][6];if(!t.projection){const n=t.projection=cn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?io(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function oo(e,t=0,n){const r=Ve(),i=qe(),s=Ti(i,20+e,16,null,n||null);null===s.projection&&(s.projection=t),Ge(),64!=(64&s.flags)&&function(e,t,n){Qr(t[11],0,t,n,Mr(e,n,t),Br(n.parent||t[6],n,t))}(i,r,s)}function ao(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?gi(s):yi(s),c=!1;for(;0!==a&&(!1===c||o);){const n=e[a+1];co(e[a],t)&&(c=!0,e[a+1]=r?_i(n):mi(n)),a=r?gi(n):yi(n)}c&&(e[n+1]=r?mi(s):_i(s))}function co(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&hn(e,t)>=0}function lo(e,t,n){return ho(e,t,n,!1),lo}function uo(e,t){return ho(e,t,null,!0),uo}function ho(e,t,n,r){const i=Ve(),s=qe(),o=function(e){const t=Ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[ut()],o=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=Xe(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=po(n=fo(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=fo(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==yi(r))return e[gi(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=fo(null,e,t,n[1],r),n=po(n,t.attrs,r),function(e,t,n,r){e[gi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=po(r,e[s].hostAttrs,n);return po(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=gi(o),c=yi(o);e[r]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||hn(e,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const t=gi(e[a+1]);e[r+1]=pi(t,a),0!==t&&(e[t+1]=vi(e[t+1],r)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=pi(a,0),0!==a&&(e[a+1]=vi(e[a+1],r)),a=r;else e[r+1]=pi(c,0),0===a?a=r:e[c+1]=vi(e[c+1],r),c=r;u&&(e[r+1]=mi(e[r+1])),ao(e,l,r,!0),ao(e,l,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&hn(s,t)>=0&&(n[r+1]=_i(n[r+1]))}(t,l,e,r,s),o=pi(a,c),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}(s,e,o,r),t!==hi&&Ms(i,o,t)&&function(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];mo(function(e){return 1==(1&e)}(l)?go(c,t,n,i,yi(l),o):void 0)||(mo(s)||function(e){return 2==(2&e)}(l)&&(s=go(c,null,n,i,a,o)),function(e,t,n,r,i){const s=Ie(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Cr.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=Cr.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,xe(ut(),n),i,s))}(s,s.data[ut()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Un(e)))),e}(t,n),r,o)}function fo(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=po(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function po(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ln(e,o,!!n||t[++s]))}return void 0===e?null:e}function go(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),c=s?t[1]:t,l=null===c;let u=n[i+1];u===hi&&(u=l?B:void 0);let h=l?un(u,r):c===r?u:void 0;if(s&&!mo(h)&&(h=un(t,r)),mo(h)&&(a=h,o))return a;const d=e[i+1];i=o?gi(d):yi(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=un(e,r))}return a}function mo(e){return void 0!==e}function yo(e,t=""){const n=Ve(),r=qe(),i=e+20,s=r.firstCreatePass?Ti(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return Ie(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Zr(r,n,o,s),He(s,!1)}function vo(e){return _o("",e,""),vo}function _o(e,t,n){const r=Ve(),i=function(e,t,n,r){return Ms(e,Qe(),n)?t+y(n)+r:hi}(r,e,t,n);return i!==hi&&cs(r,ut(),i),_o}function wo(e,t,n){const r=Ve();return Ms(r,Qe(),t)&&Li(qe(),dt(),r,e,t,r[11],n,!0),wo}function bo(e,t,n){const r=Ve();if(Ms(r,Qe(),t)){const i=qe(),s=dt();Li(i,s,r,e,t,ss(Xe(i.data),s,r),n,!0)}return bo}const To=void 0;var So=["en",[["a","p"],["AM","PM"],To],[["AM","PM"],To,To],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],To,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],To,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",To,"{1} 'at' {0}",To],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Eo={};function Co(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ko(t);if(n)return n;const r=t.split("-")[0];if(n=ko(r),n)return n;if("en"===r)return So;throw new Error(`Missing locale data for the locale "${e}".`)}function Io(e){return Co(e)[Ao.PluralCase]}function ko(e){return e in Eo||(Eo[e]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[e]),Eo[e]}var Ao=(()=>((Ao=Ao||{})[Ao.LocaleId=0]="LocaleId",Ao[Ao.DayPeriodsFormat=1]="DayPeriodsFormat",Ao[Ao.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ao[Ao.DaysFormat=3]="DaysFormat",Ao[Ao.DaysStandalone=4]="DaysStandalone",Ao[Ao.MonthsFormat=5]="MonthsFormat",Ao[Ao.MonthsStandalone=6]="MonthsStandalone",Ao[Ao.Eras=7]="Eras",Ao[Ao.FirstDayOfWeek=8]="FirstDayOfWeek",Ao[Ao.WeekendRange=9]="WeekendRange",Ao[Ao.DateFormat=10]="DateFormat",Ao[Ao.TimeFormat=11]="TimeFormat",Ao[Ao.DateTimeFormat=12]="DateTimeFormat",Ao[Ao.NumberSymbols=13]="NumberSymbols",Ao[Ao.NumberFormats=14]="NumberFormats",Ao[Ao.CurrencyCode=15]="CurrencyCode",Ao[Ao.CurrencySymbol=16]="CurrencySymbol",Ao[Ao.CurrencyName=17]="CurrencyName",Ao[Ao.Currencies=18]="Currencies",Ao[Ao.Directionality=19]="Directionality",Ao[Ao.PluralCase=20]="PluralCase",Ao[Ao.ExtraData=21]="ExtraData",Ao))();const xo="en-US";let Oo=xo;function Po(e){w(e,"Expected localeId to be defined"),"string"==typeof e&&(Oo=e.toLowerCase().replace(/_/g,"-"))}function Ro(e,t,n,r,i){if(e=p(e),Array.isArray(e))for(let s=0;s<e.length;s++)Ro(e[s],t,n,r,i);else{const s=qe(),o=Ve();let a=Ss(e)?e:p(e.provide),c=ws(e);const l=ze(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Ss(e)||!e.multi){const r=new bt(c,i,Vs),f=Lo(a,t,i?u:u+d,h);-1===f?(Mt(Nt(l,o),s,a),No(s,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Lo(a,t,u+d,h),p=Lo(a,t,u,u+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Mt(Nt(l,o),s,a);const u=function(e,t,n,r,i){const s=new bt(e,n,Vs);return s.multi=[],s.index=t,s.componentProviders=0,Do(s,i,r&&!n),s}(i?Mo:Fo,n.length,i,r,c);!i&&m&&(n[p].providerFactory=u),No(s,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else No(s,e,f>-1?f:p,Do(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function No(e,t,n,r){const i=Ss(t);if(i||function(e){return!!e.useClass}(t)){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Do(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Lo(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Fo(e,t,n,r){return Uo(this.multi,[])}function Mo(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Ht(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),Uo(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Uo(i,s);return s}function Uo(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function jo(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=qe();if(r.firstCreatePass){const i=fe(e);Ro(n,r.data,r.blueprint,i,!0),Ro(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Vo{}const qo="ngComponent";class Bo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t[qo]=e,t}(e)}}let zo=(()=>{class e{}return e.NULL=new Bo,e})();function Zo(...e){}function Ho(e,t){return new Go(Oe(e,t))}const $o=function(){return Ho(ze(),Ve())};let Go=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=$o,e})();function Ko(e){return e instanceof Go?e.nativeElement:e}class Wo{}let Qo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Yo(),e})();const Yo=function(){const e=Ve(),t=Re(ze().index,e);return function(e){return e[11]}(ce(t)?t:e)};let Jo=(()=>{class e{}return e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null}),e})();class Xo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ea=new Xo("12.2.15");class ta{constructor(){}supports(e){return Ls(e)}create(e){return new ra(e)}}const na=(e,t)=>t;class ra{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||na}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<aa(n,r,i)?t:n,o=aa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ls(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ns()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new ia(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new oa),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ia{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sa{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class oa{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new sa,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aa(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class ca{constructor(){}supports(e){return e instanceof Map||Fs(e)}create(){return new la}}class la{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Fs(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ua(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class ua{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ha(){return new da([new ta])}let da=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ha()),deps:[[e,new xn,new An]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(e){return e.name||typeof e}(e)}'`)}}return e.\u0275prov=b({token:e,providedIn:"root",factory:ha}),e})();function fa(){return new pa([new ca])}let pa=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||fa()),deps:[[e,new xn,new An]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=b({token:e,providedIn:"root",factory:fa}),e})();function ga(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Ae(s)),le(s))for(let e=10;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&ga(t[1],t,n,r)}const o=n.type;if(8&o)ga(e,t,n.child,r);else if(32&o){const e=Ir(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=$r(t,n);if(Array.isArray(e))r.push(...e);else{const n=kr(t[16]);ga(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class ma{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ga(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(le(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Dr(e,n),an(t,n))}this._attachedToViewContainer=!1}Lr(this._lView[1],this._lView)}onDestroy(e){Ni(this._lView[1],this._lView,null,e)}markForCheck(){Ji(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){We(!0);try{Xi(e,t,n)}finally{We(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Wr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ya extends ma{constructor(e){super(e),this._view=e}detectChanges(){es(this._view)}checkNoChanges(){!function(e){We(!0);try{es(e)}finally{We(!1)}}(this._view)}get context(){return null}}const va=function(e){return function(e,t,n){if(he(e)&&!n){const n=Re(e.index,t);return new ma(n,n)}return 47&e.type?new ma(t[16],t):null}(ze(),Ve(),16==(16&e))};let _a=(()=>{class e{}return e.__NG_ELEMENT_ID__=va,e})();const wa=[new ca],ba=new da([new ta]),Ta=new pa(wa),Sa=function(){return ka(ze(),Ve())};let Ea=(()=>{class e{}return e.__NG_ELEMENT_ID__=Sa,e})();const Ca=Ea,Ia=class extends Ca{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=bi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ei(t,n,e),new ma(n)}};function ka(e,t){return 4&e.type?new Ia(t,e,Ho(e,t)):null}class Aa{}class xa{}const Oa=function(){return Fa(ze(),Ve())};let Pa=(()=>{class e{}return e.__NG_ELEMENT_ID__=Oa,e})();const Ra=Pa,Na=class extends Ra{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new Kt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ft(this._hostTNode,this._hostLView);if(kt(e)){const t=xt(e,this._hostLView),n=At(e);return new Kt(t[1].data[n+8],t)}return new Kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Da(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(Aa,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(le(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Na(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],on(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=Gr(i,s),a=n[11],c=qr(a,s[7]);return null!==c&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,Wr(e,r,n,1,i,s)}(r,s[6],a,n,c,o),e.attachToViewContainerRef(),on(La(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Da(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Dr(this._lContainer,t);n&&(an(La(this._lContainer),t),Lr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Dr(this._lContainer,t);return n&&null!=an(La(this._lContainer),t)?new ma(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Da(e){return e[8]}function La(e){return e[8]||(e[8]=[])}function Fa(e,t){let n;const r=t[e.index];if(le(r))n=r;else{let i;if(8&e.type)i=Ae(r);else{const n=t[11];i=n.createComment("");const r=Oe(e,t);Ur(n,qr(n,r),i,function(e,t){return Ie(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Gi(r,t,i,e),Yi(t,n)}return new Na(n,e,t)}const Ma={};class Ua extends zo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=oe(e);return new qa(t,this.ngModule)}}function ja(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Va=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tr});class qa extends Vo{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ui).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ja(this.componentDef.inputs)}get outputs(){return ja(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Ma,i);return s!==Ma||r===Ma?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Wo,ke),o=i.get(Jo,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(Ie(e))return e.selectRootElement(t,n===F.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Rr(s.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?Se:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h=function(e,t){return{components:[],scheduler:e||Tr,clean:ns,playerHandler:t||null,flags:0}}(),d=Ri(0,null,null,1,0,null,null,null,null,null),f=bi(null,d,h,u,null,null,s,a,o,i);let p,g;it(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=Ti(o,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(ls(a,c,!0),null!==e&&(Tt(i,e,c),null!==a.classes&&Jr(i,e,a.classes),null!==a.styles&&Yr(i,e,a.styles)));const l=r.createRenderer(e,t),u=bi(n,Pi(t),null,t.onPush?64:16,n[20],a,r,l,s||null,null);return o.firstCreatePass&&(Mt(Nt(a,n),o,t.type),ji(o,a),qi(a,n.length,1)),Yi(n,u),n[20]=u}(l,this.componentDef,f,s,a);if(l)if(n)Tt(a,l,["ng-version",ea.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!si(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Tt(a,l,e),t&&t.length>0&&Jr(a,l,t.join(" "))}if(g=Pe(d,20),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=ze();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Bi(e,r,t,Si(e,t,1,null),n));const i=Ht(t,e,r.directiveStart,r);yr(i,t);const s=Oe(r,t);return s&&yr(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=ze();t.contentQueries(1,o,e.directiveStart)}const a=ze();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ht(a.index),Mi(n[1],a,0,a.directiveStart,a.directiveEnd,t),Ui(t,o)),o}(e,this.componentDef,f,h,[Is]),Ei(d,f,null)}finally{lt()}return new Ba(this.componentType,p,Ho(g,f),f,g)}}class Ba extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new ya(r),this.componentType=e}get injector(){return new Kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const za=new Map;class Za extends Aa{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ua(this);const n=ae(e),r=e[G]||null;r&&Po(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=ys(e,t,[{provide:Aa,useValue:this},{provide:zo,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Cs.THROW_IF_NOT_FOUND,n=O.Default){return e===Cs||e===Aa||e===us?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ha extends xa{constructor(e){super(),this.moduleType=e,null!==ae(e)&&function(e){const t=new Set;!function e(n){const r=ae(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(i,za.get(i),n),za.set(i,n));const s=Er(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Za(this.moduleType,e)}}function $a(e,t,n,r,i,s){const o=t+n;return Ms(e,o,i)?function(e,t,n){return e[t]=n}(e,o+1,s?r.call(s,i):r(i)):function(e,t){const n=e[t];return n===hi?void 0:n}(e,o+1)}function Ga(e,t){const n=qe();let r;const i=e+20;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new m("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ge(r.type)),o=R(Vs);try{const e=Pt(!1),t=s();return Pt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ve(),i,t),t}finally{R(o)}}function Ka(e,t,n){const r=e+20,i=Ve(),s=function(e,t){return e[t]}(i,r);return function(e,t){Ds.isWrapped(t)&&(t=Ds.unwrap(t),e[Ue.lFrame.bindingIndex]=hi);return t}(i,function(e,t){return e[1].data[t].pure}(i,r)?$a(i,function(){const e=Ue.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,s.transform,n,s):s.transform(n))}function Wa(e){return t=>{setTimeout(e,void 0,t)}}const Qa=class extends r.x{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,c=t||(()=>null),l=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),c=null===(s=t.error)||void 0===s?void 0:s.bind(t),l=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(c=Wa(c),a&&(a=Wa(a)),l&&(l=Wa(l)));const u=super.subscribe({next:a,error:c,complete:l});return e instanceof i.w0&&e.add(u),u}};function Ya(){return this._results[Ns()]()}class Ja{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ns(),n=Ja.prototype;n[t]||(n[t]=Ya)}get changes(){return this._changes||(this._changes=new Qa)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=rn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Xa{constructor(e){this.queryList=e,this.matches=null}clone(){return new Xa(this.queryList)}setDirty(){this.queryList.setDirty()}}class ec{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new ec(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==pc(e,t).matches&&this.queries[t].setDirty()}}class tc{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class nc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new nc(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class rc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new rc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,ic(t,i)),this.matchTNodeWithReadOption(e,t,Zt(t,e,i,!1,!1))}else n===Ea?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zt(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Go||r===Pa||r===Ea&&4&t.type)this.addMatch(t.index,-2);else{const n=Zt(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function ic(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function sc(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Ho(e,t):4&e.type?ka(e,t):null}(t,e):-2===n?function(e,t,n){return n===Go?Ho(t,e):n===Ea?ka(t,e):n===Pa?Fa(t,e):void 0}(e,t,r):Ht(e,e[1],n,t)}function oc(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:sc(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function ac(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=oc(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=10;e<o.length;e++){const t=o[e];t[17]===t[3]&&ac(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];ac(n[1],n,i,r)}}}}}return r}function cc(e){const t=Ve(),n=qe(),r=et();tt(r+1);const i=pc(n,r);if(e.dirty&&Ne(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?ac(n,t,r,[]):oc(n,t,i,r);e.reset(s,Ko),e.notifyOnChanges()}return!0}return!1}function lc(e,t,n){const r=qe();r.firstCreatePass&&(fc(r,new tc(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),dc(r,Ve(),t)}function uc(e,t,n,r){const i=qe();if(i.firstCreatePass){const s=ze();fc(i,new tc(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}dc(i,Ve(),n)}function hc(){return e=Ve(),t=et(),e[19].queries[t].queryList;var e,t}function dc(e,t,n){const r=new Ja(4==(4&n));Ni(e,t,r,r.destroy),null===t[19]&&(t[19]=new ec),t[19].queries.push(new Xa(r))}function fc(e,t,n){null===e.queries&&(e.queries=new nc),e.queries.track(new rc(t,n))}function pc(e,t){return e.queries.getByIndex(t)}const gc=new en("Application Initializer");let mc=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Zo,this.reject=Zo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Ws(t))e.push(t);else if(Ys(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(bn(gc,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const yc=new en("AppId"),vc={provide:yc,useFactory:function(){return`${_c()}${_c()}${_c()}`},deps:[]};function _c(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wc=new en("Platform Initializer"),bc=new en("Platform ID"),Tc=new en("appBootstrapListener");let Sc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Ec=new en("LocaleId"),Cc=new en("DefaultCurrencyCode");class Ic{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const kc=function(e){return new Ha(e)},Ac=kc,xc=function(e){return Promise.resolve(kc(e))},Oc=function(e){const t=kc(e),n=Er(ae(e).declarations).reduce((e,t)=>{const n=oe(t);return n&&e.push(new qa(n)),e},[]);return new Ic(t,n)},Pc=Oc,Rc=function(e){return Promise.resolve(Oc(e))};let Nc=(()=>{class e{constructor(){this.compileModuleSync=Ac,this.compileModuleAsync=xc,this.compileModuleAndAllComponentsSync=Pc,this.compileModuleAndAllComponentsAsync=Rc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Dc=(()=>Promise.resolve(0))();function Lc(e){"undefined"==typeof Zone?Dc.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Fc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qa(!1),this.onMicrotaskEmpty=new Qa(!1),this.onStable=new Qa(!1),this.onError=new Qa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=V.requestAnimationFrame,t=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(V,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,jc(e),e.isCheckStableRunning=!0,Uc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),jc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Vc(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),qc(e)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Vc(e),n.invoke(i,s,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),qc(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,jc(e),Uc(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Mc,Zo,Zo);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Mc={};function Uc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function jc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Vc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qc(e){e._nesting--,Uc(e)}class Bc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qa,this.onMicrotaskEmpty=new Qa,this.onStable=new Qa,this.onError=new Qa}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let zc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fc.assertNotInAngularZone(),Lc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(bn(Fc))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})(),Zc=(()=>{class e{constructor(){this._applications=new Map,Gc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Gc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();class Hc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function $c(e){Gc=e}let Gc=new Hc,Kc=!0,Wc=!1;function Qc(){return Wc=!0,Kc}function Yc(){if(Wc)throw new Error("Cannot enable prod mode after platform setup.");Kc=!1}let Jc;const Xc=new en("AllowMultipleToken");class el{constructor(e,t){this.name=e,this.token=t}}function tl(e,t,n=[]){const r=`Platform: ${t}`,i=new en(r);return(t=[])=>{let s=nl();if(!s||s.injector.get(Xc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:ds,useValue:"platform"});!function(e){if(Jc&&!Jc.destroyed&&!Jc.injector.get(Xc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Jc=e.get(rl);const t=e.get(wc,null);t&&t.forEach(e=>e())}(Cs.create({providers:e,name:r}))}return function(e){const t=nl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function nl(){return Jc&&!Jc.destroyed?Jc:null}let rl=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Bc:("zone.js"===e?void 0:e)||new Fc({enableLongStackTrace:Qc(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Fc,useValue:n}];return n.run(()=>{const i=Cs.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(i),o=s.injector.get(br,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});s.onDestroy(()=>{ol(this._modules,s),e.unsubscribe()})}),function(e,n,r){try{const t=r();return Ws(t)?t.catch(t=>{throw n.runOutsideAngular(()=>e.handleError(t)),t}):t}catch(t){throw n.runOutsideAngular(()=>e.handleError(t)),t}}(o,n,()=>{const e=s.injector.get(mc);return e.runInitializers(),e.donePromise.then(()=>(Po(s.injector.get(Ec,xo)||xo),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=il({},t);return function(e,t,n){const r=new Ha(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(sl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(bn(Cs))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function il(e,t){return Array.isArray(t)?t.reduce(il,e):Object.assign(Object.assign({},e),t)}let sl=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),l=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Fc.assertNotInAngularZone(),Lc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(c,l.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Vo?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(Aa),i=n.create(Cs.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(zc,null),a=o&&i.injector.get(Zc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),ol(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;ol(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Tc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(bn(Fc),bn(Cs),bn(br),bn(zo),bn(mc))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function ol(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class al{}class cl{}const ll={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ul=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||ll}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>hl(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>hl(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(bn(Nc),bn(cl,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function hl(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const dl=function(e){return null},fl=tl(null,"core",[{provide:bc,useValue:"unknown"},{provide:rl,deps:[Cs]},{provide:Zc,deps:[]},{provide:Sc,deps:[]}]),pl=[{provide:sl,useClass:sl,deps:[Fc,Cs,br,zo,mc]},{provide:Va,deps:[Fc],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:mc,useClass:mc,deps:[[new An,gc]]},{provide:Nc,useClass:Nc,deps:[]},vc,{provide:da,useFactory:function(){return ba},deps:[]},{provide:pa,useFactory:function(){return Ta},deps:[]},{provide:Ec,useFactory:function(e){return Po(e=e||"undefined"!=typeof $localize&&$localize.locale||xo),e},deps:[[new kn(Ec),new An,new xn]]},{provide:Cc,useValue:"USD"}];let gl=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(bn(sl))},e.\u0275mod=te({type:e}),e.\u0275inj=T({providers:pl}),e})()},8939:function(e,t,n){"use strict";n.d(t,{hO:function(){return g},xv:function(){return h},Dh:function(){return u},GT:function(){return c},cc:function(){return m},on:function(){return d},pX:function(){return a}});var r=n(7716),i=n(7841),s=n(1048);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),c=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class l{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new l(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:l,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})();function m(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(v("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const y=!!e.hot,v=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1048:function(e,t,n){"use strict";n.d(t,{q4:function(){return jn},iC:function(){return Qn},HU:function(){return Kn},vb:function(){return Zn},JM:function(){return zn}});var r=n(7716),i=n(2329),s=n(8239),o=n(8026),a=n(3854),c=n(3910),l=n(5422),u=n(6676);const h="@firebase/installations",d="0.5.5",f=`w:${d}`,p="FIS_v2",g=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function y({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function v(e){return{token:e.token,requestStatus:2,expiresIn:C(e.expiresIn),creationTime:Date.now()}}function _(e,t){return w.apply(this,arguments)}function w(){return(w=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return g.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function b({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function T(e,{refreshToken:t}){const n=b(e);return n.append("Authorization",function(e){return`${p} ${e}`}(t)),n}function S(e){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function C(e){return Number(e.replace("s","000"))}function I(e,t){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(function*(e,{fid:t}){const n=y(e),r={method:"POST",headers:b(e),body:JSON.stringify({fid:t,authVersion:p,appId:e.appId,sdkVersion:f})},i=yield S(()=>fetch(n,r));if(i.ok){const e=yield i.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:v(e.authToken)}}throw yield _("Create Installation",i)})).apply(this,arguments)}function A(e){return new Promise(t=>{setTimeout(t,e)})}const x=/^[cdef][\w-]{21}$/;function O(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return x.test(t)?t:""}catch(e){return""}}function P(e){return`${e.appName}!${e.appId}`}const R=new Map;function N(e,t){const n=P(e);D(n,t),function(e,t){const n=(!L&&"BroadcastChannel"in self&&(L=new BroadcastChannel("[Firebase] FID Change"),L.onmessage=e=>{D(e.data.key,e.data.fid)}),L);n&&n.postMessage({key:e,fid:t}),0===R.size&&L&&(L.close(),L=null)}(n,t)}function D(e,t){const n=R.get(e);if(n)for(const r of n)r(t)}let L=null;const F="firebase-installations-store";let M=null;function U(){return M||(M=(0,u.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(F)}})),M}function j(e,t){return V.apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(e,t){const n=P(e),r=(yield U()).transaction(F,"readwrite"),i=r.objectStore(F),s=yield i.get(n);return yield i.put(t,n),yield r.complete,(!s||s.fid!==t.fid)&&N(e,t.fid),t})).apply(this,arguments)}function q(e){return B.apply(this,arguments)}function B(){return(B=(0,s.Z)(function*(e){const t=P(e),n=(yield U()).transaction(F,"readwrite");yield n.objectStore(F).delete(t),yield n.complete})).apply(this,arguments)}function z(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(e,t){const n=P(e),r=(yield U()).transaction(F,"readwrite"),i=r.objectStore(F),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,o&&(!s||s.fid!==o.fid)&&N(e,o.fid),o})).apply(this,arguments)}function H(e){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(e){let t;const n=yield z(e,n=>{const r=G(n),i=K(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function G(e){return X(e||{fid:O(),registrationStatus:0})}function K(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(g.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return W.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Q(e)}:{installationEntry:t}}function W(){return(W=(0,s.Z)(function*(e,t){try{return j(e,yield I(e,t))}catch(n){throw m(n)&&409===n.customData.serverCode?yield q(e):yield j(e,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function Q(e){return Y.apply(this,arguments)}function Y(){return(Y=(0,s.Z)(function*(e){let t=yield J(e);for(;1===t.registrationStatus;)yield A(100),t=yield J(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield H(e);return n||t}return t})).apply(this,arguments)}function J(e){return z(e,e=>{if(!e)throw g.create("installation-not-found");return X(e)})}function X(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=(0,s.Z)(function*({appConfig:e,platformLoggerProvider:t},n){const r=ne(e,n),i=T(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f}})},a=yield S(()=>fetch(r,o));if(a.ok)return v(yield a.json());throw yield _("Generate Auth Token",a)})).apply(this,arguments)}function ne(e,{fid:t}){return`${y(e)}/${t}/authTokens:generate`}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,s.Z)(function*(e,t=!1){let n;const r=yield z(e.appConfig,r=>{if(!ue(r))throw g.create("not-registered");const i=r.authToken;if(!t&&he(i))return r;if(1===i.requestStatus)return n=se(e,t),r;{if(!navigator.onLine)throw g.create("app-offline");const t=de(r);return n=ce(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function se(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.Z)(function*(e,t){let n=yield ae(e.appConfig);for(;1===n.authToken.requestStatus;)yield A(100),n=yield ae(e.appConfig);const r=n.authToken;return 0===r.requestStatus?re(e,t):r})).apply(this,arguments)}function ae(e){return z(e,e=>{if(!ue(e))throw g.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=(0,s.Z)(function*(e,t){try{const n=yield ee(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield j(e.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield j(e.appConfig,n)}else yield q(e.appConfig);throw n}})).apply(this,arguments)}function ue(e){return void 0!==e&&2===e.registrationStatus}function he(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function de(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function fe(){return(fe=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield H(t.appConfig);return r?r.catch(console.error):re(t).catch(console.error),n.fid})).apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(e,t=!1){const n=e;return yield ge(n.appConfig),(yield re(n,t)).token})).apply(this,arguments)}function ge(e){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(e){const{registrationPromise:t}=yield H(e);t&&(yield t)})).apply(this,arguments)}function ye(e){return g.create("missing-app-config-values",{valueName:e})}const ve="installations";(0,o._registerComponent)(new c.wA(ve,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw ye("App Configuration");if(!e.name)throw ye("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ye(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,o._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new c.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,ve).getImmediate();return{getId:()=>function(e){return fe.apply(this,arguments)}(n),getToken:e=>function(e){return pe.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const _e="@firebase/remote-config",we=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class be{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Te(e=navigator){return e.languages&&e.languages[0]||e.language}class Se{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:t.appId,language_code:Te()},a={method:"POST",headers:s,body:JSON.stringify(o)},c=fetch(i,a),l=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let u;try{yield Promise.race([c,l]),u=yield c}catch(g){let e="fetch-client-network";throw"AbortError"===g.name&&(e="fetch-timeout"),we.create(e,{originalErrorMessage:g.message})}let h=u.status;const d=u.headers.get("ETag")||void 0;let f,p;if(200===u.status){let e;try{e=yield u.json()}catch(m){throw we.create("fetch-client-parse",{originalErrorMessage:m.message})}f=e.entries,p=e.state}if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:("NO_TEMPLATE"===p||"EMPTY_CONFIG"===p)&&(f={}),304!==h&&200!==h)throw we.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:f}})()}}class Ee{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(we.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class Ce{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ie(e,t){const n=e.target.error||void 0;return we.create(t,{originalErrorMessage:n&&n.message})}const ke="app_namespace_store";class Ae{constructor(e,t,n,r=function(){return new Promise((e,n)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=e=>{n(Ie(e,"storage-open"))},t.onsuccess=t=>{e(t.target.result)},t.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(ke,{keyPath:"compositeKey"})}}}catch(t){n(we.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([ke],"readonly").objectStore(ke),o=t.createCompositeKey(e);try{const e=s.get(o);e.onerror=e=>{i(Ie(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(a){i(we.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([ke],"readwrite").objectStore(ke),a=n.createCompositeKey(e);try{const e=o.put({compositeKey:a,value:t});e.onerror=e=>{s(Ie(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(c){s(we.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([ke],"readwrite").objectStore(ke),o=t.createCompositeKey(e);try{const e=s.delete(o);e.onerror=e=>{i(Ie(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(a){i(we.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class xe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Oe(){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new c.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw we.create("registration-window");if(!(0,a.hl)())throw we.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:c}=n.options;if(!i)throw we.create("registration-project-id");if(!s)throw we.create("registration-api-key");if(!c)throw we.create("registration-app-id");const u=new Ae(c,n.name,t=t||"firebase"),h=new xe(u),d=new l.Yd(_e);d.logLevel=l.in.ERROR;const f=new Se(r,o.SDK_VERSION,t,i,s,c),p=new Ee(f,u),g=new be(p,u,h,d),m=new Ce(n,g,h,u,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(_e,"0.3.4"),(0,o.registerVersion)(_e,"0.3.4","esm2017");const Re="/firebase-messaging-sw.js",Ne="/firebase-cloud-messaging-push-scope",De="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Le="google.c.a.c_id",Fe="google.c.a.c_l",Me="google.c.a.ts",Ue="google.c.a.e";var je=(()=>{return(e=je||(je={})).PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",je;var e})();function Ve(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qe(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const Be="fcm_token_details_db",ze="fcm_token_object_Store";function Ze(e){return He.apply(this,arguments)}function He(){return(He=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(Be))return null;let t=null;return(yield(0,u.openDb)(Be,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2||!n.objectStoreNames.contains(ze))return;const i=n.transaction.objectStore(ze),s=yield i.index("fcmSenderId").get(e);if(yield i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Ve(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ve(e.auth),p256dh:Ve(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ve(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ve(e.auth),p256dh:Ve(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ve(e.vapidKey)}}}});return function(e){return n.apply(this,arguments)}}())).close(),yield(0,u.deleteDb)(Be),yield(0,u.deleteDb)("fcm_vapid_details_db"),yield(0,u.deleteDb)("undefined"),$e(t)?t:null})).apply(this,arguments)}function $e(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const Ge="firebase-messaging-store";let Ke=null;function We(){return Ke||(Ke=(0,u.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(Ge)}})),Ke}function Qe(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(function*(e){const t=nt(e),n=yield(yield We()).transaction(Ge).objectStore(Ge).get(t);if(n)return n;{const t=yield Ze(e.appConfig.senderId);if(t)return yield Je(e,t),t}})).apply(this,arguments)}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,s.Z)(function*(e,t){const n=nt(e),r=(yield We()).transaction(Ge,"readwrite");return yield r.objectStore(Ge).put(t,n),yield r.complete,t})).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(e){const t=nt(e),n=(yield We()).transaction(Ge,"readwrite");yield n.objectStore(Ge).delete(t),yield n.complete})).apply(this,arguments)}function nt({appConfig:e}){return e.appId}const rt=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function it(e,t){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(e,t){const n=yield ht(e),r=ft(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(ut(e.appConfig),i)).json()}catch(o){throw rt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw rt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw rt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ot(e,t){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(function*(e,t){const n=yield ht(e),r=ft(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${ut(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw rt.create("token-update-failed",{errorInfo:o})}if(s.error)throw rt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw rt.create("token-update-no-token");return s.token})).apply(this,arguments)}function ct(e,t){return lt.apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*(e,t){const n={method:"DELETE",headers:yield ht(e)};try{const r=yield(yield fetch(`${ut(e.appConfig)}/${t}`,n)).json();if(r.error)throw rt.create("token-unsubscribe-failed",{errorInfo:r.error.message})}catch(r){throw rt.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function ut({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ft({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==De&&(i.web.applicationPubKey=r),i}const pt=6048e5;function gt(e){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(e){const t=yield St(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ve(t.getKey("auth")),p256dh:Ve(t.getKey("p256dh"))},r=yield Qe(e.firebaseDependencies);if(r){if(Ct(r.subscriptionOptions,n))return Date.now()>=r.createTime+pt?_t(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ct(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return bt(e.firebaseDependencies,n)}return bt(e.firebaseDependencies,n)})).apply(this,arguments)}function yt(e){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(e){const t=yield Qe(e.firebaseDependencies);t&&(yield ct(e.firebaseDependencies,t.token),yield et(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function _t(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(e,t){try{const n=yield ot(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Je(e.firebaseDependencies,r),n}catch(n){throw yield yt(e),n}})).apply(this,arguments)}function bt(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,s.Z)(function*(e,t){const n={token:yield it(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Je(e,n),n.token})).apply(this,arguments)}function St(e,t){return Et.apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qe(t)})})).apply(this,arguments)}function Ct(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function It(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){!t.data||(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function kt(e){return"object"==typeof e&&!!e&&Le in e}function At(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function xt(e){return rt.create("missing-app-config-values",{valueName:e})}At("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),At("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ot{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw xt("App Configuration Object");if(!e.name)throw xt("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw xt(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function Pt(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Re,{scope:Ne}),e.swRegistration.update().catch(()=>{})}catch(t){throw rt.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function Nt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(e,t){if(!t&&!e.swRegistration&&(yield Pt(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Lt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=De)})).apply(this,arguments)}function Mt(){return(Mt=(0,s.Z)(function*(e,t){if(!navigator)throw rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rt.create("permission-blocked");return yield Lt(e,null==t?void 0:t.vapidKey),yield Nt(e,null==t?void 0:t.serviceWorkerRegistration),gt(e)})).apply(this,arguments)}function Ut(e,t,n){return jt.apply(this,arguments)}function jt(){return(jt=(0,s.Z)(function*(e,t,n){const r=Vt(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Le],message_name:n[Fe],message_time:n[Me],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vt(e){switch(e){case je.NOTIFICATION_CLICKED:return"notification_open";case je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qt(){return(qt=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===je.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(It(n)):e.onMessageHandler.next(It(n)));const r=n.data;kt(r)&&"1"===r[Ue]&&(yield Ut(e,n.messageType,r))})).apply(this,arguments)}const Bt="@firebase/messaging";function zt(){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new c.wA("messaging",e=>{const t=new Ot(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return qt.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new c.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Mt.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)(Bt,"0.9.7"),(0,o.registerVersion)(Bt,"0.9.7","esm2017");const Ht="analytics",$t="firebase_id",Gt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kt="https://www.googletagmanager.com/gtag/js",Wt=new l.Yd("@firebase/analytics");function Qt(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Yt(e,t){const n=document.createElement("script");n.src=`${Kt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function Jt(e,t,n,r,i,s){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield Qt(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){Wt.error(a)}e("config",i,s)})).apply(this,arguments)}function en(e,t,n,r,i){return tn.apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield Qt(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){Wt.error(s)}})).apply(this,arguments)}function nn(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Kt))return t;return null}const rn=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sn=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function on(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function an(e){return cn.apply(this,arguments)}function cn(){return(cn=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:on(r)},s=Gt.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function ln(e){return un.apply(this,arguments)}function un(){return(un=(0,s.Z)(function*(e,t=sn,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw rn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw rn.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new gn;return setTimeout((0,s.Z)(function*(){c.abort()}),void 0!==n?n:6e4),hn({appId:r,apiKey:i,measurementId:o},a,c,t)})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=sn){const{appId:s,measurementId:o}=e;try{yield fn(r,t)}catch(c){if(o)return Wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:s,measurementId:o};throw c}try{const t=yield an(e);return i.deleteThrottleMetadata(s),t}catch(c){if(!pn(c)){if(i.deleteThrottleMetadata(s),o)return Wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:s,measurementId:o};throw c}const t=503===Number(c.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(s,l),Wt.debug(`Calling attemptFetch again in ${t} millis`),hn(e,l,r,i)}})).apply(this,arguments)}function fn(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(rn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function pn(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class gn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function mn(){return yn.apply(this,arguments)}function yn(){return(yn=(0,s.Z)(function*(){if(!(0,a.hl)())return Wt.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return Wt.warn(rn.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(e,t,n,r,i,s,o){var a;const c=ln(e);c.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Wt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Wt.error(e)),t.push(c);const l=mn().then(e=>{if(e)return r.getId()}),[u,h]=yield Promise.all([c,l]);nn()||Yt(s,u.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d[$t]=h),i("config",u.measurementId,d),u.measurementId})).apply(this,arguments)}class _n{constructor(e){this.app=e}_delete(){return delete wn[this.app.options.appId],Promise.resolve()}}let wn={},bn=[];const Tn={};let Sn,En,Cn="dataLayer",In=!1;function kn(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=rn.create("invalid-analytics-context",{errorInfo:t});Wt.warn(n.message)}}();const r=e.options.appId;if(!r)throw rn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw rn.create("no-api-key");Wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wn[r])throw rn.create("already-exists",{id:r});if(!In){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Cn);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield en(e,t,n,s,o):"config"===i?yield Jt(e,t,n,r,s,o):e("set",s)}catch(a){Wt.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(wn,bn,Tn,Cn,"gtag");En=e,Sn=t,In=!0}return wn[r]=function(e,t,n,r,i,s,o){return vn.apply(this,arguments)}(e,bn,Tn,t,Sn,Cn,n),new _n(e)}function An(){return(An=(0,s.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function xn(){return On.apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(){if((0,a.ru)()||!(0,a.zI)()||!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const Pn="@firebase/analytics";(0,o._registerComponent)(new c.wA(Ht,(e,{options:t})=>kn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new c.wA("analytics-internal",function(e){try{const t=e.getProvider(Ht).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return An.apply(this,arguments)}(En,wn[e.app.options.appId],t,n,r).catch(e=>Wt.error(e))}(t,e,n,r)}}catch(t){throw rn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(Pn,"0.7.5"),(0,o.registerVersion)(Pn,"0.7.5","esm2017");var Rn=n(4415),Nn=n(2994);const Dn=new class extends Nn.v{}(class extends Rn.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}});var Ln=n(6523),Fn=n(8168),Mn=n(4119),Un=n(7513);const jn=new r.GfV("7.2.0"),Vn="__angularfire_symbol__analyticsIsSupported",qn="__angularfire_symbol__remoteConfigIsSupported",Bn="__angularfire_symbol__messagingIsSupported";function zn(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Vn]||(globalThis[Vn]=xn().then(e=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=e)),globalThis[Bn]||(globalThis[Bn]=zt().then(e=>globalThis.__angularfire_symbol__messagingIsSupportedValue=e)),globalThis[qn]||(globalThis[qn]=Oe().then(e=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=e));const Zn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function Hn(){}class $n{constructor(e,t=Dn){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class Gn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hn,{},Hn,Hn)),t.pipe((0,Fn.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Kn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new $n(Zone.current)),this.insideAngular=e.run(()=>new $n(Zone.current,Ln.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Wn(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Qn(e){return Wn(),function(e){return function(t){return(t=t.lift(new Gn(e.ngZone))).pipe((0,Mn.R)(e.outsideAngular),(0,Un.Q)(e.insideAngular))}}(Wn())(e)}},3854:function(e,t,n){"use strict";n.d(t,{BH:function(){return l},LL:function(){return C},ZR:function(){return E},zI:function(){return S},US:function(){return i},tV:function(){return o},$s:function(){return M},r3:function(){return k},Sg:function(){return u},ne:function(){return D},vZ:function(){return x},ZB:function(){return a},pd:function(){return N},m9:function(){return U},z$:function(){return h},jU:function(){return p},ru:function(){return g},d:function(){return y},xb:function(){return A},w1:function(){return v},hl:function(){return b},uI:function(){return d},UG:function(){return f},b$:function(){return m},G6:function(){return w},Mn:function(){return _},xO:function(){return P},zd:function(){return R},eu:function(){return T}});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0;let l=(15&o)<<2|c>>6,u=63&c;a||(u=64,s||(l=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[l],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!c(n)||(e[n]=a(e[n],t[n]));return e}function c(e){return"__proto__"!==e}class l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return h().indexOf("MSAppHost/")>=0}function w(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"object"==typeof indexedDB}function T(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function S(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(I,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new E(r,`${this.serviceName}: ${s} (${r}).`,n)}}const I=/\{\$([^}]+)}/g;function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(O(n)&&O(s)){if(!x(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O(e){return null!==e&&"object"==typeof e}function P(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function R(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function N(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){const n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=F),void 0===r.error&&(r.error=F),void 0===r.complete&&(r.complete=F);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F(){}function M(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function U(e){return e&&e._delegate?e._delegate:e}},2329:function(e,t,n){"use strict";n.d(t,{Mq:function(){return r.getApp},C6:function(){return r.getApps}});var r=n(8026);(0,r.registerVersion)("firebase","9.6.4","app")},7841:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(3394);r.Z.registerVersion("firebase","9.6.4","app-compat")},7696:function(e,t,n){"use strict";n.r(t);var r=n(8239),i=n(3394),s=n(3854),o=n(8026),a=n(4762),c=n(5422),l=n(3910);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},d=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f=new c.Yd("@firebase/auth");function p(e,...t){f.logLevel<=c.in.ERROR&&f.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function g(e,...t){throw _(e,...t)}function m(e,...t){return _(e,...t)}function y(e,t,n){const r=Object.assign(Object.assign({},h()),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function v(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&g(e,"argument-error"),y(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return d.create(e,...t)}function w(e,t,...n){if(!e)throw _(t,...n)}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function T(e,t){e||b(t)}const S=new Map;function E(e){T(e instanceof Function,"Expected a class definition");let t=S.get(e);return t?(T(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,S.set(e,t),t)}function C(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function I(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class A{constructor(e,t){this.shortDelay=e,this.longDelay=t,T(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(I()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function x(e,t){T(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class O{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},R=new A(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function D(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=(0,r.Z)(function*(e,t,n,i,o={}){return F(e,o,(0,r.Z)(function*(){let r={},o={};i&&("GET"===t?o=i:r={body:JSON.stringify(i)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),O.fetch()(V(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},r))}))})).apply(this,arguments)}function F(e,t,n){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},P),t);try{const t=new q(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw B(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw B(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw B(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw y(e,a,o);g(e,a)}}catch(i){if(i instanceof s.ZR)throw i;g(e,"network-request-failed")}})).apply(this,arguments)}function U(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield D(e,t,n,r,i);return"mfaPendingCredential"in s&&g(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function V(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?x(e.config,i):`${e.config.apiScheme}://${i}`}class q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(m(this.auth,"network-request-failed")),R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function B(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=m(e,t,r);return i.customData._tokenResponse=n,i}function z(){return(z=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function Z(e,t){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function $(e,t){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function K(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function W(){return(W=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=Y(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:K(Q(i.auth_time)),issuedAtTime:K(Q(i.iat)),expirationTime:K(Q(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Q(e){return 1e3*Number(e)}function Y(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return p("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(p("Failed to decode base64 JWT payload"),null)}catch(i){return p("Caught error parsing JWT payload as JSON",i),null}}function J(e,t){return X.apply(this,arguments)}function X(){return(X=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&ee(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function ee({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class te{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class ne{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield J(e,$(n,{idToken:r}));w(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ae(s.providerUserInfo):[],a=oe(e.providerData,o),c=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ne(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,l)})).apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield re(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function oe(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ae(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ce(){return(ce=(0,r.Z)(function*(e,t){const n=yield F(e,{},(0,r.Z)(function*(){const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=V(e,r,"/v1/token",`key=${i}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",O.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w(void 0!==e.idToken,"internal-error"),w(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Y(e);return w(t,"internal-error"),w(void 0!==t.exp,"internal-error"),w(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return w(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return ce.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new le;return n&&(w("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(w("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(w("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return b("not implemented")}}function ue(e,t){w("string"==typeof e||void 0===e,"internal-error",{appName:t})}class he{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new ne(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield J(t,t.stsTokenManager.getToken(t.auth,e));return w(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return W.apply(this,arguments)}(this,e)}reload(){return function(e){return se.apply(this,arguments)}(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield re(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield J(e,function(e,t){return z.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:T,stsTokenManager:S}=t;w(v&&S,e,"internal-error");const E=le.fromJSON(this.name,S);w("string"==typeof v,e,"internal-error"),ue(u,e.name),ue(h,e.name),w("boolean"==typeof _,e,"internal-error"),w("boolean"==typeof b,e,"internal-error"),ue(d,e.name),ue(f,e.name),ue(p,e.name),ue(g,e.name),ue(m,e.name),ue(y,e.name);const C=new he({uid:v,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:y});return T&&Array.isArray(T)&&(C.providerData=T.map(e=>Object.assign({},e))),g&&(C._redirectEventId=g),C}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new le;r.updateFromServerResponse(t);const i=new he({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield re(i),i})()}}const de=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function fe(e,t,n){return`firebase:${e}:${t}:${n}`}class pe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=fe(this.userKey,r.apiKey,i),this.fullPersistenceKey=fe("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?he._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new pe(E(de),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||E(de);const o=fe(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=he._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(l){}const c=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(t){}});return function(t){return e.apply(this,arguments)}}())),new pe(s,e,n)):new pe(s,e,n)})()}}function ge(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_e(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(me(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(be(t))return"Blackberry";if(Te(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||ve(t))&&!t.includes("edge/"))return"Chrome";if(we(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function me(e=(0,s.z$)()){return/firefox\//i.test(e)}function ye(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ve(e=(0,s.z$)()){return/crios\//i.test(e)}function _e(e=(0,s.z$)()){return/iemobile/i.test(e)}function we(e=(0,s.z$)()){return/android/i.test(e)}function be(e=(0,s.z$)()){return/blackberry/i.test(e)}function Te(e=(0,s.z$)()){return/webos/i.test(e)}function Se(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Ee(e=(0,s.z$)()){return Se(e)||we(e)||Te(e)||be(e)||/windows phone/i.test(e)||_e(e)}function Ce(e,t=[]){let n;switch(e){case"Browser":n=ge((0,s.z$)());break;case"Worker":n=`${ge((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Ie{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ae(this),this.idTokenSubscription=new Ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=E(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;if(!n._deleted&&(n.persistenceManager=yield pe.create(n,e),!n._deleted)){if(null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(s){}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,!n._deleted&&(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);(!i||i===s)&&(null==o?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(w(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield re(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&w(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&w(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(E(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&E(e)||t._popupRedirectResolver;w(n,t,"argument-error"),t.redirectPersistenceManager=yield pe.create(t,[E(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return w(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,r.Z)(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}function ke(e){return(0,s.m9)(e)}class Ae{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Oe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Pe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}function Re(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:resetPassword",N(e,t))})).apply(this,arguments)}function De(e,t){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Fe(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",N(e,t))})).apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPassword",N(e,t))})).apply(this,arguments)}function je(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendOobCode",N(e,t))})).apply(this,arguments)}function qe(e,t){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(e,t){return je(e,t)})).apply(this,arguments)}function ze(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(e,t){return je(e,t)})).apply(this,arguments)}function He(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return je(e,t)})).apply(this,arguments)}function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return je(e,t)})).apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}class Ye extends Pe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ye(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ye(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Ue.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return We.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:g(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return De(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Qe.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:g(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithIdp",N(e,t))})).apply(this,arguments)}class et extends Pe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new et(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):g("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new et(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))})).apply(this,arguments)}function it(){return(it=(0,r.Z)(function*(e,t){const n=yield U(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw B(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const st={USER_NOT_FOUND:"user-not-found"};function ot(){return(ot=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),st)})).apply(this,arguments)}class at extends Pe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new at({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new at({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return rt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return it.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return ot.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new at({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ct{constructor(e){var t,n,r,i,o,a;const c=(0,s.zd)((0,s.pd)(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);w(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(i=c.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new ct(t)}catch(n){return null}}}let lt=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Ye._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ct.parseLink(t);return w(n,"argument-error"),Ye._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class ut{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ht extends ut{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dt extends ht{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return w("providerId"in t&&"signInMethod"in t,"argument-error"),et._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return w(e.idToken||e.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return dt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return dt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!r&&!t&&!i||!o)return null;try{return new dt(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let ft=(()=>{class e extends ht{constructor(){super("facebook.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),pt=(()=>{class e extends ht{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),gt=(()=>{class e extends ht{constructor(){super("github.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class mt extends Pe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new mt(n,i):null}static _create(e,t){return new mt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yt extends ut{constructor(e){w(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return yt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return yt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=mt.fromJSON(e);return w(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return mt._create(n,t)}catch(r){return null}}}let vt=(()=>{class e extends ht{constructor(){super("twitter.com")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function _t(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signUp",N(e,t))})).apply(this,arguments)}class bt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield he._fromIdTokenResponse(e,n,i),s=Tt(n);return new bt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=Tt(n);return new bt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function Tt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function St(){return(St=(0,r.Z)(function*(e){var t;const n=ke(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new bt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield _t(n,{returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Et extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Et.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Et(e,t,n,r)}}function Ct(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw"auth/multi-factor-auth-required"===n.code?Et._fromErrorAndOperation(e,n,t,r):n})}function It(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function kt(){return(kt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield Ot(!0,n,t);const{providerUserInfo:r}=yield Z(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=It(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function At(e,t){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(e,t,n=!1){const r=yield J(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return bt._forOperation(e,"link",r)})).apply(this,arguments)}function Ot(e,t,n){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,r.Z)(function*(e,t,n){yield re(t);const r=!1===e?"provider-already-linked":"no-such-provider";w(It(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Rt(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield J(e,Ct(r,i,t,e),n);w(s.idToken,r,"internal-error");const o=Y(s.idToken);w(o,r,"internal-error");const{sub:a}=o;return w(e.uid===a,r,"user-mismatch"),bt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&g(r,"user-mismatch"),s}})).apply(this,arguments)}function Dt(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield Ct(e,r,t),s=yield bt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Ft(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(e,t){return Dt(ke(e),t)})).apply(this,arguments)}function Ut(e,t){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield Ot(!1,n,t.providerId),At(n,t)})).apply(this,arguments)}function Vt(e,t){return qt.apply(this,arguments)}function qt(){return(qt=(0,r.Z)(function*(e,t){return Rt((0,s.m9)(e),t)})).apply(this,arguments)}function Bt(e,t){return zt.apply(this,arguments)}function zt(){return(zt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithCustomToken",N(e,t))})).apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(e,t){const n=ke(e),r=yield Bt(n,{token:t,returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Ht{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?$t._fromServerResponse(e,t):g(e,"internal-error")}}class $t extends Ht{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new $t(t)}}function Gt(e,t,n){var r;w((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),w(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(w(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(w(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Kt(){return(Kt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Gt(r,i,n),yield ze(r,i)})).apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t,n){yield Re((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t){yield Fe((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Yt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Re(n,{oobCode:t}),i=r.requestType;switch(w(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":w(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":w(r.mfaInfo,n,"internal-error");default:w(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ht._fromServerResponse(ke(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t){const{data:n}=yield Yt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=ke(e),i=yield _t(r,{returnSecureToken:!0,email:t,password:n}),s=yield bt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};w(n.handleCodeInApp,r,"argument-error"),n&&Gt(r,i,n),yield He(r,i)})).apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=lt.credentialWithLink(t,n||C());return w(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ft(r,i)})).apply(this,arguments)}function rn(e,t){return sn.apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:createAuthUri",N(e,t))})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:I()?C():"http://localhost"},{signinMethods:r}=yield rn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Gt(n.auth,r,t);const{email:i}=yield qe(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Gt(r.auth,i,n);const{email:o}=yield Ge(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function ln(e,t){return un.apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function hn(){return(hn=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield J(r,ln(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function dn(e,t,n){return fn.apply(this,arguments)}function fn(){return(fn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield J(e,De(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class pn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class gn extends pn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class mn extends pn{constructor(e,t){super(e,"facebook.com",t)}}class yn extends gn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class vn extends pn{constructor(e,t){super(e,"google.com",t)}}class _n extends gn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function wn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Y(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new pn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new mn(s,i);case"github.com":return new yn(s,i);case"google.com":return new vn(s,i);case"twitter.com":return new _n(s,i,e.screenName||null);case"custom":case"anonymous":return new pn(s,null);default:return new pn(s,r,i)}}(n)}class bn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new bn("enroll",e)}static _fromMfaPendingCredential(e){return new bn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return bn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return bn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Tn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ke(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(e=>Ht._fromServerResponse(n,e));w(i.mfaPendingCredential,n,"internal-error");const o=bn._fromMfaPendingCredential(i.mfaPendingCredential);return new Tn(o,s,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield bt._fromIdTokenResponse(n,t.operationType,s);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return w(t.user,n,"internal-error"),bt._forOperation(t.user,t.operationType,s);default:g(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function Sn(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}class En{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Ht._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new En(e)}getSession(){var e=this;return(0,r.Z)(function*(){return bn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield J(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield J(t.user,function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:withdraw",N(e,t))}(t.user.auth,{idToken:r,mfaEnrollmentId:n}));t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(s){if("auth/user-token-expired"!==s.code)throw s}})()}}const Cn=new WeakMap,In="__sak";class kn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(In,"1"),this.storage.removeItem(In),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const An=(()=>{class e extends kn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return ye(e)||Se(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ee(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),xn=(()=>{class e extends kn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let On=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),l=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function Pn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class Rn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const l=Pn("",20);r.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function Nn(){return window}function Dn(){return void 0!==Nn().WorkerGlobalScope&&"function"==typeof Nn().importScripts}function Ln(){return(Ln=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(di){return null}})).apply(this,arguments)}const Fn="firebaseLocalStorageDb",Mn="firebaseLocalStorage",Un="fbase_key";class jn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vn(e,t){return e.transaction([Mn],t?"readwrite":"readonly").objectStore(Mn)}function qn(){const e=indexedDB.open(Fn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Mn,{keyPath:Un})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Mn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Fn);return new jn(e).toPromise()}(),t(yield qn()))}))})}function Bn(e,t,n){return zn.apply(this,arguments)}function zn(){return(zn=(0,r.Z)(function*(e,t,n){const r=Vn(e,!0).put({[Un]:t,value:n});return new jn(r).toPromise()})).apply(this,arguments)}function Zn(){return(Zn=(0,r.Z)(function*(e,t){const n=Vn(e,!1).get(t),r=yield new jn(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Hn(e,t){const n=Vn(e,!0).delete(t);return new jn(n).toPromise()}const $n=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield qn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Dn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=On._getInstance(Dn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Ln.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Rn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);!r||(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){if(t.sender&&t.activeServiceWorker&&function(){var e;return(null===(e=null==navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield qn();return yield Bn(e,In,"1"),yield Hn(e,In),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>Bn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return Zn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>Hn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Vn(e,!1).getAll();return new jn(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Gn(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}function Kn(){return(Kn=(0,r.Z)(function*(e){return(yield D(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wn(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=m("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Qn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Yn=1e12;class Jn{constructor(e){this.auth=e,this.counter=Yn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Xn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Yn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Yn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Yn))||void 0===n||n.execute(),""})()}}class Xn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;w(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const er=Qn("rcb"),tr=new A(3e4,6e4);class nr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nn().grecaptcha}load(e,t=""){return w((n=t).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Nn().grecaptcha):new Promise((n,r)=>{const i=Nn().setTimeout(()=>{r(m(e,"network-request-failed"))},tr.get());Nn()[er]=()=>{Nn().clearTimeout(i),delete Nn()[er];const s=Nn().grecaptcha;if(!s)return void r(m(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Wn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:er,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(m(e,"internal-error"))})});var n}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Nn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rr{load(e){return(0,r.Z)(function*(){return new Jn(e)})()}clearedOneInstance(){}}const ir="recaptcha",sr={theme:"light",type:"image"};class or{constructor(e,t=Object.assign({},sr),n){this.parameters=t,this.type=ir,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(n),this.isInvisible="invisible"===this.parameters.size,w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;w(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rr:new nr,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{!t||(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){w(!this.parameters.sitekey,this.auth,"argument-error"),w(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Nn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){w(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){w(I()&&!Dn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Kn.apply(this,arguments)}(e.auth);w(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return w(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ar{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=at._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function cr(){return(cr=(0,r.Z)(function*(e,t,n){const r=ke(e),i=yield hr(r,t,(0,s.m9)(n));return new ar(i,e=>Ft(r,e))})).apply(this,arguments)}function lr(){return(lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield Ot(!1,r,"phone");const i=yield hr(r.auth,t,(0,s.m9)(n));return new ar(i,e=>Ut(r,e))})).apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield hr(r.auth,t,(0,s.m9)(n));return new ar(i,e=>Vt(r,e))})).apply(this,arguments)}function hr(e,t,n){return dr.apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(w("string"==typeof i,e,"argument-error"),w(n.type===ir,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return w("enroll"===t.type,e,"internal-error"),(yield Sn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{w("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return w(n,e,"missing-multi-factor-info"),(yield Gn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield tt(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function fr(){return(fr=(0,r.Z)(function*(e,t){yield At((0,s.m9)(e),t)})).apply(this,arguments)}let pr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=ke(t)}verifyPhoneNumber(e,t){return hr(this.auth,e,(0,s.m9)(t))}static credential(e,t){return at._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?at._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function gr(e,t){return t?E(t):(w(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class mr extends Pe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Je(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Je(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Je(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yr(e){return Dt(e.auth,new mr(e),e.bypassAuthState)}function vr(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),Rt(n,new mr(e),e.bypassAuthState)}function _r(e){return wr.apply(this,arguments)}function wr(){return(wr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),At(n,new mr(e),e.bypassAuthState)})).apply(this,arguments)}class br{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const c={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yr;case"linkViaPopup":case"linkViaRedirect":return _r;case"reauthViaPopup":case"reauthViaRedirect":return vr;default:g(this.auth,"internal-error")}}resolve(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tr=new A(2e3,1e4);function Sr(){return(Sr=(0,r.Z)(function*(e,t,n){const r=ke(e);v(e,t,ut);const i=gr(r,n);return new Ir(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Er(){return(Er=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,ut);const i=gr(r.auth,n);return new Ir(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function Cr(){return(Cr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,ut);const i=gr(r.auth,n);return new Ir(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Ir=(()=>{class e extends br{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return w(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){T(1===e.filter.length,"Popup operations only handle one event");const t=Pn();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(m(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,Tr.get())};e()}}return e.currentPopupAction=null,e})();const kr=new Map;class Ar extends br{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=kr.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return xr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}kr.set(t.auth._key(),n)}return t.bypassAuthState||kr.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function xr(){return(xr=(0,r.Z)(function*(e,t){const n=Nr(t),r=Rr(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Or(e,t){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,r.Z)(function*(e,t){return Rr(e)._set(Nr(t),"true")})).apply(this,arguments)}function Rr(e){return E(e._redirectPersistence)}function Nr(e){return fe("pendingRedirect",e.config.apiKey,e.name)}function Dr(){return(Dr=(0,r.Z)(function*(e,t,n){const r=ke(e);v(e,t,ut);const i=gr(r,n);return yield Or(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,ut);const i=gr(r.auth,n);yield Or(i,r.auth);const o=yield Vr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,ut);const i=gr(r.auth,n);yield Ot(!1,r,t.providerId),yield Or(i,r.auth);const o=yield Vr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(e,t){return yield ke(e)._initializationPromise,Ur(e,t,!1)})).apply(this,arguments)}function Ur(e,t){return jr.apply(this,arguments)}function jr(){return(jr=(0,r.Z)(function*(e,t,n=!1){const r=ke(e),i=gr(r,t),s=yield new Ar(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}function Vr(e){return qr.apply(this,arguments)}function qr(){return(qr=(0,r.Z)(function*(e){const t=Pn(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class Br{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Zr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(m(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zr(e))}saveEventToCache(e){this.cachedEventUids.add(zr(e)),this.lastProcessedEventTime=Date.now()}}function zr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Zr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function Hr(e){return $r.apply(this,arguments)}function $r(){return($r=(0,r.Z)(function*(e,t={}){return D(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kr=/^https?/;function Wr(){return(Wr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield Hr(e);for(const r of t)try{if(Qr(r))return}catch(n){}g(e,"unauthorized-domain")})).apply(this,arguments)}function Qr(e){const t=C(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Kr.test(n))return!1;if(Gr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yr=new A(3e4,6e4);function Jr(){const e=Nn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Xr=null;function ei(e){return Xr=Xr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Jr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jr(),n(m(e,"network-request-failed"))},timeout:Yr.get()})}if(null===(i=null===(r=Nn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Nn().gapi)||void 0===s?void 0:s.load)){const t=Qn("iframefcb");return Nn()[t]=()=>{gapi.load?o():n(m(e,"network-request-failed"))},Wn(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw Xr=null,e})}(e),Xr}const ti=new A(5e3,15e3),ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ri=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ii(e){const t=e.config;w(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?x(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=ri.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function si(){return(si=(0,r.Z)(function*(e){const t=yield ei(e),n=Nn().gapi;return w(n,e,"internal-error"),t.open({where:document.body,url:ii(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ni,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=m(e,"network-request-failed"),s=Nn().setTimeout(()=>{r(i)},ti.get());function o(){Nn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ai{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ci(e,t,n,r,i,a){w(e.config.authDomain,e,"auth-domain-config-required"),w(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof ut){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof ht){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const s of Object.keys(l))void 0===l[s]&&delete l[s];return`${function({config:e}){return e.emulator?x(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(l).slice(1)}`}const li="webStorageSupport";class ui extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ui(e)}_finalizeEnroll(e,t,n){return function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:finalize",N(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:finalize",N(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hi=(()=>{class e{constructor(){}static assertion(e){return ui._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var di,fi="@firebase/auth";class pi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gi(){return window}function mi(){return(mi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=gi();T(t.sessionId,"AuthEvent did not contain a session ID");const s=yield _i(t.sessionId),o={};return Se()?o.ibi=i.packageName:we()?o.apn=i.packageName:g(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ci(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(e){const{BuildInfo:t}=gi(),n={};Se()?n.iosBundleId=t.packageName:we()?n.androidPackageName=t.packageName:g(e,"operation-not-supported-in-this-environment"),yield Hr(e,n)})).apply(this,arguments)}function vi(){return(vi=(0,r.Z)(function*(e,t,n){const{cordova:r}=gi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(m(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null==document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),we()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function _i(e){return wi.apply(this,arguments)}function wi(){return(wi=(0,r.Z)(function*(e){const t=bi(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bi(e){if(T(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}di="Browser",(0,o._registerComponent)(new l.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{w(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),w(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:di,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ce(di)},s=new Ie(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(E);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new l.wA("auth-internal",e=>{const t=ke(e.getProvider("auth").getImmediate());return new pi(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(fi,"0.19.6",void 0),(0,o.registerVersion)(fi,"0.19.6","esm2017");class Ti extends Br{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function Si(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,r.Z)(function*(e){const t=yield Ii()._get(ki(e));return t&&(yield Ii()._remove(ki(e))),t})).apply(this,arguments)}function Ci(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Ii(){return E(An)}function ki(e){return fe("authEvent",e.config.apiKey,e.name)}function Ai(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function xi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:m("no-auth-event")}}function Oi(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Pi(e=(0,s.z$)()){return!("file:"!==Oi()&&"ionic:"!==Oi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ri(){try{const e=self.localStorage,t=Pn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null==document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(di){return Ni()&&(0,s.hl)()}return!1}function Ni(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Di(){return("http:"===Oi()||"https:"===Oi()||(0,s.ru)()||Pi())&&!((0,s.b$)()||(0,s.UG)())&&Ri()&&!Ni()}function Li(){return Pi()&&"undefined"!=typeof document}function Fi(){return(Fi=(0,r.Z)(function*(){return!!Li()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},Ui=w,ji="persistence";function Vi(e){return qi.apply(this,arguments)}function qi(){return(qi=(0,r.Z)(function*(e){yield e._initializationPromise;const t=Bi(),n=fe(ji,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function Bi(){return"undefined"!=typeof window?window:null}const zi=w;class Zi{constructor(){this.browserResolver=E(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xn,this._completeRedirectFn=Ur}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;T(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ci(e,t,n,C(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},oi),{width:r.toString(),height:i.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(c=ve(u)?"_blank":n),me(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Se(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new ai(null);const d=window.open(t||"",c,h);w(d,e,"popup-blocked");try{d.focus()}catch(f){}return new ai(d)}(e,a,Pn())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s._originValidation(e),r=ci(e,t,n,C(),i),Nn().location.href=r,new Promise(()=>{});var r})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(T(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return si.apply(this,arguments)}(e),r=new Br(e);return n.register("authEvent",t=>(w(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(li,{type:li},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[li];void 0!==i&&t(!!i),g(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ee()||ye()||Se()}}),this.cordovaResolver=E(class{constructor(){this._redirectPersistence=xn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ur}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new Ti(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){g(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,c,l,u;const h=gi();w("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),w(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),w("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(c=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(u=null===(l=null==h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),kr.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Ci(),postBody:null,tenantId:e.tenantId,error:m(e,"no-auth-event")}}(e,n,i);yield function(e,t){return Ii()._set(ki(e),t)}(e,a);const c=yield function(e,t,n){return mi.apply(this,arguments)}(e,a,t),l=yield function(e){const{cordova:t}=gi();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(c);return function(e,t,n){return vi.apply(this,arguments)}(e,r,l)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=gi(),o=setTimeout((0,r.Z)(function*(){yield Si(e),t.onEvent(xi())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield Si(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Ai(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ai(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ai(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const s=Ai(i),o=s.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(s.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],c=a?m(a):null;return c?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||xi())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const c=i,l=`${s.packageName.toLowerCase()}://`;gi().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"==typeof c)try{c(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=xn,this._completeRedirectFn=Ur}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Li()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Fi.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Hi(e){return e.unwrap()}function $i(e){return Gi(e)}function Gi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return pr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=pt;break;case"facebook.com":r=ft;break;case"github.com":r=gt;break;case"twitter.com":r=vt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?mt._create(n,o):et._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new dt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Ki(e,t){return t.catch(t=>{throw t instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Yi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return w(t.customData.operationType,r,"argument-error"),w(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Tn._fromError(r,i)}(e,t));else if(r){const e=Gi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:$i(e),additionalUserInfo:wn(e),user:Ji.getOrCreate(t)}})}function Wi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Ki(e,n.confirm(t))}})).apply(this,arguments)}class Yi{constructor(e,t){this.resolver=t,this.auth=function(e){return e.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ki(Hi(this.auth),this.resolver.resolveSignIn(e))}}class Ji{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return Cn.has(t)||Cn.set(t,En._fromUser(t)),Cn.get(t)}(e)}static getOrCreate(e){return Ji.USER_MAP.has(e)||Ji.USER_MAP.set(e,new Ji(e)),Ji.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return Ki(t.auth,Ut(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Wi(n.auth,function(e,t,n){return lr.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return Ki(t.auth,function(e,t,n){return Cr.apply(this,arguments)}(t._delegate,e,Zi))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Vi(ke(t.auth)),function(e,t,n){return function(e,t,n){return Fr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Zi)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return Ki(t.auth,Vt(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Wi(this.auth,function(e,t,n){return ur.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ki(this.auth,function(e,t,n){return Er.apply(this,arguments)}(this._delegate,e,Zi))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Vi(ke(t.auth)),function(e,t,n){return function(e,t,n){return Lr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Zi)})()}sendEmailVerification(e){return function(e,t){return an.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return kt.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return dn((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return dn((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return fr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return hn.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return cn.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ji.USER_MAP=new WeakMap;const Xi=w;let es=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Xi(n,"invalid-api-key",{appName:e.name}),Xi(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?Zi:void 0;this._delegate=t.initialize({options:{persistence:ns(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ji.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=ke(e);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=xe(t),{host:o,port:a}=function(e){const t=xe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Oe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Oe(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Qt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Yt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Wt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return Ki(n._delegate,function(e,t,n){return en.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return on.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ct.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Xi(Di(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Mr.apply(this,arguments)}(e._delegate,Zi);return t?Ki(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){ke(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=ts(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=ts(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return Kt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Ui(Object.values(Mi).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Ui(t!==Mi.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Ui(t===Mi.NONE,e,"unsupported-persistence-type"):Ni()?Ui(t===Mi.NONE||t===Mi.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Ui(t===Mi.NONE||Ri(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Mi.SESSION:n=xn;break;case Mi.LOCAL:n=(yield E($n)._isAvailable())?$n:An;break;case Mi.NONE:n=de;break;default:return g("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ki(this._delegate,function(e){return St.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Ki(this._delegate,Ft(this._delegate,e))}signInWithCustomToken(e){return Ki(this._delegate,function(e,t){return Zt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Ki(this._delegate,function(e,t,n){return Ft((0,s.m9)(e),lt.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Ki(this._delegate,function(e,t,n){return nn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Wi(this._delegate,function(e,t,n){return cr.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Xi(Di(),t._delegate,"operation-not-supported-in-this-environment"),Ki(t._delegate,function(e,t,n){return Sr.apply(this,arguments)}(t._delegate,e,Zi))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Xi(Di(),t._delegate,"operation-not-supported-in-this-environment"),yield Vi(t._delegate),function(e,t,n){return function(e,t,n){return Dr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Zi)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Xt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Mi,e})();function ts(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Ji.getOrCreate(e)),error:t,complete:n}}function ns(e,t){const n=function(e,t){const n=Bi();if(!(null==n?void 0:n.sessionStorage))return[];const r=fe(ji,e,t);switch(n.sessionStorage.getItem(r)){case Mi.NONE:return[de];case Mi.LOCAL:return[$n,xn];case Mi.SESSION:return[xn];default:return[]}}(e,t);if("undefined"!=typeof self&&!n.includes($n)&&n.push($n),"undefined"!=typeof window)for(const r of[An,xn])n.includes(r)||n.push(r);return n.includes(de)||n.push(de),n}class rs{constructor(){this.providerId="phone",this._delegate=new pr(Hi(i.Z.auth()))}static credential(e,t){return pr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}rs.PHONE_SIGN_IN_METHOD=pr.PHONE_SIGN_IN_METHOD,rs.PROVIDER_ID=pr.PROVIDER_ID;const is=w;class ss{constructor(e,t,n=i.Z.app()){var r;is(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new or(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new l.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new es(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lt,FacebookAuthProvider:ft,GithubAuthProvider:gt,GoogleAuthProvider:pt,OAuthProvider:dt,SAMLAuthProvider:yt,PhoneAuthProvider:rs,PhoneMultiFactorGenerator:hi,RecaptchaVerifier:ss,TwitterAuthProvider:vt,Auth:es,AuthCredential:Pe,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.6")}(i.Z)},6676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new u(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function c(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function l(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}s(l,"_index",["name","keyPath","multiEntry","unique"]),o(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new u(e,t._request)})})})}),h.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,l].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[l,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new f(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},7241:function(e,t,n){"use strict";n.d(t,{y:function(){return u}});var r=n(5756),i=n(9593),s=n(3122),o=n(7824),a=n(2046),c=n(5975),l=n(1519);let u=(()=>{class e{constructor(e){e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const s=function(e){return e&&e instanceof r.Lv||function(e){return e&&(0,c.m)(e.next)&&(0,c.m)(e.error)&&(0,c.m)(e.complete)}(e)&&(0,i.Nn)(e)}(e)?e:new r.Hp(e,t,n);return(0,l.x)(()=>{const{operator:e,source:t}=this;s.add(e?e.call(s,t):t?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=h(t))((t,n)=>{const i=new r.Hp({next:t=>{try{e(t)}catch(r){n(r),i.unsubscribe()}},error:n,complete:t});this.subscribe(i)})}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[s.L](){return this}pipe(...e){return(0,o.U)(e)(this)}toPromise(e){return new(e=h(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function h(e){var t;return null!==(t=null!=e?e:a.v.Promise)&&void 0!==t?t:Promise}},9359:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var r=n(7241),i=n(9593);const s=(0,n(5776).d)(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=n(8308),a=n(1519);let c=(()=>{class e extends r.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new l(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new s}next(e){(0,a.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const t=this.observers.slice();for(const n of t)n.next(e)}})}error(e){(0,a.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){(0,a.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:n,observers:r}=this;return t||n?i.Lc:(r.push(e),new i.w0(()=>(0,o.P)(r,e)))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:n,isStopped:r}=this;t?e.error(n):r&&e.complete()}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new l(e,t),e})();class l extends c{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}error(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:i.Lc}}},5756:function(e,t,n){"use strict";n.d(t,{Hp:function(){return f},Lv:function(){return d}});var r=n(5975),i=n(9593),s=n(2046),o=n(4922),a=n(408);const c=l("C",void 0,void 0);function l(e,t,n){return{kind:e,value:t,error:n}}var u=n(4146),h=n(1519);class d extends i.w0{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,(0,i.Nn)(e)&&e.add(this)):this.destination=y}static create(e,t,n){return new f(e,t,n)}next(e){this.isStopped?m(l("N",e,void 0),this):this._next(e)}error(e){this.isStopped?m(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?m(c,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class f extends d{constructor(e,t,n){let i;if(super(),(0,r.m)(e))i=e;else if(e){let r;({next:i,error:t,complete:n}=e),this&&s.v.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe()):r=e,i=null==i?void 0:i.bind(r),t=null==t?void 0:t.bind(r),n=null==n?void 0:n.bind(r)}this.destination={next:i?p(i):a.Z,error:p(null!=t?t:g),complete:n?p(n):a.Z}}}function p(e,t){return(...t)=>{try{e(...t)}catch(n){s.v.useDeprecatedSynchronousErrorHandling?(0,h.O)(n):(0,o.h)(n)}}}function g(e){throw e}function m(e,t){const{onStoppedNotification:n}=s.v;n&&u.z.setTimeout(()=>n(e,t))}const y={closed:!0,next:a.Z,error:g,complete:a.Z}},9593:function(e,t,n){"use strict";n.d(t,{Lc:function(){return a},w0:function(){return o},Nn:function(){return c}});var r=n(5975);const i=(0,n(5776).d)(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});var s=n(8308);class o{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:s}=this;if(s)if(this._parentage=null,Array.isArray(s))for(const e of s)e.remove(this);else s.remove(this);const{initialTeardown:o}=this;if((0,r.m)(o))try{o()}catch(t){e=t instanceof i?t.errors:[t]}const{_teardowns:a}=this;if(a){this._teardowns=null;for(const t of a)try{l(t)}catch(n){e=null!=e?e:[],n instanceof i?e=[...e,...n.errors]:e.push(n)}}if(e)throw new i(e)}}add(e){var t;if(e&&e!==this)if(this.closed)l(e);else{if(e instanceof o){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&(0,s.P)(t,e)}remove(e){const{_teardowns:t}=this;t&&(0,s.P)(t,e),e instanceof o&&e._removeParent(this)}}o.EMPTY=(()=>{const e=new o;return e.closed=!0,e})();const a=o.EMPTY;function c(e){return e instanceof o||e&&"closed"in e&&(0,r.m)(e.remove)&&(0,r.m)(e.add)&&(0,r.m)(e.unsubscribe)}function l(e){(0,r.m)(e)?e():e.unsubscribe()}},2046:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9018:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});const r=new(n(7241).y)(e=>e.complete())},8169:function(e,t,n){"use strict";n.d(t,{D:function(){return v}});var r=n(5955),i=n(7513),s=n(4119),o=n(7241),a=n(4565),c=n(5975),l=n(6903);function u(e,t){if(!e)throw new Error("Iterable cannot be null");return new o.y(n=>{(0,l.f)(n,t,()=>{const r=e[Symbol.asyncIterator]();(0,l.f)(n,t,()=>{r.next().then(e=>{e.done?n.complete():n.next(e.value)})},0,!0)})})}var h=n(2021),d=n(9450),f=n(6602),p=n(6920),g=n(2604),m=n(5626),y=n(1559);function v(e,t){return t?function(e,t){if(null!=e){if((0,h.c)(e))return function(e,t){return(0,r.Xf)(e).pipe((0,s.R)(t),(0,i.Q)(t))}(e,t);if((0,f.z)(e))return function(e,t){return new o.y(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if((0,d.t)(e))return function(e,t){return(0,r.Xf)(e).pipe((0,s.R)(t),(0,i.Q)(t))}(e,t);if((0,g.D)(e))return u(e,t);if((0,p.T)(e))return function(e,t){return new o.y(n=>{let r;return(0,l.f)(n,t,()=>{r=e[a.h](),(0,l.f)(n,t,()=>{let e,t;try{({value:e,done:t}=r.next())}catch(i){return void n.error(i)}t?n.complete():n.next(e)},0,!0)}),()=>(0,c.m)(null==r?void 0:r.return)&&r.return()})}(e,t);if((0,y.L)(e))return function(e,t){return u((0,y.Q)(e),t)}(e,t)}throw(0,m.z)(e)}(e,t):(0,r.Xf)(e)}},5955:function(e,t,n){"use strict";n.d(t,{Xf:function(){return g}});var r=n(4762),i=n(6602),s=n(9450),o=n(7241),a=n(2021),c=n(2604),l=n(5626),u=n(6920),h=n(1559),d=n(5975),f=n(4922),p=n(3122);function g(e){if(e instanceof o.y)return e;if(null!=e){if((0,a.c)(e))return function(e){return new o.y(t=>{const n=e[p.L]();if((0,d.m)(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if((0,i.z)(e))return function(e){return new o.y(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if((0,s.t)(e))return function(e){return new o.y(t=>{e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,f.h)})}(e);if((0,c.D)(e))return m(e);if((0,u.T)(e))return function(e){return new o.y(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if((0,h.L)(e))return function(e){return m((0,h.Q)(e))}(e)}throw(0,l.z)(e)}function m(e){return new o.y(t=>{(function(e,t){var n,i,s,o;return(0,r.mG)(this,void 0,void 0,function*(){try{for(n=(0,r.KL)(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(a){s={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(s)throw s.error}}t.complete()})})(e,t).catch(e=>t.error(e))})}},1860:function(e,t,n){"use strict";n.d(t,{T:function(){return c}});var r=n(549),i=n(5955),s=n(9018),o=n(6651),a=n(8169);function c(...e){const t=(0,o.yG)(e),n=(0,o._6)(e,1/0),c=e;return c.length?1===c.length?(0,i.Xf)(c[0]):(0,r.J)(n)((0,a.D)(c,t)):s.E}},8499:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(5756);class i extends r.Lv{constructor(e,t,n,r,i){super(e),this.onFinalize=i,this._next=t?function(n){try{t(n)}catch(r){e.error(r)}}:super._next,this._error=r?function(t){try{r(t)}catch(n){e.error(n)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}},7969:function(e,t,n){"use strict";n.d(t,{U:function(){return s}});var r=n(2085),i=n(8499);function s(e,t){return(0,r.e)((n,r)=>{let s=0;n.subscribe(new i.Q(r,n=>{r.next(e.call(t,n,s++))}))})}},549:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(3159),i=n(8330);function s(e=1/0){return(0,r.z)(i.y,e)}},3159:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(7969),i=n(5955),s=n(2085),o=(n(6903),n(8499)),a=n(5975);function c(e,t,n=1/0){return(0,a.m)(t)?c((n,s)=>(0,r.U)((e,r)=>t(n,e,s,r))((0,i.Xf)(e(n,s))),n):("number"==typeof t&&(n=t),(0,s.e)((t,r)=>function(e,t,n,r,s,a,c,l){const u=[];let h=0,d=0,f=!1;const p=()=>{f&&!u.length&&!h&&t.complete()},g=e=>h<r?m(e):u.push(e),m=e=>{h++;let s=!1;(0,i.Xf)(n(e,d++)).subscribe(new o.Q(t,e=>{t.next(e)},()=>{s=!0},void 0,()=>{if(s)try{for(h--;u.length&&h<r;){const e=u.shift();m(e)}p()}catch(e){t.error(e)}}))};return e.subscribe(new o.Q(t,g,()=>{f=!0,p()})),()=>{}}(t,r,e,n)))}},7513:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(6903),i=n(2085),s=n(8499);function o(e,t=0){return(0,i.e)((n,i)=>{n.subscribe(new s.Q(i,n=>(0,r.f)(i,e,()=>i.next(n),t),()=>(0,r.f)(i,e,()=>i.complete(),t),n=>(0,r.f)(i,e,()=>i.error(n),t)))})}},815:function(e,t,n){"use strict";n.d(t,{B:function(){return c}});var r=n(8169),i=n(5598),s=n(9359),o=n(5756),a=n(2085);function c(e={}){const{connector:t=(()=>new s.x),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:c=!0}=e;return e=>{let s=null,u=null,h=null,d=0,f=!1,p=!1;const g=()=>{null==u||u.unsubscribe(),u=null},m=()=>{g(),s=h=null,f=p=!1},y=()=>{const e=s;m(),null==e||e.unsubscribe()};return(0,a.e)((e,a)=>{d++,!p&&!f&&g();const v=h=null!=h?h:t();a.add(()=>{d--,0===d&&!p&&!f&&(u=l(y,c))}),v.subscribe(a),s||(s=new o.Hp({next:e=>v.next(e),error:e=>{p=!0,g(),u=l(m,n,e),v.error(e)},complete:()=>{f=!0,g(),u=l(m,i),v.complete()}}),(0,r.D)(e).subscribe(s))})(e)}}function l(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe((0,i.q)(1)).subscribe(()=>e())}},4119:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(2085);function i(e,t=0){return(0,r.e)((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}},5598:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(9018),i=n(2085),s=n(8499);function o(e){return e<=0?()=>r.E:(0,i.e)((t,n)=>{let r=0;t.subscribe(new s.Q(n,t=>{++r<=e&&(n.next(t),e<=r&&n.complete())}))})}},8168:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(5975),i=n(2085),s=n(8499),o=n(8330);function a(e,t,n){const a=(0,r.m)(e)||t||n?{next:e,error:t,complete:n}:e;return a?(0,i.e)((e,t)=>{var n;null===(n=a.subscribe)||void 0===n||n.call(a);let r=!0;e.subscribe(new s.Q(t,e=>{var n;null===(n=a.next)||void 0===n||n.call(a,e),t.next(e)},()=>{var e;r=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()},e=>{var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,e),t.error(e)},()=>{var e,t;r&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)}))}):o.y}},4415:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(9593);class i extends r.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const s={setInterval(...e){const{delegate:t}=s;return((null==t?void 0:t.setInterval)||setInterval)(...e)},clearInterval(e){const{delegate:t}=s;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0};var o=n(8308);class a extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return s.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;s.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.P)(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}},2994:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var r=n(2069);class i{constructor(e,t=i.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}i.now=r.l.now;class s extends i{constructor(e,t=i.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},6523:function(e,t,n){"use strict";n.d(t,{z:function(){return i},P:function(){return s}});var r=n(4415);const i=new(n(2994).v)(r.o),s=i},2069:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},4146:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});const r={setTimeout(...e){const{delegate:t}=r;return((null==t?void 0:t.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=r;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},4565:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},3122:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},6651:function(e,t,n){"use strict";n.d(t,{jO:function(){return o},yG:function(){return a},_6:function(){return c}});var r=n(5975),i=n(1830);function s(e){return e[e.length-1]}function o(e){return(0,r.m)(s(e))?e.pop():void 0}function a(e){return(0,i.K)(s(e))?e.pop():void 0}function c(e,t){return"number"==typeof s(e)?e.pop():t}},8308:function(e,t,n){"use strict";function r(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:function(){return r}})},5776:function(e,t,n){"use strict";function r(e){const t=e(e=>{Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:function(){return r}})},1519:function(e,t,n){"use strict";n.d(t,{x:function(){return s},O:function(){return o}});var r=n(2046);let i=null;function s(e){if(r.v.useDeprecatedSynchronousErrorHandling){const t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){const{errorThrown:e,error:t}=i;if(i=null,e)throw t}}else e()}function o(e){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},6903:function(e,t,n){"use strict";function r(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}n.d(t,{f:function(){return r}})},8330:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},6602:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2604:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(5975);function i(e){return Symbol.asyncIterator&&(0,r.m)(null==e?void 0:e[Symbol.asyncIterator])}},5975:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},2021:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var r=n(3122),i=n(5975);function s(e){return(0,i.m)(e[r.L])}},6920:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(4565),i=n(5975);function s(e){return(0,i.m)(null==e?void 0:e[r.h])}},9450:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(5975);function i(e){return(0,r.m)(null==e?void 0:e.then)}},1559:function(e,t,n){"use strict";n.d(t,{Q:function(){return s},L:function(){return o}});var r=n(4762),i=n(5975);function s(e){return(0,r.FC)(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:e,done:n}=yield(0,r.qq)(t.read());if(n)return yield(0,r.qq)(void 0);yield yield(0,r.qq)(e)}}finally{t.releaseLock()}})}function o(e){return(0,i.m)(null==e?void 0:e.getReader)}},1830:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(5975);function i(e){return e&&(0,r.m)(e.schedule)}},2085:function(e,t,n){"use strict";n.d(t,{A:function(){return i},e:function(){return s}});var r=n(5975);function i(e){return(0,r.m)(null==e?void 0:e.lift)}function s(e){return t=>{if(i(t))return t.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}},408:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},7824:function(e,t,n){"use strict";n.d(t,{z:function(){return i},U:function(){return s}});var r=n(8330);function i(...e){return s(e)}function s(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}},4922:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(2046),i=n(4146);function s(e){i.z.setTimeout(()=>{const{onUnhandledError:t}=r.v;if(!t)throw e;t(e)})}},5626:function(e,t,n){"use strict";function r(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}n.d(t,{z:function(){return r}})},2058:function(e,t,n){"use strict";var r=n(7716);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:c,token:e,providedIn:"platform"}),e})();function c(){return(0,r.LFG)(u)}const l=new r.OlP("Location Initialized");let u=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new u((0,r.LFG)(o))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new _((0,r.LFG)(a),t&&t.origin||"")}const v=new r.OlP("appBaseHref");let _=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p(S(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=f,e.stripTrailingSlash=p,e.\u0275prov=(0,r.Yz7)({factory:T,token:e,providedIn:"root"}),e})();function T(){return new b((0,r.LFG)(m),(0,r.LFG)(a))}function S(e){return e.replace(/\/index.html$/,"")}var E=(()=>((E=E||{})[E.Zero=0]="Zero",E[E.One=1]="One",E[E.Two=2]="Two",E[E.Few=3]="Few",E[E.Many=4]="Many",E[E.Other=5]="Other",E))();const C=r.kL8;class I{}let k=(()=>{class e extends I{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(C(t||this.locale)(e)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function A(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let x=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),O=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){R("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){R("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function R(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:I,useClass:k}]}),e})();function D(e){return"server"===e}let L=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new F((0,r.LFG)(o),window)}),e})();class F{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=M(this.window.history)||M(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function M(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class U{}class j extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new j,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(q=q||document.querySelector("base"),q?q.getAttribute("href"):null);return null==t?null:function(e){V=V||document.createElement("a"),V.setAttribute("href",e);const t=V.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return A(document.cookie,e)}}let V,q=null;const B=new r.OlP("TRANSITION_ID"),z=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let e=0;e<r.length;e++)n.remove(r[e])})}},deps:[B,o,r.zs3],multi:!0}];class Z{static init(){(0,r.VLi)(new Z)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let H=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const $=new r.OlP("EventManagerPlugins");let G=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG($),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class K{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let W=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Q=(()=>{class e extends W{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(Y),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Y))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Y(e){s().remove(e)}const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},X=/%COMP%/g;function ee(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?ee(e,i,n):(i=i.replace(X,e),n.push(i))}return n}function te(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let ne=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new re(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new ie(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new se(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=ee(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(G),r.LFG(Q),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class re{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(J[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=J[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=J[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,te(n)):this.eventManager.addEventListener(e,t,te(n))}}class ie extends re{constructor(e,t,n,r){super(e),this.component=n;const i=ee(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(X,r+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(X,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class se extends re{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ee(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let oe=(()=>{class e extends K{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ae=["alt","control","meta","shift"],ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},le={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ue={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let he=(()=>{class e extends K{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(ae.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&le.hasOwnProperty(t)&&(t=le[t]))}return ce[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ae.forEach(r=>{r!=n&&ue[r](e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(fe)},token:e,providedIn:"root"}),e})(),fe=(()=>{class e extends de{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case r.q3G.NONE:return t;case r.q3G.HTML:return(0,r.qzn)(t,"HTML")?(0,r.z3N)(t):(0,r.EiD)(this._doc,String(t)).toString();case r.q3G.STYLE:return(0,r.qzn)(t,"Style")?(0,r.z3N)(t):t;case r.q3G.SCRIPT:if((0,r.qzn)(t,"Script"))return(0,r.z3N)(t);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(t),(0,r.qzn)(t,"URL")?(0,r.z3N)(t):(0,r.mCW)(String(t));case r.q3G.RESOURCE_URL:if((0,r.qzn)(t,"ResourceURL"))return(0,r.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,r.JVY)(e)}bypassSecurityTrustStyle(e){return(0,r.L6k)(e)}bypassSecurityTrustScript(e){return(0,r.eBb)(e)}bypassSecurityTrustUrl(e){return(0,r.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,r.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:function(){return function(e){return new fe(e.get(o))}((0,r.LFG)(r.gxx))},token:e,providedIn:"root"}),e})();const pe=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){j.makeCurrent(),Z.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),ge=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:$,useClass:oe,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:$,useClass:he,multi:!0,deps:[o]},[],{provide:ne,useClass:ne,deps:[G,Q,r.AFp]},{provide:r.FYo,useExisting:ne},{provide:W,useExisting:Q},{provide:Q,useClass:Q,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:G,useClass:G,deps:[$,r.R0b]},{provide:U,useClass:H,deps:[]},[]];let me=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:B,useExisting:r.AFp},z]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:ge,imports:[N,r.hGG]}),e})();"undefined"!=typeof window&&window;var ye=n(8169),ve=n(6651);function _e(...e){const t=(0,ve.yG)(e);return(0,ye.D)(e,t)}var we=n(9359);class be extends we.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:n}=this;if(e)throw t;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}}var Te=n(7241);const{isArray:Se}=Array,{getPrototypeOf:Ee,prototype:Ce,keys:Ie}=Object;function ke(e){if(1===e.length){const t=e[0];if(Se(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&Ee(e)===Ce}(t)){const e=Ie(t);return{args:e.map(e=>t[e]),keys:e}}}return{args:e,keys:null}}var Ae=n(8330),xe=n(7969);const{isArray:Oe}=Array;function Pe(e){return(0,xe.U)(t=>function(e,t){return Oe(t)?e(...t):e(t)}(e,t))}function Re(e,t){return e.reduce((e,n,r)=>(e[n]=t[r],e),{})}var Ne=n(8499),De=n(6903);function Le(...e){const t=(0,ve.yG)(e),n=(0,ve.jO)(e),{args:r,keys:i}=ke(e);if(0===r.length)return(0,ye.D)([],t);const s=new Te.y(function(e,t,n=Ae.y){return r=>{Fe(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)Fe(t,()=>{const i=(0,ye.D)(e[c],t);let l=!1;i.subscribe(new Ne.Q(r,e=>{s[c]=e,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?e=>Re(i,e):Ae.y));return n?s.pipe(Pe(n)):s}function Fe(e,t,n){e?(0,De.f)(n,e,t):t()}const Me=(0,n(5776).d)(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});var Ue=n(549);function je(...e){return(0,Ue.J)(1)((0,ye.D)(e,(0,ve.yG)(e)))}var Ve=n(5955);function qe(e){return new Te.y(t=>{(0,Ve.Xf)(e()).subscribe(t)})}var Be=n(9018),ze=n(9593),Ze=n(2085);function He(){return(0,Ze.e)((e,t)=>{let n=null;e._refCount++;const r=new Ne.Q(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,i=n;n=null,r&&(!i||r===i)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class $e extends Te.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ze.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze.w0;const t=this.getSubject();e.add(this.source.subscribe(new Ne.Q(t,void 0,()=>{this._teardown(),t.complete()},e=>{this._teardown(),t.error(e)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.w0.EMPTY)}return e}refCount(){return He()(this)}}function Ge(e,t){return(0,Ze.e)((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new Ne.Q(r,n=>{null==i||i.unsubscribe();let o=0;const c=s++;(0,Ve.Xf)(e(n,c)).subscribe(i=new Ne.Q(r,e=>r.next(t?t(n,e,c,o++):e),()=>{i=null,a()}))},()=>{o=!0,a()}))})}var Ke=n(5598);function We(...e){const t=(0,ve.yG)(e);return(0,Ze.e)((n,r)=>{(t?je(e,n,t):je(e,n)).subscribe(r)})}function Qe(e,t,n,r,i){return(s,o)=>{let a=n,c=t,l=0;s.subscribe(new Ne.Q(o,t=>{const n=l++;c=a?e(c,t,n):(a=!0,t),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Ye(e,t){return(0,Ze.e)(Qe(e,t,arguments.length>=2,!0))}function Je(e,t){return(0,Ze.e)((n,r)=>{let i=0;n.subscribe(new Ne.Q(r,n=>e.call(t,n,i++)&&r.next(n)))})}function Xe(e){return(0,Ze.e)((t,n)=>{let r,i=null,s=!1;i=t.subscribe(new Ne.Q(n,void 0,void 0,o=>{r=(0,Ve.Xf)(e(o,Xe(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):s=!0})),s&&(i.unsubscribe(),i=null,r.subscribe(n))})}var et=n(3159),tt=n(5975);function nt(e,t){return(0,tt.m)(t)?(0,et.z)(e,t,1):(0,et.z)(e,1)}function rt(e){return e<=0?()=>Be.E:(0,Ze.e)((t,n)=>{let r=[];t.subscribe(new Ne.Q(n,t=>{r.push(t),e<r.length&&r.shift()},()=>{for(const e of r)n.next(e);n.complete()},void 0,()=>{r=null}))})}function it(e=st){return(0,Ze.e)((t,n)=>{let r=!1;t.subscribe(new Ne.Q(n,e=>{r=!0,n.next(e)},()=>r?n.complete():n.error(e())))})}function st(){return new Me}function ot(e){return(0,Ze.e)((t,n)=>{let r=!1;t.subscribe(new Ne.Q(n,e=>{r=!0,n.next(e)},()=>{r||n.next(e),n.complete()}))})}function at(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Je((t,n)=>e(t,n,r)):Ae.y,(0,Ke.q)(1),n?ot(t):it(()=>new Me))}var ct=n(8168);function lt(e){return(0,Ze.e)((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}class ut{constructor(e,t){this.id=e,this.url=t}}class ht extends ut{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dt extends ut{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ft extends ut{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pt extends ut{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gt extends ut{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mt extends ut{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yt extends ut{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vt extends ut{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _t extends ut{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wt{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bt{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tt{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class St{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Et{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ct{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class It{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const kt="primary";class At{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xt(e){return new At(e)}const Ot="ngNavigationCancelingError";function Pt(e){const t=Error("NavigationCancelingError: "+e);return t[Ot]=!0,t}function Rt(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Nt(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Dt(e[i],t[i]))return!1;return!0}function Dt(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Lt(e){return Array.prototype.concat.apply([],e)}function Ft(e){return e.length>0?e[e.length-1]:null}function Mt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ut(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,ye.D)(Promise.resolve(e)):_e(e)}const jt={exact:function e(t,n,r){if(!Kt(t.segments,n.segments)||!Zt(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!e(t.children[i],n.children[i],r))return!1;return!0},subset:Bt},Vt={exact:function(e,t){return Nt(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Dt(e[n],t[n]))},ignored:()=>!0};function qt(e,t,n){return jt[n.paths](e.root,t.root,n.matrixParams)&&Vt[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Bt(e,t,n){return zt(e,t,t.segments,n)}function zt(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Kt(i,n)||t.hasChildren()||!Zt(i,n,r))}if(e.segments.length===n.length){if(!Kt(e.segments,n)||!Zt(e.segments,n,r))return!1;for(const n in t.children)if(!e.children[n]||!Bt(e.children[n],t.children[n],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Kt(e.segments,i)&&Zt(e.segments,i,r)&&e.children[kt])&&zt(e.children[kt],t,s,r)}}function Zt(e,t,n){return t.every((t,r)=>Vt[n](e[r].parameters,t.parameters))}class Ht{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xt(this.queryParams)),this._queryParamMap}toString(){return Yt.serialize(this)}}class $t{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mt(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jt(this)}}class Gt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xt(this.parameters)),this._parameterMap}toString(){return on(this)}}function Kt(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Wt{}class Qt{parse(e){const t=new hn(e);return new Ht(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${Xt(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${tn(t)}=${tn(e)}`).join("&"):`${tn(t)}=${tn(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Yt=new Qt;function Jt(e){return e.segments.map(e=>on(e)).join("/")}function Xt(e,t){if(!e.hasChildren())return Jt(e);if(t){const t=e.children[kt]?Xt(e.children[kt],!1):"",n=[];return Mt(e.children,(e,t)=>{t!==kt&&n.push(`${t}:${Xt(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Mt(e.children,(e,r)=>{r===kt&&(n=n.concat(t(e,r)))}),Mt(e.children,(e,r)=>{r!==kt&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===kt?[Xt(e.children[kt],!1)]:[`${n}:${Xt(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[kt]?`${Jt(e)}/${t[0]}`:`${Jt(e)}/(${t.join("//")})`}}function en(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tn(e){return en(e).replace(/%3B/gi,";")}function nn(e){return en(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rn(e){return decodeURIComponent(e)}function sn(e){return rn(e.replace(/\+/g,"%20"))}function on(e){return`${nn(e.path)}${function(e){return Object.keys(e).map(t=>`;${nn(t)}=${nn(e[t])}`).join("")}(e.parameters)}`}const an=/^[^\/()?;=#]+/;function cn(e){const t=e.match(an);return t?t[0]:""}const ln=/^[^=?&#]+/,un=/^[^?&#]+/;class hn{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[kt]=new $t(e,t)),n}parseSegment(){const e=cn(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Gt(rn(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=cn(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=cn(this.remaining);e&&(n=e,this.capture(n))}e[rn(t)]=rn(n)}parseQueryParam(e){const t=function(e){const t=e.match(ln);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(un);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=sn(t),i=sn(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=cn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=kt);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[kt]:new $t([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class dn{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=fn(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=fn(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pn(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return pn(e,this._root).map(e=>e.value)}}function fn(e,t){if(e===t.value)return t;for(const n of t.children){const t=fn(e,n);if(t)return t}return null}function pn(e,t){if(e===t.value)return[t];for(const n of t.children){const r=pn(e,n);if(r.length)return r.unshift(t),r}return[]}class gn{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function mn(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class yn extends dn{constructor(e,t){super(e),this.snapshot=t,Sn(this,e)}toString(){return this.snapshot.toString()}}function vn(e,t){const n=function(e,t){const n=new bn([],{},{},"",{},kt,t,null,e.root,-1,{});return new Tn("",new gn(n,[]))}(e,t),r=new be([new Gt("",{})]),i=new be({}),s=new be({}),o=new be({}),a=new be(""),c=new _n(r,i,o,a,s,kt,t,n.root);return c.snapshot=n.root,new yn(new gn(c,[]),n)}class _n{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xe.U)(e=>xt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xe.U)(e=>xt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wn(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class bn{constructor(e,t,n,r,i,s,o,a,c,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tn extends dn{constructor(e,t){super(t),this.url=e,Sn(this,t)}toString(){return En(this._root)}}function Sn(e,t){t.value._routerState=e,t.children.forEach(t=>Sn(e,t))}function En(e){const t=e.children.length>0?` { ${e.children.map(En).join(", ")} } `:"";return`${e.value}${t}`}function Cn(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Nt(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Nt(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Nt(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Nt(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function In(e,t){return Nt(e.params,t.params)&&function(e,t){return Kt(e,t)&&e.every((e,n)=>Nt(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||In(e.parent,t.parent))}function kn(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return kn(e,t,r);return kn(e,t)})}(e,t,n);return new gn(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return An(t,e),e}}const n=function(e){return new _n(new be(e.url),new be(e.params),new be(e.queryParams),new be(e.fragment),new be(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(t=>kn(e,t));return new gn(n,r)}}function An(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)An(e.children[n],t.children[n])}function xn(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function On(e){return"object"==typeof e&&null!=e&&e.outlets}function Pn(e,t,n,r,i){let s={};return r&&Mt(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Ht(n.root===e?t:Rn(n.root,e,t),s,i)}function Rn(e,t,n){const r={};return Mt(e.children,(e,i)=>{r[i]=e===t?n:Rn(e,t,n)}),new $t(e.segments,r)}class Nn{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&xn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(On);if(r&&r!==Ft(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dn{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Ln(e,t,n){if(e||(e=new $t([],{})),0===e.segments.length&&e.hasChildren())return Fn(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(On(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Vn(a,c,t))return s;r+=2}else{if(!Vn(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new $t(e.segments.slice(0,r.pathIndex),{});return t.children[kt]=new $t(e.segments.slice(r.pathIndex),e.children),Fn(t,0,i)}return r.match&&0===i.length?new $t(e.segments,{}):r.match&&!e.hasChildren()?Mn(e,t,n):r.match?Fn(e,0,i):Mn(e,t,n)}function Fn(e,t,n){if(0===n.length)return new $t(e.segments,{});{const r=function(e){return On(e[0])?e[0].outlets:{[kt]:e}}(n),i={};return Mt(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Ln(e.children[r],t,n))}),Mt(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new $t(e.segments,i)}}function Mn(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(On(s)){const e=Un(s.outlets);return new $t(r,e)}if(0===i&&xn(n[0])){r.push(new Gt(e.segments[t].path,jn(n[0]))),i++;continue}const o=On(s)?s.outlets[kt]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&xn(a)?(r.push(new Gt(o,jn(a))),i+=2):(r.push(new Gt(o,{})),i++)}return new $t(r,{})}function Un(e){const t={};return Mt(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Mn(new $t([],{}),0,e))}),t}function jn(e){const t={};return Mt(e,(e,n)=>t[n]=`${e}`),t}function Vn(e,t,n){return e==n.path&&Nt(t,n.parameters)}class qn{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Cn(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=mn(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Mt(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=mn(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=mn(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Ct(e.value.snapshot))}),e.children.length&&this.forwardEvent(new St(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Cn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Bn(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Bn(e){Cn(e.value),e.children.forEach(Bn)}class zn{constructor(e,t){this.routes=e,this.module=t}}function Zn(e){return"function"==typeof e}function Hn(e){return e instanceof Ht}const $n=Symbol("INITIAL_VALUE");function Gn(){return Ge(e=>Le(e.map(e=>e.pipe((0,Ke.q)(1),We($n)))).pipe(Ye((e,t)=>{let n=!1;return t.reduce((e,r,i)=>e!==$n?e:(r===$n&&(n=!0),n||!1!==r&&i!==t.length-1&&!Hn(r)?e:r),e)},$n),Je(e=>e!==$n),(0,xe.U)(e=>Hn(e)?e:!0===e),(0,Ke.q)(1)))}let Kn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[Hr]},encapsulation:2}),e})();function Wn(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Qn(r,Yn(t,r))}}function Qn(e,t){e.children&&Wn(e.children,t)}function Yn(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Jn(e){const t=e.children&&e.children.map(Jn),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==kt&&(n.component=Kn),n}function Xn(e){return e.outlet||kt}function er(e,t){const n=e.filter(e=>Xn(e)===t);return n.push(...e.filter(e=>Xn(e)!==t)),n}const tr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function nr(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},tr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Rt)(n,e,t);if(!i)return Object.assign({},tr);const s={};Mt(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function rr(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>ir(e,t,n)&&Xn(n)!==kt)}(e,n,r)){const i=new $t(t,function(e,t,n,r){const i={};i[kt]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Xn(s)!==kt){const n=new $t([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Xn(s)]=n}return i}(e,t,r,new $t(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>ir(e,t,n))}(e,n,r)){const s=new $t(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(ir(e,n,a)&&!i[Xn(a)]){const n=new $t([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Xn(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new $t(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function ir(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function sr(e,t,n,r){return!!(Xn(e)===r||r!==kt&&ir(t,n,e))&&("**"===e.path||nr(t,e,n).matched)}function or(e,t,n){return 0===t.length&&!e.children[n]}class ar{constructor(e){this.segmentGroup=e||null}}class cr{constructor(e){this.urlTree=e}}function lr(e){return new Te.y(t=>t.error(new ar(e)))}function ur(e){return new Te.y(t=>t.error(new cr(e)))}function hr(e){return new Te.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class dr{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=rr(this.urlTree.root,[],[],this.config).segmentGroup,t=new $t(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,kt).pipe((0,xe.U)(e=>this.createUrlTree(fr(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xe(e=>{if(e instanceof cr)return this.allowRedirects=!1,this.match(e.urlTree);throw e instanceof ar?this.noMatchError(e):e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,kt).pipe((0,xe.U)(t=>this.createUrlTree(fr(t),e.queryParams,e.fragment))).pipe(Xe(e=>{throw e instanceof ar?this.noMatchError(e):e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new $t([],{[kt]:e}):e;return new Ht(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,xe.U)(e=>new $t([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,ye.D)(r).pipe(nt(r=>{const i=n.children[r],s=er(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,xe.U)(e=>({segment:e,outlet:r})))}),Ye((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Je((t,n)=>e(t,n,r)):Ae.y,rt(1),n?ot(t):it(()=>new Me))}())}expandSegment(e,t,n,r,i,s){return(0,ye.D)(n).pipe(nt(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(Xe(e=>{if(e instanceof ar)return _e(null);throw e}))),at(e=>!!e),Xe((e,n)=>{if(e instanceof Me||"EmptyError"===e.name){if(or(t,r,i))return _e(new $t([],{}));throw new ar(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return sr(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):lr(t):lr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ur(i):this.lineralizeSegments(n,i).pipe((0,et.z)(n=>{const i=new $t(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=nr(t,r,i);if(!o)return lr(t);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?ur(u):this.lineralizeSegments(r,u).pipe((0,et.z)(r=>this.expandSegment(e,t,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?_e(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,xe.U)(e=>(n._loadedConfig=e,new $t(r,{})))):_e(new $t(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=nr(t,n,r);if(!s)return lr(t);const c=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,et.z)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:l}=rr(t,o,c,s),u=new $t(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe((0,xe.U)(e=>new $t(o,e)));if(0===s.length&&0===l.length)return _e(new $t(o,{}));const h=Xn(n)===i;return this.expandSegment(r,u,s,l,h?kt:i,!0).pipe((0,xe.U)(e=>new $t(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?_e(new zn(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?_e(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,et.z)(n=>{return n?this.configLoader.load(e.injector,t).pipe((0,xe.U)(e=>(t._loadedConfig=e,e))):(r=t,new Te.y(e=>e.error(Pt(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):_e(new zn([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;return r&&0!==r.length?_e(r.map(r=>{const i=e.get(r);let s;if((o=i)&&Zn(o.canLoad))s=i.canLoad(t,n);else{if(!Zn(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}var o;return Ut(s)})).pipe(Gn(),(0,ct.b)(e=>{if(!Hn(e))return;const t=Pt(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,xe.U)(e=>!0===e)):_e(!0)}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return _e(n);if(r.numberOfChildren>1||!r.children[kt])return hr(e.redirectTo);r=r.children[kt]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Ht(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Mt(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Mt(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new $t(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function fr(e){const t={};for(const n of Object.keys(e.children)){const r=fr(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children[kt]){const t=e.children[kt];return new $t(e.segments.concat(t.segments),t.children)}return e}(new $t(e.segments,t))}class pr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gr{constructor(e,t){this.component=e,this.route=t}}function mr(e,t,n){const r=e._root;return vr(r,t?t._root:null,n,[r.value])}function yr(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function vr(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=mn(t);return e.children.forEach(e=>{(function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Kt(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Kt(e.url,t.url)||!Nt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!In(e,t)||!Nt(e.queryParams,t.queryParams);case"paramsChange":default:return!In(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new pr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),vr(e,t,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gr(a.outlet.component,o))}else o&&_r(t,a,i),i.canActivateChecks.push(new pr(r)),vr(e,null,s.component?a?a.children:null:n,r,i)})(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Mt(s,(e,t)=>_r(e,n.getContext(t),i)),i}function _r(e,t,n){const r=mn(e),i=e.value;Mt(r,(e,r)=>{_r(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new gr(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class wr{}function br(e){return new Te.y(t=>t.error(e))}class Tr{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=rr(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,kt);if(null===t)return null;const n=new bn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new gn(n,t),i=new Tn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=wn(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=er(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Er(n);return r.sort((e,t)=>e.value.outlet===kt?-1:t.value.outlet===kt?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return or(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!sr(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?Ft(n).parameters:{};i=new bn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kr(e),Xn(e),e.component,e,Cr(t),Ir(t)+n.length,Ar(e))}else{const r=nr(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new bn(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kr(e),Xn(e),e.component,e,Cr(t),Ir(t)+s.length,Ar(e))}const a=(u=e).children?u.children:u.loadChildren?u._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:l}=rr(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);var u;if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return null===e?null:[new gn(i,e)]}if(0===a.length&&0===l.length)return[new gn(i,[])];const h=Xn(e)===r,d=this.processSegment(a,c,l,h?kt:r);return null===d?null:[new gn(i,d)]}}function Sr(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Er(e){const t=[],n=new Set;for(const r of e){if(!Sr(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Er(r.children);t.push(new gn(r.value,e))}return t.filter(e=>!n.has(e))}function Cr(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Ir(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function kr(e){return e.data||{}}function Ar(e){return e.resolve||{}}function xr(e){return Ge(t=>{const n=e(t);return n?(0,ye.D)(n).pipe((0,xe.U)(()=>t)):_e(t)})}class Or extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Pr=new r.OlP("ROUTES");class Rr{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,xe.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new zn(Lt(i.injector.get(Pr,void 0,r.XFs.Self|r.XFs.Optional)).map(Jn),i)}),Xe(e=>{throw t._loader$=void 0,e}));return t._loader$=new $e(n,()=>new we.x).pipe(He()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,ye.D)(this.loader.load(e)):Ut(e()).pipe((0,et.z)(e=>e instanceof r.YKP?_e(e):(0,ye.D)(this.compiler.compileModuleAsync(e))))}}class Nr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dr,this.attachRef=null}}class Dr{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Nr,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Lr{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Fr(e){throw e}function Mr(e,t,n){return t.parse("/")}function Ur(e,t){return _e(null)}const jr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class e{constructor(e,t,n,i,s,o,a,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new we.x,this.errorHandler=Fr,this.malformedUriErrorHandler=Mr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ur,afterPreactivation:Ur},this.urlHandlingStrategy=new Lr,this.routeReuseStrategy=new Or,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const l=s.get(r.R0b);this.isNgZoneEnabled=l instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Ht(new $t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rr(o,a,e=>this.triggerEvent(new wt(e)),e=>this.triggerEvent(new bt(e))),this.routerState=vn(this.currentUrlTree,this.rootComponentType),this.transitions=new be({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(Je(e=>0!==e.id),(0,xe.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Ge(e=>{let n=!1,r=!1;return _e(e).pipe((0,ct.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ge(e=>{const n=this.browserUrlTree.toString(),i=!this.navigated||e.extractedUrl.toString()!==n||n!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Br(e.source)&&(this.browserUrlTree=e.extractedUrl),_e(e).pipe(Ge(e=>{const n=this.transitions.getValue();return t.next(new ht(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Be.E:Promise.resolve(e)}),function(e,t,n,r){return Ge(i=>function(e,t,n,r,i){return new dr(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe((0,xe.U)(e=>Object.assign(Object.assign({},i),{urlAfterRedirects:e}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ct.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,s){return(0,et.z)(o=>function(e,t,n,i,s="emptyOnly",o="legacy"){try{const r=new Tr(e,t,n,i,s,o).recognize();return null===r?br(new wr):_e(r)}catch(r){return br(r)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),i,s).pipe((0,xe.U)(e=>Object.assign(Object.assign({},o),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ct.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new gt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new ht(n,this.serializeUrl(r),i,s);t.next(a);const c=vn(r,this.rootComponentType).snapshot;return _e(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Be.E}),xr(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,ct.b)(e=>{const t=new mt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,xe.U)(e=>Object.assign(Object.assign({},e),{guards:mr(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,et.z)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?_e(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,ye.D)(e).pipe((0,et.z)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?_e(s.map(s=>{const o=yr(s,t,i);let a;if(function(e){return e&&Zn(e.canDeactivate)}(o))a=Ut(o.canDeactivate(e,t,n,r));else{if(!Zn(o))throw new Error("Invalid CanDeactivate guard");a=Ut(o(e,t,n,r))}return a.pipe(at())})).pipe(Gn()):_e(!0)}(e.component,e.route,n,t,r)),at(e=>!0!==e,!0))}(o,r,i,e).pipe((0,et.z)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,ye.D)(t).pipe(nt(t=>je(function(e,t){return null!==e&&t&&t(new Tt(e)),_e(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Et(e)),_e(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>qe(()=>_e(t.guards.map(i=>{const s=yr(i,t.node,n);let o;if(function(e){return e&&Zn(e.canActivateChild)}(s))o=Ut(s.canActivateChild(r,e));else{if(!Zn(s))throw new Error("Invalid CanActivateChild guard");o=Ut(s(r,e))}return o.pipe(at())})).pipe(Gn())));return _e(i).pipe(Gn())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?_e(r.map(r=>qe(()=>{const i=yr(r,t,n);let s;if(function(e){return e&&Zn(e.canActivate)}(i))s=Ut(i.canActivate(t,e));else{if(!Zn(i))throw new Error("Invalid CanActivate guard");s=Ut(i(t,e))}return s.pipe(at())}))).pipe(Gn()):_e(!0)}(e,t.route,n))),at(e=>!0!==e,!0))}(r,s,e,t):_e(n)),(0,xe.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,ct.b)(e=>{if(Hn(e.guardsResult)){const t=Pt(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new yt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Je(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),xr(e=>{if(e.guards.canActivateChecks.length)return _e(e).pipe((0,ct.b)(e=>{const t=new vt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Ge(e=>{let t=!1;return _e(e).pipe(function(e,t){return(0,et.z)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return _e(n);let s=0;return(0,ye.D)(i).pipe(nt(n=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return _e({});const s={};return(0,ye.D)(i).pipe((0,et.z)(i=>function(e,t,n,r){const i=yr(e,t,r);return Ut(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,ct.b)(e=>{s[i]=e}))),rt(1),(0,et.z)(()=>Object.keys(s).length===i.length?_e(s):Be.E))}(e._resolve,e,t,r).pipe((0,xe.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),wn(e,n).resolve),null)))}(n.route,r,e,t)),(0,ct.b)(()=>s++),rt(1),(0,et.z)(e=>s===i.length?_e(n):Be.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ct.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),(0,ct.b)(e=>{const t=new _t(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),xr(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,xe.U)(e=>{const t=function(e,t,n){const r=kn(e,t._root,n?n._root:void 0);return new yn(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,ct.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),((e,t,n)=>(0,xe.U)(r=>(new qn(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),(0,ct.b)({next(){n=!0},complete(){n=!0}}),lt(()=>{var t;if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}(null===(t=this.currentNavigation)||void 0===t?void 0:t.id)===e.id&&(this.currentNavigation=null)}),Xe(n=>{if(r=!0,function(e){return e&&e[Ot]}(n)){const r=Hn(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new ft(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree),r={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Br(e.source)};this.scheduleNavigation(t,"imperative",null,r,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new pt(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return Be.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Wn(e),this.config=e.map(Jn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return Pn(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Nn(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Mt(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Nn(n,t,r)}(n);if(s.toRoot())return Pn(t.root,new $t([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new Dn(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Dn(e,e===t.root,0)}const r=xn(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Dn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Fn(o.segmentGroup,o.index,s.commands):Ln(o.segmentGroup,o.index,s.commands);return Pn(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,l,null!=c?c:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Hn(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},jr):!1===t?Object.assign({},Vr):t,Hn(e))return qt(this.currentUrlTree,e,n);const r=this.parseUrl(e);return qt(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new dt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,t,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c=Br(t)&&a&&!Br(a.source),l=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);let u,h,d;i?(u=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{u=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new ft(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(Wt),r.LFG(Dr),r.LFG(b),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Br(e){return"imperative"!==e}let zr=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new we.x,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Zr(this.skipLocationChange),replaceUrl:Zr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zr(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(qr),r.Y36(_n),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function Zr(e){return""===e||!!e}let Hr=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||kt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new $r(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Dr),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class $r{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===_n?this.route:e===Dr?this.childContexts:this.parent.get(e,t)}}class Gr{}class Kr{preload(e,t){return _e(null)}}let Wr=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Rr(t,n,t=>e.triggerEvent(new wt(t)),t=>e.triggerEvent(new bt(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Je(e=>e instanceof dt),nt(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,ye.D)(n).pipe((0,Ue.J)(),(0,xe.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?_e(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,et.z)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(qr),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(Gr))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Qr=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ht?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof dt&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof It&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new It(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(qr),r.LFG(L),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Yr=new r.OlP("ROUTER_CONFIGURATION"),Jr=new r.OlP("ROUTER_FORROOT_GUARD"),Xr=[b,{provide:Wt,useClass:Qt},{provide:qr,useFactory:function(e,t,n,r,i,s,o,a={},c,l){const u=new qr(null,e,t,n,r,i,s,Lt(o));return c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Wt,Dr,b,r.zs3,r.v3s,r.Sil,Pr,Yr,[class{},new r.FiY],[class{},new r.FiY]]},Dr,{provide:_n,useFactory:function(e){return e.routerState.root},deps:[qr]},{provide:r.v3s,useClass:r.EAV},Wr,Kr,class{preload(e,t){return t().pipe(Xe(()=>_e(null)))}},{provide:Yr,useValue:{enableTracing:!1}}];function ei(){return new r.PXZ("Router",qr)}let ti=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Xr,si(t),{provide:Jr,useFactory:ii,deps:[[qr,new r.FiY,new r.tp0]]},{provide:Yr,useValue:n||{}},{provide:m,useFactory:ri,deps:[a,[new r.tBr(v),new r.FiY],Yr]},{provide:Qr,useFactory:ni,deps:[qr,L,Yr]},{provide:Gr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Kr},{provide:r.PXZ,multi:!0,useFactory:ei},[oi,{provide:r.ip1,multi:!0,useFactory:ai,deps:[oi]},{provide:li,useFactory:ci,deps:[oi]},{provide:r.tb,multi:!0,useExisting:li}]]}}static forChild(t){return{ngModule:e,providers:[si(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Jr,8),r.LFG(qr,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function ni(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Qr(e,t,n)}function ri(e,t,n={}){return n.useHash?new w(e,t):new _(e,t)}function ii(e){return"guarded"}function si(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:Pr,multi:!0,useValue:e}]}let oi=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new we.x}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(qr),r=this.injector.get(Yr);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?_e(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Yr),n=this.injector.get(Wr),i=this.injector.get(Qr),s=this.injector.get(qr),o=this.injector.get(r.z2F);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function ai(e){return e.appInitializer.bind(e)}function ci(e){return e.bootstrapListener.bind(e)}const li=new r.OlP("Router Initializer");let ui=(()=>{class e{constructor(){this.title="OpenBook v1.0.0"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:[Hr],styles:[".container[_ngcontent-%COMP%]{height:90%;display:flex;align-items:center;justify-content:center;flex-direction:column}.content[_ngcontent-%COMP%]{overflow-y:scroll}"]}),e})();class hi{}const di="*";function fi(e,t){return{type:7,name:e,definitions:t,options:{}}}function pi(e,t=null){return{type:4,styles:t,timings:e}}function gi(e,t=null){return{type:2,steps:e,options:t}}function mi(e){return{type:6,styles:e,offset:null}}function yi(e,t,n){return{type:0,name:e,styles:t,options:n}}function vi(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function _i(e){Promise.resolve(null).then(e)}class wi{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_i(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class bi{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?_i(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function Ti(){return"undefined"!=typeof window&&void 0!==window.document}function Si(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ei(e){switch(e.length){case 0:return new wi;case 1:return e[0];default:return new bi(e)}}function Ci(e,t,n,r,i={},s={}){const o=[],a=[];let c=-1,l=null;if(r.forEach(e=>{const n=e.offset,r=n==c,u=r&&l||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),a){case"!":a=i[n];break;case di:a=s[n];break;default:a=t.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),l=u,c=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function Ii(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&ki(n,"start",e)));break;case"done":e.onDone(()=>r(n&&ki(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&ki(n,"destroy",e)))}}function ki(e,t,n){const r=n.totalTime,i=Ai(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),s=e._data;return null!=s&&(i._data=s),i}function Ai(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function xi(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function Oi(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Pi=(e,t)=>!1,Ri=(e,t)=>!1,Ni=(e,t,n)=>[];const Di=Si();(Di||"undefined"!=typeof Element)&&(Pi=Ti()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),Ri=(()=>{if(Di||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):Ri}})(),Ni=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let Li=null,Fi=!1;function Mi(e){Li||(Li=("undefined"!=typeof document?document.body:null)||{},Fi=!!Li.style&&"WebkitAppearance"in Li.style);let t=!0;return Li.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Li.style,!t&&Fi&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Li.style)),t}const Ui=Ri,ji=Pi,Vi=Ni;function qi(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let Bi=(()=>{class e{validateStyleProperty(e){return Mi(e)}matchesElement(e,t){return Ui(e,t)}containsElement(e,t){return ji(e,t)}query(e,t,n){return Vi(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,s=[],o){return new wi(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),zi=(()=>{class e{}return e.NOOP=new Bi,e})();const Zi="ng-enter",Hi="ng-leave",$i="ng-trigger",Gi=".ng-trigger",Ki="ng-animating",Wi=".ng-animating";function Qi(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Yi(parseFloat(t[1]),t[2])}function Yi(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Ji(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=Yi(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Yi(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=e;if(!n){let n=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:s}}(e,t,n)}function Xi(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function es(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else Xi(e,n);return n}function ts(e,t,n){return n?t+":"+n+";":""}function ns(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=ts(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=ts(0,ds(n),e.style[n]));e.setAttribute("style",t)}function rs(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=hs(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),Si()&&ns(e))}function is(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=hs(t);e.style[n]=""}),Si()&&ns(e))}function ss(e){return Array.isArray(e)?1==e.length?e[0]:gi(e):e}const os=new RegExp("{{\\s*(.+?)\\s*}}","g");function as(e){let t=[];if("string"==typeof e){let n;for(;n=os.exec(e);)t.push(n[1]);os.lastIndex=0}return t}function cs(e,t,n){const r=e.toString(),i=r.replace(os,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function ls(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const us=/-+([a-z0-9])/g;function hs(e){return e.replace(us,(...e)=>e[1].toUpperCase())}function ds(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fs(e,t){return 0===e||0===t}function ps(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach(function(t){n[t]=ms(e,t)})}}return t}function gs(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function ms(e,t){return window.getComputedStyle(e)[t]}function ys(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(ws(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&t.push(ws(o,i))}(e,n,t)):n.push(e),n}const vs=new Set(["true","1"]),_s=new Set(["false","0"]);function ws(e,t){const n=vs.has(e)||_s.has(e),r=vs.has(t)||_s.has(t);return(i,s)=>{let o="*"==e||e==i,a="*"==t||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?vs.has(e):_s.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?vs.has(t):_s.has(t)),o&&a}}const bs=new RegExp("s*:selfs*,?","g");function Ts(e,t,n){return new Ss(e).build(t,n)}class Ss{constructor(e){this._driver=e}build(e,t){const n=new Es(t);return this._resetContextStyleTimingState(n),gs(this,ss(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(Cs(e)){const t=e;Object.keys(t).forEach(e=>{as(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=ls(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=gs(this,ss(e.animation),t);return{type:1,matchers:ys(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Is(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>gs(this,e,t)),options:Is(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=gs(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:Is(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return ks(Ji(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=ks(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||Ji(r,t),ks(n.duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let r,i=e.styles?e.styles:mi({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};n.easing&&(e.easing=n.easing),i=mi(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,t);o.isEmptyStep=s,r=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==di?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(Cs(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=as(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let c=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Cs(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(Cs(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const l=e.steps.length;let u=0;r>0&&r<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const h=l-1,d=t.currentTime,f=t.currentAnimateTimings,p=f.duration;return c.forEach((e,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*p;t.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:gs(this,ss(e.animation),t),options:Is(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Is(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Is(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(bs,"")),[e=e.replace(/@\*/g,Gi).replace(/@\w+/g,e=>Gi+"-"+e.substr(1)).replace(/:animating/g,Wi),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,xi(t.collectedStyles,t.currentQuerySelector,{});const o=gs(this,ss(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:Is(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ji(e.timings,t.errors,!0);return{type:12,animation:gs(this,ss(e.animation),t),timings:n,options:null}}}class Es{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Cs(e){return!Array.isArray(e)&&"object"==typeof e}function Is(e){return e?(e=Xi(e)).params&&(e.params=function(e){return e?Xi(e):null}(e.params)):e={},e}function ks(e,t,n){return{duration:e,delay:t,easing:n}}function As(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class xs{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Os=new RegExp(":enter","g"),Ps=new RegExp(":leave","g");function Rs(e,t,n,r,i,s={},o={},a,c,l=[]){return(new Ns).buildKeyframes(e,t,n,r,i,s,o,a,c,l)}class Ns{buildKeyframes(e,t,n,r,i,s,o,a,c,l=[]){c=c||new xs;const u=new Ls(e,t,c,r,i,l,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),gs(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[As(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?Qi(n.duration):null,s=null!=n.delay?Qi(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),gs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ds);const e=Qi(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>gs(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?Qi(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),gs(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Ji(t.params?cs(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?Qi(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ds);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),gs(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=t.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;gs(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const Ds={};class Ls{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ds,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Fs(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=Qi(n.duration)),null!=n.delay&&(r.delay=Qi(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{(!t||!e.hasOwnProperty(n))&&(e[n]=cs(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new Ls(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=Ds,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Ms(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(Os,"."+this._enterClassName)).replace(Ps,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return!i&&0==o.length&&s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class Fs{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Fs(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||di,this._currentKeyframe[e]=di}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},s=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=di})):es(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=cs(s[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:di),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=es(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?e.add(n):r==di&&t.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=e.size?ls(e.values()):[],s=t.size?ls(t.values()):[];if(n){const e=r[0],t=Xi(e);e.offset=0,t.offset=1,r=[e,t]}return As(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Ms extends Fs{constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=es(e[0],!1);a.offset=0,i.push(a);const c=es(e[0],!1);c.offset=Us(o),i.push(c);const l=e.length-1;for(let r=1;r<=l;r++){let o=es(e[r],!1);o.offset=Us((t+o.offset*n)/s),i.push(o)}n=s,t=0,r="",e=i}return As(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function Us(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class js{}class Vs extends js{normalizePropertyName(e,t){return hs(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(qs[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const qs=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Bs(e,t,n,r,i,s,o,a,c,l,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const zs={};class Zs{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||zs,d=this.buildStyles(n,o&&o.params||zs,u),f=a&&a.params||zs,p=this.buildStyles(r,f,u),g=new Set,m=new Map,y=new Map,v="void"===r,_={params:Object.assign(Object.assign({},h),f)},w=l?[]:Rs(e,t,this.ast.animation,i,s,d,p,_,c,u);let b=0;if(w.forEach(e=>{b=Math.max(e.duration+e.delay,b)}),u.length)return Bs(t,this._triggerName,n,r,v,d,p,[],[],m,y,b,u);w.forEach(e=>{const n=e.element,r=xi(m,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=xi(y,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&g.add(n)});const T=ls(g.values());return Bs(t,this._triggerName,n,r,v,d,p,w,T,m,y,b)}}class Hs{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=Xi(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=cs(s,r,t));const o=this.normalizer.normalizePropertyName(e,t);s=this.normalizer.normalizeStyleValue(e,o,s,t),n[o]=s})}}),n}}class $s{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Hs(e.style,e.options&&e.options.params||{},n)}),Gs(this.states,"true","1"),Gs(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Zs(e,t,this.states))}),this.fallbackTransition=function(e,t,n){return new Zs(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},t)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Gs(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const Ks=new xs;class Ws{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=Ts(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=Ci(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let s;const o=new Map;if(i?(s=Rs(this._driver,t,i,Zi,Hi,{},{},n,Ks,r),s.forEach(e=>{const t=xi(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,di)})});const a=Ei(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=Ai(t,"","","");return Ii(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Qs="ng-animate-queued",Ys="ng-animate-disabled",Js=".ng-animate-disabled",Xs=[],eo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},to={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},no="__ng_removed";class ro{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=Xi(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const io="void",so=new ro(io);class oo{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,go(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const s=xi(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=xi(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(go(e,$i),go(e,$i+"-"+t),a[t]=so),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new co(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(go(e,$i),go(e,$i+"-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const c=new ro(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[t]=c,a||(a=so),c.value!==io&&a.value===c.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,c.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(c.value,c.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{is(e,n),rs(e,r)})}return}const l=xi(this._engine.playersByElement,e,[]);l.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,c.value,e,c.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(go(e,Qs),s.onStart(()=>{mo(e,Qs)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),l.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,Gi,!0);n.forEach(e=>{if(e[no])return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,io,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Ei(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(t=>{const i=t.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||so,a=new ro(io),c=new co(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e[no];(!r||r===eo)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){go(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=Ai(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,Ii(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class ao{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new oo(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(lo(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!lo(t))return;const i=t[no];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),go(e,Ys)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),mo(e,Ys))}removeNode(e,t,n,r){if(lo(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t[no]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return lo(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,Gi,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Wi,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ei(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[no];if(t&&t.setForRemoval){if(e[no]=eo,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Js)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Js,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)go(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Ei(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new xs,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(e=>{l.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)l.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=fo(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((e,t)=>{const n=Zi+p++;f.set(t,n),e.forEach(e=>go(e,n))});const g=[],m=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const e=this.collectedLeaveElements[O],t=e[no];t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):y.add(e))}const v=new Map,_=fo(h,Array.from(m));_.forEach((e,t)=>{const n=Hi+p++;v.set(t,n),e.forEach(e=>go(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=f.get(t);e.forEach(e=>mo(e,n))}),_.forEach((e,t)=>{const n=v.get(t);e.forEach(e=>mo(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const w=[],b=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(w.push(t),this.collectedEnterElements.length){const e=i[no];if(e&&e.setForMove)return void t.destroy()}const l=!u||!this.driver.containsElement(u,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(e,n,d,h,l);if(p.errors&&p.errors.length)b.push(p);else{if(l)return t.onStart(()=>is(i,p.fromStyles)),t.onDestroy(()=>rs(i,p.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>is(i,p.fromStyles)),t.onDestroy(()=>rs(i,p.toStyles)),void r.push(t);p.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:t,element:i}),p.queriedElements.forEach(e=>xi(o,e,[]).push(t)),p.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),p.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=c.get(t);r||c.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(b.length){const e=[];b.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const T=new Map,S=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{xi(T,t,[]).push(e),e.destroy()})});const E=g.filter(e=>_o(e,a,c)),C=new Map;ho(C,this.driver,y,c,di).forEach(e=>{_o(e,a,c)&&E.push(e)});const I=new Map;d.forEach((e,t)=>{ho(I,this.driver,new Set(e),a,"!")}),E.forEach(e=>{const t=C.get(e),n=I.get(e);C.set(e,Object.assign(Object.assign({},t),n))});const k=[],A=[],x={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(l.has(t))return s.onDestroy(()=>rs(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=x;if(S.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=S.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>S.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,T,i,I,C);if(s.setRealPlayer(n),e===x)k.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=Ei(t)),r.push(s)}}else is(t,o.fromStyles),s.onDestroy(()=>rs(t,o.toStyles)),A.push(s),l.has(t)&&r.push(s)}),A.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=Ei(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let O=0;O<g.length;O++){const e=g[O],t=e[no];if(mo(e,Hi),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,Wi,!0);for(let e=0;e<r.length;e++){let t=o.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?yo(this,e,r):this.processLeaveNode(e)}return g.length=0,k.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),k}elementContainsData(e,t){let n=!1;const r=t[no];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==io;t.forEach(t=>{t.queued||!e&&t.triggerName!=r||s.push(t)})}}return(n||r)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==r,c=xi(n,e,[]);this._getPreviousPlayers(e,a,i,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})}is(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,s){const o=t.triggerName,a=t.element,c=[],l=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;l.add(h);const d=h[no];if(d&&d.removedBeforeQueried)return new wi(t.duration,t.delay);const f=h!==a,p=function(e){const t=[];return vo(e,t),t}((n.get(h)||Xs).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=i.get(h),m=s.get(h),y=Ci(0,this._normalizer,0,t.keyframes,g,m),v=this._buildPlayer(t,y,p);if(t.subTimeline&&r&&u.add(h),f){const t=new co(e,o,h);t.setRealPlayer(v),c.push(t)}return v});c.forEach(e=>{xi(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),l.forEach(e=>go(e,Ki));const d=Ei(h);return d.onDestroy(()=>{l.forEach(e=>mo(e,Ki)),rs(a,t.toStyles)}),u.forEach(e=>{xi(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new wi(e.duration,e.delay)}}class co{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new wi,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>Ii(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){xi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function lo(e){return e&&1===e.nodeType}function uo(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function ho(e,t,n,r,i){const s=[];n.forEach(e=>s.push(uo(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);(!n||0==n.length)&&(r[no]=to,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>uo(e,s[a++])),o}function fo(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function s(e){if(!e)return 1;let t=i.get(e);if(t)return t;const o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:s(o),i.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&n.get(t).push(e)}),n}const po="$$classes";function go(e,t){if(e.classList)e.classList.add(t);else{let n=e[po];n||(n=e[po]={}),n[t]=!0}}function mo(e,t){if(e.classList)e.classList.remove(t);else{let n=e[po];n&&delete n[t]}}function yo(e,t,n){Ei(n).onDone(()=>e.processLeaveNode(t))}function vo(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof bi?vo(r.players,t):t.push(r)}}function _o(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class wo{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new ao(e,t,n),this._timelineEngine=new Ws(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=Ts(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t,n){return new $s(e,t,n)}(r,t,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=Oi(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=Oi(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function bo(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=So(t[0]),t.length>1&&(r=So(t[t.length-1]))):t&&(n=So(t)),n||r?new To(e,n,r):null}let To=(()=>{class e{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&rs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rs(this._element,this._initialStyles),this._endStyles&&(rs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(is(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(is(this._element,this._endStyles),this._endStyles=null),rs(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function So(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];Eo(i)&&(t=t||{},t[i]=e[i])}return t}function Eo(e){return"display"===e||"position"===e}const Co="animation",Io="animationend";class ko{constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){(function(e,t){const n=No(e,"").trim();let r=0;n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++;return n}(n)+1,t=`${n}, ${t}`),Ro(e,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Po(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ao(this._element,this._name,"paused")}resume(){Ao(this._element,this._name,"running")}setPosition(e){const t=xo(this._element,this._name);this._position=e*this._duration,Ro(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Po(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=No(e,"").split(","),r=Oo(n,t);r>=0&&(n.splice(r,1),Ro(e,"",n.join(",")))}(this._element,this._name))}}function Ao(e,t,n){Ro(e,"PlayState",n,xo(e,t))}function xo(e,t){const n=No(e,"");return n.indexOf(",")>0?Oo(n.split(","),t):Oo([n],t)}function Oo(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Po(e,t,n){n?e.removeEventListener(Io,t):e.addEventListener(Io,t)}function Ro(e,t,n,r){const i=Co+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function No(e,t){return e.style[Co+t]||""}class Do{constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ko(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:ms(this.element,n))})}this.currentSnapshot=e}}class Lo extends wi{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=qi(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Fo{constructor(){this._count=0}validateStyleProperty(e){return Mi(e)}matchesElement(e,t){return Ui(e,t)}containsElement(e,t){return ji(e,t)}query(e,t,n){return Vi(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>qi(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(e,t,n,r,i,s=[],o){const a=s.filter(e=>e instanceof Do),c={};fs(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const l=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"==n||"easing"==n||(t[n]=e[n])})}),t}(t=ps(e,t,c));if(0==n)return new Lo(e,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(h);const d=bo(e,t),f=new Do(e,t,u,n,r,i,l,d);return f.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),f}}class Mo{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:ms(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Uo{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(jo().toString()),this._cssKeyframesDriver=new Fo}validateStyleProperty(e){return Mi(e)}matchesElement(e,t){return Ui(e,t)}containsElement(e,t){return ji(e,t)}query(e,t,n){return Vi(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},l=s.filter(e=>e instanceof Mo);fs(n,r)&&l.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const u=bo(e,t=ps(e,t=t.map(e=>es(e,!1)),c));return new Mo(e,t,a,u)}}function jo(){return Ti()&&Element.prototype.animate||{}}let Vo=(()=>{class e extends hi{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?gi(e):e;return zo(this._renderer,null,t,"register",[n]),new qo(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class qo extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Bo(this._id,e,t||{},this._renderer)}}class Bo{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return zo(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function zo(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const Zo="@.disabled";let Ho=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new $o("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new Go(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(wo),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class $o{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==Zo?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Go extends $o{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Zo?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let Ko=(()=>{class e extends wo{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(zi),r.LFG(js))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Wo=new r.OlP("AnimationModuleType"),Qo=[{provide:hi,useClass:Vo},{provide:js,useFactory:function(){return new Vs}},{provide:wo,useClass:Ko},{provide:r.FYo,useFactory:function(e,t,n){return new Ho(e,t,n)},deps:[ne,wo,r.R0b]}],Yo=[{provide:zi,useFactory:function(){return"function"==typeof jo()?new Uo:new Fo}},{provide:Wo,useValue:"BrowserAnimations"},...Qo],Jo=[{provide:zi,useClass:Bi},{provide:Wo,useValue:"NoopAnimations"},...Qo];let Xo=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?Jo:Yo}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Yo,imports:[me]}),e})();var ea=n(6523);function ta(e){return null!=e&&"false"!=`${e}`}function na(e){return Array.isArray(e)?e:[e]}function ra(e){return null==e?"":"string"==typeof e?e:`${e}px`}function ia(e){return e instanceof r.SBq?e.nativeElement:e}let sa;try{sa="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Cf){sa=!1}let oa,aa,ca,la=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(e){return"browser"===e}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sa)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(r.Lbi))},token:e,providedIn:"root"}),e})(),ua=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function ha(e){return function(){if(null==oa&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oa=!0}))}finally{oa=oa||!1}return oa}()?e:!!e.capture}function da(){if(null==aa){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return aa=!1,aa;if("scrollBehavior"in document.documentElement.style)aa=!0;else{const e=Element.prototype.scrollTo;aa=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return aa}let fa=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),pa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[fa]}),e})();"undefined"!=typeof Element&&Element;const ga=new r.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),ma=new r.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ya=(()=>{class e{constructor(e,t,n,r){this._ngZone=t,this._defaultOptions=r,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let r,i;return 1===t.length&&"number"==typeof t[0]?i=t[0]:[r,i]=t,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",t=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ga,8),r.LFG(r.R0b),r.LFG(o),r.LFG(ma,8))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(ga,8),(0,r.LFG)(r.R0b),(0,r.LFG)(o),(0,r.LFG)(ma,8))},token:e,providedIn:"root"}),e})();function va(e){return 0===e.buttons}function _a(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const wa=new r.OlP("cdk-focus-monitor-default-options"),ba=ha({passive:!0,capture:!0});let Ta=(()=>{class e{constructor(e,t,n,r){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=va(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{_a(e)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Sa(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=Sa(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let r=t;r;r=r.parentElement)n.call(this,e,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(e,t=!1){const n=ia(e);if(!this._platform.isBrowser||1!==n.nodeType)return _e(null);const r=function(e){if(function(){if(null==ca){const e="undefined"!=typeof document?document.head:null;ca=!(!e||!e.createShadowRoot&&!e.attachShadow)}return ca}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject;const s={checkChildren:t,subject:new we.x,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const t=ia(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const r=ia(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([e,n])=>this._originChanged(e,t,n)):(this._setOriginForCurrentEventQueue(t),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=Sa(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);!n||!n.checkChildren&&t!==Sa(e)||this._originChanged(t,this._getFocusOrigin(e),n)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,ba),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,ba)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,ba),e.addEventListener("mousedown",this._documentMousedownListener,ba),e.addEventListener("touchstart",this._documentTouchstartListener,ba),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ba),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ba),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,ba),e.removeEventListener("mousedown",this._documentMousedownListener,ba),e.removeEventListener("touchstart",this._documentTouchstartListener,ba),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((n,r)=>{(r===e||n.checkChildren&&r.contains(e))&&t.push([r,n])}),t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b),r.LFG(la),r.LFG(o,8),r.LFG(wa,8))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(r.R0b),(0,r.LFG)(la),(0,r.LFG)(o,8),(0,r.LFG)(wa,8))},token:e,providedIn:"root"}),e})();function Sa(e){return e.composedPath?e.composedPath()[0]:e.target}const Ea="cdk-high-contrast-black-on-white",Ca="cdk-high-contrast-white-on-black",Ia="cdk-high-contrast-active";let ka=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Ia),e.remove(Ea),e.remove(Ca);const t=this.getHighContrastMode();1===t?(e.add(Ia),e.add(Ea)):2===t&&(e.add(Ia),e.add(Ca))}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(la),r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(la),(0,r.LFG)(o))},token:e,providedIn:"root"}),e})(),Aa=(()=>{class e{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ka))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ua,pa]]}),e})();const xa=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(o)}});let Oa=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(xa,8))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(xa,8))},token:e,providedIn:"root"}),e})(),Pa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const Ra=new r.GfV("11.2.13"),Na=new r.GfV("11.2.13"),Da=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let La,Fa=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return(0,r.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Na.full!==Ra.full&&console.warn("The Angular Material version ("+Na.full+") does not match the Angular CDK version ("+Ra.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ka),r.LFG(Da,8),r.LFG(o))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Pa],Pa]}),e})();function Ma(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ta(e)}}}function Ua(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}function ja(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ta(e)}}}try{La="undefined"!=typeof Intl}catch(Cf){La=!1}let Va=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e})();class qa{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ba={enterDuration:450,exitDuration:400},za=ha({passive:!0}),Za=["mousedown","touchstart"],Ha=["mouseup","mouseleave","touchend","touchcancel"];class $a{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ia(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Ba),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=n.radius||function(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,r),o=e-r.left,a=t-r.top,c=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new qa(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const e=u===this._mostRecentTransientRipple;u.state=1,!n.persistent&&(!e||!this._isPointerDown)&&u.fadeOut()},c),u}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},Ba),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ia(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Za))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ha),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=va(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!_a(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,za)})})}_removeTriggerEvents(){this._triggerElement&&(Za.forEach(e=>{this._triggerElement.removeEventListener(e,this,za)}),this._pointerUpEventsRegistered&&Ha.forEach(e=>{this._triggerElement.removeEventListener(e,this,za)}))}}const Ga=new r.OlP("mat-ripple-global-options");let Ka=(()=>{class e{constructor(e,t,n,r,i){this._elementRef=e,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new $a(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(la),r.Y36(Ga,8),r.Y36(Wo,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),Wa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Fa,ua],Fa]}),e})();const Qa=["mat-button",""],Ya=["*"],Ja=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Xa{constructor(e){this._elementRef=e}}const ec=Ua(Ma(ja(Xa)));let tc=(()=>{class e extends ec{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Ja)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(Ta),r.Y36(Wo,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&r.Gf(Ka,5),2&e){let e;r.iGM(e=r.CRH())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(r.uIk("disabled",t.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:Qa,ngContentSelectors:Ya,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&e&&(r.xp6(2),r.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),r.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[Ka],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),e})(),nc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Wa,Fa],Fa]}),e})(),rc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Fa],Fa]}),e})();function ic(...e){const t=(0,ve.jO)(e),{args:n,keys:r}=ke(e),i=new Te.y(e=>{const{length:t}=n;if(!t)return void e.complete();const i=new Array(t);let s=t,o=t;for(let a=0;a<t;a++){let t=!1;(0,Ve.Xf)(n[a]).subscribe(new Ne.Q(e,e=>{t||(t=!0,o--),i[a]=e},()=>s--,void 0,()=>{(!s||!t)&&(o||e.next(r?Re(r,i):i),e.complete())}))}});return t?i.pipe(Pe(t)):i}var sc=n(815);class oc{}class ac{}class cc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof cc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new cc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof cc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class lc{encodeKey(e){return dc(e)}encodeValue(e){return dc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const uc=/%(\d[a-f0-9])/gi,hc={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function dc(e){return encodeURIComponent(e).replace(uc,(e,t)=>{var n;return null!==(n=hc[t])&&void 0!==n?n:e})}function fc(e){return`${e}`}class pc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new lc,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new pc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(fc(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(fc(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class gc{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function mc(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function yc(e){return"undefined"!=typeof Blob&&e instanceof Blob}function vc(e){return"undefined"!=typeof FormData&&e instanceof FormData}class _c{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new cc),this.context||(this.context=new gc),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new pc,this.urlWithParams=t}serializeBody(){return null===this.body?null:mc(this.body)||yc(this.body)||vc(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof pc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vc(this.body)?null:yc(this.body)?this.body.type||null:mc(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new _c(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var wc=(()=>((wc=wc||{})[wc.Sent=0]="Sent",wc[wc.UploadProgress=1]="UploadProgress",wc[wc.ResponseHeader=2]="ResponseHeader",wc[wc.DownloadProgress=3]="DownloadProgress",wc[wc.Response=4]="Response",wc[wc.User=5]="User",wc))();class bc{constructor(e,t=200,n="OK"){this.headers=e.headers||new cc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Tc extends bc{constructor(e={}){super(e),this.type=wc.ResponseHeader}clone(e={}){return new Tc({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Sc extends bc{constructor(e={}){super(e),this.type=wc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Sc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ec extends bc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Cc(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Ic=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof _c)r=e;else{let i,s;i=n.headers instanceof cc?n.headers:new cc(n.headers),n.params&&(s=n.params instanceof pc?n.params:new pc({fromObject:n.params})),r=new _c(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=_e(r).pipe(nt(e=>this.handler.handle(e)));if(e instanceof _c||"events"===n.observe)return i;const s=i.pipe(Je(e=>e instanceof Sc));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,xe.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,xe.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,xe.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,xe.U)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new pc).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Cc(n,t))}post(e,t,n={}){return this.request("POST",e,Cc(n,t))}put(e,t,n={}){return this.request("PUT",e,Cc(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(oc))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class kc{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Ac=new r.OlP("HTTP_INTERCEPTORS");let xc=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Oc=/^\)\]\}',?\n/;let Pc=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Te.y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new cc(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new Tc({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let l=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(Oc,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=e,l&&(l=!1,c={error:u,text:c})}}l?(t.next(new Sc({body:c,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new Ec({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new Ec({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let c=!1;const l=r=>{c||(t.next(s()),c=!0);let i={type:wc.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&!!n.responseText&&(i.partialText=n.responseText),t.next(i)},u=e=>{let n={type:wc.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:wc.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(U))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Rc=new r.OlP("XSRF_COOKIE_NAME"),Nc=new r.OlP("XSRF_HEADER_NAME");class Dc{}let Lc=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(r.Lbi),r.LFG(Rc))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Fc=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Dc),r.LFG(Nc))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Mc=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(Ac,[]);this.chain=e.reduceRight((e,t)=>new kc(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ac),r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Uc=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Fc,useClass:xc}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Rc,useValue:t.cookieName}:[],t.headerName?{provide:Nc,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Fc,{provide:Ac,useExisting:Fc,multi:!0},{provide:Dc,useClass:Lc},{provide:Rc,useValue:"XSRF-TOKEN"},{provide:Nc,useValue:"X-XSRF-TOKEN"}]}),e})(),jc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Ic,{provide:oc,useClass:Mc},Pc,{provide:ac,useExisting:Pc}],imports:[[Uc.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();const Vc=["*"];function qc(e){return Error(`Unable to find icon with the name "${e}"`)}function Bc(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function zc(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Zc{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let Hc=(()=>{class e{constructor(e,t,n,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,r){return this._addSvgIconConfig(e,t,new Zc(n,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,n,i){const s=this._sanitizer.sanitize(r.q3G.HTML,n);if(!s)throw zc(n);return this._addSvgIconConfig(e,t,new Zc("",s,i))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new Zc(t,null,n))}addSvgIconSetLiteralInNamespace(e,t,n){const i=this._sanitizer.sanitize(r.q3G.HTML,t);if(!i)throw zc(t);return this._addSvgIconSetConfig(e,new Zc("",i,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e);if(!t)throw Bc(e);const n=this._cachedIconsByUrl.get(t);return n?_e($c(n)):this._loadSvgIconFromConfig(new Zc(e,null)).pipe((0,ct.b)(e=>this._cachedIconsByUrl.set(t,e)),(0,xe.U)(e=>$c(e)))}getNamedSvgIcon(e,t=""){const n=Gc(t,e);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):function(e,t){const n=(0,tt.m)(e)?e:()=>e,r=e=>e.error(n());return new Te.y(r)}(qc(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?_e($c(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,xe.U)(e=>$c(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);return n?_e(n):ic(t.filter(e=>!e.svgText).map(e=>this._loadSvgIconSetFromConfig(e).pipe(Xe(t=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e.url)} failed: ${t.message}`;return this._errorHandler.handleError(new Error(n)),_e(null)})))).pipe((0,xe.U)(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw qc(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.svgText&&r.svgText.indexOf(e)>-1){const t=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(t,e,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ct.b)(t=>e.svgText=t),(0,xe.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?_e(null):this._fetchIcon(e).pipe((0,ct.b)(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,n){const r=e.querySelector(`[id="${t}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let r=0;r<n.length;r++){const{name:e,value:i}=n[r];"id"!==e&&t.setAttribute(e,i)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:i}=e,s=null!==(t=null==i?void 0:i.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!o)throw Bc(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(lt(()=>this._inProgressUrlFetches.delete(o)),(0,sc.B)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(Gc(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let n=0;n<this._resolvers.length;n++){const r=this._resolvers[n](t,e);if(r)return Kc(r)?new Zc(r.url,null,r.options):new Zc(r,null)}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ic,8),r.LFG(de),r.LFG(o,8),r.LFG(r.qLn))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(Ic,8),(0,r.LFG)(de),(0,r.LFG)(o,8),(0,r.LFG)(r.qLn))},token:e,providedIn:"root"}),e})();function $c(e){return e.cloneNode(!0)}function Gc(e,t){return e+":"+t}function Kc(e){return!(!e.url||!e.options)}class Wc{constructor(e){this._elementRef=e}}const Qc=Ua(Wc),Yc=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const e=(0,r.f3M)(o),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Jc=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Xc=Jc.map(e=>`[${e}]`).join(", "),el=/^url\(['"]?#(.*?)['"]?\)$/;let tl=(()=>{class e extends Qc{constructor(e,t,n,r,i){super(e),this._iconRegistry=t,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=ze.w0.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ta(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let r=0;r<t.length;r++)t[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];(1!==n.nodeType||"svg"===n.nodeName.toLowerCase())&&e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(Xc),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)Jc.forEach(e=>{const i=t[r],s=i.getAttribute(e),o=s?s.match(el):null;if(o){let t=n.get(i);t||(t=[],n.set(i,t)),t.push({name:e,value:o[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,n]=this._splitIconName(e);t&&(this._svgNamespace=t),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,t).pipe((0,Ke.q)(1)).subscribe(e=>this._setSvgElement(e),e=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${n}! ${e.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(Hc),r.$8M("aria-hidden"),r.Y36(Yc),r.Y36(r.qLn))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(r.uIk("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),r.ekj("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:Vc,decls:1,vars:0,template:function(e,t){1&e&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),nl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Fa],Fa]}),e})();var rl=n(1860),il=n(4415);let sl,ol=1;const al={};function cl(e){return e in al&&(delete al[e],!0)}const ll={setImmediate(e){const t=ol++;return al[t]=!0,sl||(sl=Promise.resolve()),sl.then(()=>cl(t)&&e()),t},clearImmediate(e){cl(e)}},{setImmediate:ul,clearImmediate:hl}=ll,dl={setImmediate(...e){const{delegate:t}=dl;return((null==t?void 0:t.setImmediate)||ul)(...e)},clearImmediate(e){const{delegate:t}=dl;return((null==t?void 0:t.clearImmediate)||hl)(e)},delegate:void 0};var fl=n(2994);new class extends fl.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends il.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=dl.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(e,t,n);e.actions.some(e=>e.id===t)||(dl.clearImmediate(t),e._scheduled=void 0)}});var pl=n(408);function gl(e){return(0,Ze.e)((t,n)=>{(0,Ve.Xf)(e).subscribe(new Ne.Q(n,()=>n.complete(),pl.Z)),!n.closed&&t.subscribe(n)})}var ml=n(1830);class yl{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class vl extends yl{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class _l extends yl{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class wl extends yl{constructor(e){super(),this.element=e instanceof r.SBq?e.nativeElement:e}}class bl{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof vl?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof _l?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof wl?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Tl extends bl{constructor(e,t,n,r,i){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=i}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),this._attachedPortal=e,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Sl=(()=>{class e extends bl{constructor(e,t,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(n,t),this._getRootNode().appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r=t.createComponent(n,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(o))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),e})(),El=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();var Cl=n(6602);const Il=["addListener","removeListener"],kl=["addEventListener","removeEventListener"],Al=["on","off"];function xl(e,t,n,r){if((0,tt.m)(n)&&(r=n,n=void 0),r)return xl(e,t,n).pipe(Pe(r));const[i,s]=function(e){return(0,tt.m)(e.addEventListener)&&(0,tt.m)(e.removeEventListener)}(e)?kl.map(r=>i=>e[r](t,i,n)):function(e){return(0,tt.m)(e.addListener)&&(0,tt.m)(e.removeListener)}(e)?Il.map(Ol(e,t)):function(e){return(0,tt.m)(e.on)&&(0,tt.m)(e.off)}(e)?Al.map(Ol(e,t)):[];if(!i&&(0,Cl.z)(e))return(0,et.z)(e=>xl(e,t,n))((0,Ve.Xf)(e));if(!i)throw new TypeError("Invalid event target");return new Te.y(e=>{const t=(...t)=>e.next(1<t.length?t:t[0]);return i(t),()=>s(t)})}function Ol(e,t){return n=>r=>e[n](t,r)}const Pl={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:r}=Pl;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);const i=t(t=>{n=void 0,e(t)});return new ze.w0(()=>null==n?void 0:n(i))},requestAnimationFrame(...e){const{delegate:t}=Pl;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=Pl;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...e)},delegate:void 0};new class extends fl.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}}}(class extends il.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=Pl.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(e,t,n);e.actions.some(e=>e.id===t)||(Pl.cancelAnimationFrame(t),e._scheduled=void 0)}});function Rl(e,t){return e===t}function Nl(e,t=ea.P){return function(e){return(0,Ze.e)((t,n)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const e=i;i=null,n.next(e)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};t.subscribe(new Ne.Q(n,t=>{r=!0,i=t,s||(0,Ve.Xf)(e()).subscribe(s=new Ne.Q(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}(()=>function(e=0,t,n=ea.P){let r=-1;return null!=t&&((0,ml.K)(t)?n=t:r=t),new Te.y(t=>{let i=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){t.closed||(t.next(s++),0<=r?this.schedule(void 0,r):t.complete())},i)})}(e,t))}function Dl(){return(0,Ze.e)((e,t)=>{let n,r=!1;e.subscribe(new Ne.Q(t,e=>{const i=n;n=e,r&&t.next([i,e]),r=!0}))})}var Ll=n(2069);class Fl extends we.x{constructor(e=1/0,t=1/0,n=Ll.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:s}=this;t||(n.push(e),!r&&n.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,i=r.slice();for(let s=0;s<i.length&&!e.closed;s+=n?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){const e=t.now();let r=0;for(let t=1;t<n.length&&n[t]<=e;t+=2)r=t;r&&n.splice(0,r+1)}}}function Ml(e,t,n){var r,i;let s,o=!1;return e&&"object"==typeof e?(s=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(i=e.windowTime)&&void 0!==i?i:1/0,o=!!e.refCount,n=e.scheduler):s=null!=e?e:1/0,(0,sc.B)({connector:()=>new Fl(s,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}let Ul=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new we.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Te.y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(Nl(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):_e()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Je(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let n=ia(t),r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b),r.LFG(la),r.LFG(o,8))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(r.R0b),(0,r.LFG)(la),(0,r.LFG)(o,8))},token:e,providedIn:"root"}),e})(),jl=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new we.x,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Nl(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(la),r.LFG(r.R0b),r.LFG(o,8))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(la),(0,r.LFG)(r.R0b),(0,r.LFG)(o,8))},token:e,providedIn:"root"}),e})(),Vl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),ql=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Pa,ua,Vl],Pa,Vl]}),e})();const Bl=da();class zl{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ra(-this._previousScrollPosition.left),e.style.top=ra(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,r=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Bl&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Bl&&(t.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class Zl{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Hl{enable(){}disable(){}attach(){}}function $l(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function Gl(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class Kl{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();$l(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Wl=(()=>{class e{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new Hl,this.close=e=>new Zl(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new zl(this._viewportRuler,this._document),this.reposition=e=>new Kl(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=r}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ul),r.LFG(jl),r.LFG(r.R0b),r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(Ul),(0,r.LFG)(jl),(0,r.LFG)(r.R0b),(0,r.LFG)(o))},token:e,providedIn:"root"}),e})();class Ql{constructor(e){if(this.scrollStrategy=new Hl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class Yl{constructor(e,t,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class Jl{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Xl=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(o))},token:e,providedIn:"root"}),e})(),eu=(()=>{class e extends Xl{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(o))},token:e,providedIn:"root"}),e})(),tu=(()=>{class e extends Xl{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(t))break;i._outsidePointerEvents.next(e)}}}}add(e){if(super.add(e),!this._isAttached){const e=this._document.body;e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(la))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(o),(0,r.LFG)(la))},token:e,providedIn:"root"}),e})();const nu=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let ru=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||nu){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add(e),nu?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(la))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(o),(0,r.LFG)(la))},token:e,providedIn:"root"}),e})();class iu{constructor(e,t,n,r,i,s,o,a,c){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new we.x,this._attachments=new we.x,this._detachments=new we.x,this._locationChanges=ze.w0.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new we.x,this._outsidePointerEvents=new we.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ke.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ra(this._config.width),e.height=ra(this._config.height),e.minWidth=ra(this._config.minWidth),e.minHeight=ra(this._config.minHeight),e.maxWidth=ra(this._config.maxWidth),e.maxHeight=ra(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(!e)return;let t,n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=e.classList;na(t).forEach(e=>{e&&(n?r.add(e):r.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(gl((0,rl.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const su="cdk-overlay-connected-position-bounding-box",ou=/([A-Za-z%]+)$/;class au{constructor(e,t,n,r,i){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new we.x,this._resizeSubscription=ze.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(su),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),c=this._getOverlayFit(a,t,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(r.length){let e=null,t=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>t&&(t=r,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(su),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,r;if("center"==t.originX)n=e.left+e.width/2;else{const r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:r}}_getOverlayPoint(e,t,n){let r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}_getOverlayFit(e,t,n,r){const i=uu(t);let{x:s,y:o}=e,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let l=0-o,u=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,l,u),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,i=n.right-t.x,s=lu(this._overlayRef.getConfig().minHeight),o=lu(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=i;return(e.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=uu(t),i=this._viewportRect,s=Math.max(e.x+r.width-i.width,0),o=Math.max(e.y+r.height-i.height,0),a=Math.max(i.top-n.top-e.y,0),c=Math.max(i.left-n.left-e.x,0);let l=0,u=0;return l=r.width<=i.width?c||-s:e.x<this._viewportMargin?i.left-n.left-e.x:0,u=r.height<=i.height?a||-o:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:l,y:u},{x:e.x+l,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new Jl(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let i=0;i<t.length;i++)t[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,l;if("top"===t.overlayY)s=e.y,i=n.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=n.height-e.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),r=this._lastBoundingBoxSize.height;i=2*t,s=e.y-t,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-r/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)l=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)c=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),r=this._lastBoundingBoxSize.width;a=2*t,c=e.x-t,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.x-r/2)}return{top:s,left:c,bottom:o,right:l,width:a,height:i}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=ra(n.height),r.top=ra(n.top),r.bottom=ra(n.bottom),r.width=ra(n.width),r.left=ra(n.left),r.right=ra(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(r.maxHeight=ra(e)),i&&(r.maxWidth=ra(i))}this._lastBoundingBoxSize=n,cu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){cu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();cu(n,this._getExactOverlayY(t,e,r)),cu(n,this._getExactOverlayX(t,e,r))}else n.position="static";let o="",a=this._getOffset(t,"x"),c=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=ra(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=ra(s.maxWidth):i&&(n.maxWidth="")),cu(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=ra(i.y),r}_getExactOverlayX(e,t,n){let r,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=ra(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Gl(e,n),isOriginOutsideView:$l(e,n),isOverlayClipped:Gl(t,n),isOverlayOutsideView:$l(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&na(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof r.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function cu(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function lu(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(ou);return n&&"px"!==n?null:parseFloat(t)}return e||null}function uu(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}class hu{constructor(e,t,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new au(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,r){const i=new Yl(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const du="cdk-global-overlay-wrapper";class fu{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(du),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(du),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let pu=(()=>{class e{constructor(e,t,n,r){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=r}global(){return new fu}connectedTo(e,t,n){return new hu(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new au(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(jl),r.LFG(o),r.LFG(la),r.LFG(ru))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(jl),(0,r.LFG)(o),(0,r.LFG)(la),(0,r.LFG)(ru))},token:e,providedIn:"root"}),e})(),gu=0,mu=(()=>{class e{constructor(e,t,n,r,i,s,o,a,c,l,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new Ql(e);return i.direction=i.direction||this._directionality.value,new iu(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+gu++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new Tl(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Wl),r.LFG(ru),r.LFG(r._Vd),r.LFG(pu),r.LFG(eu),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(o),r.LFG(Oa),r.LFG(b),r.LFG(tu))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const yu={provide:new r.OlP("cdk-connected-overlay-scroll-strategy"),deps:[mu],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let vu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[mu,yu],imports:[[Pa,El,ql],ql]}),e})();const _u={provide:new r.OlP("mat-menu-scroll-strategy"),deps:[mu],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let wu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[_u],imports:[Fa]}),e})(),bu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[_u],imports:[[N,Fa,Wa,vu,wu],Vl,Fa,wu]}),e})(),Tu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Fa],Fa]}),e})();const Su=new Set;let Eu,Cu=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Iu}matchMedia(e){return this._platform.WEBKIT&&function(e){if(!Su.has(e))try{Eu||(Eu=document.createElement("style"),Eu.setAttribute("type","text/css"),document.head.appendChild(Eu)),Eu.sheet&&(Eu.sheet.insertRule(`@media ${e} {.fx-query-test{ }}`,0),Su.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(la))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(la))},token:e,providedIn:"root"}),e})();function Iu(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let ku=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new we.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Au(na(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){let t=Le(Au(na(e)).map(e=>this._registerQuery(e).observable));return t=je(t.pipe((0,Ke.q)(1)),t.pipe(Je((e,t)=>1<=t),function(e,t=ea.z){return(0,Ze.e)((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const e=s;s=null,r.next(e)}};function c(){const n=o+e,s=t.now();if(s<n)return i=this.schedule(void 0,n-s),void r.add(i);a()}n.subscribe(new Ne.Q(r,n=>{s=n,o=t.now(),i||(i=t.schedule(c,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),t.pipe((0,xe.U)(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(({matches:e,query:n})=>{t.matches=t.matches||e,t.breakpoints[n]=e}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),n={observable:new Te.y(e=>{const n=t=>this._zone.run(()=>e.next(t));return t.addListener(n),()=>{t.removeListener(n)}}).pipe(We(t),(0,xe.U)(({matches:t})=>({query:e,matches:t})),gl(this._destroySubject)),mql:t};return this._queries.set(e,n),n}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Cu),r.LFG(r.R0b))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(Cu),(0,r.LFG)(r.R0b))},token:e,providedIn:"root"}),e})();function Au(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const xu={provide:new r.OlP("mat-tooltip-scroll-strategy"),deps:[mu],useFactory:function(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}};let Ou=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[xu],imports:[[Aa,N,vu,Fa],Fa,Vl]}),e})();function Pu(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"button",2),r.NdJ("click",function(){return r.CHM(e),r.oxw().action()}),r._uU(2),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.Oqu(e.data.action)}}function Ru(e,t){}const Nu=new r.OlP("MatSnackBarData");class Du{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Lu=Math.pow(2,31)-1;class Fu{constructor(e,t){this._overlayRef=t,this._afterDismissed=new we.x,this._afterOpened=new we.x,this._onAction=new we.x,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Lu))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Mu=(()=>{class e{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Fu),r.Y36(Nu))},e.\u0275cmp=r.Xpm({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1),r.qZA(),r.YNc(2,Pu,3,1,"div",0)),2&e&&(r.xp6(1),r.Oqu(t.data.message),r.xp6(1),r.Q6J("ngIf",t.hasAction))},directives:[O,tc],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),e})();const Uu={snackBarState:fi("state",[yi("void, hidden",mi({transform:"scale(0.8)",opacity:0})),yi("visible",mi({transform:"scale(1)",opacity:1})),vi("* => visible",pi("150ms cubic-bezier(0, 0, 0.2, 1)")),vi("* => void, * => hidden",pi("75ms cubic-bezier(0.4, 0.0, 1, 1)",mi({opacity:0})))])};let ju=(()=>{class e extends bl{constructor(e,t,n,r,i){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=i,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new we.x,this._onExit=new we.x,this._onEnter=new we.x,this._animationState="void",this.attachDomPortal=e=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(e)),this._live="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:t,toState:n}=e;if(("void"===n&&"void"!==t||"hidden"===n)&&this._completeExit(),"visible"===n){const e=this._onEnter;this._ngZone.run(()=>{e.next(),e.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Ke.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(t=>e.classList.add(t)):e.classList.add(t)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),t=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&t){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(n=document.activeElement),e.removeAttribute("aria-hidden"),t.appendChild(e),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.R0b),r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(la),r.Y36(Du))},e.\u0275cmp=r.Xpm({type:e,selectors:[["snack-bar-container"]],viewQuery:function(e,t){if(1&e&&r.Gf(Sl,7),2&e){let e;r.iGM(e=r.CRH())&&(t._portalOutlet=e.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,t){1&e&&r.WFA("@state.done",function(e){return t.onAnimationEnd(e)}),2&e&&r.d8E("@state",t._animationState)},features:[r.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,Ru,0,0,"ng-template",1),r.qZA(),r._UZ(2,"div")),2&e&&(r.xp6(2),r.uIk("aria-live",t._live)("role",t._role))},directives:[Sl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Uu.snackBarState]}}),e})(),Vu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[vu,El,N,nc,Fa],Fa]}),e})();const qu=new r.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Du}});let Bu=(()=>{class e{constructor(e,t,n,r,i,s){this._overlay=e,this._live=t,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Mu,this.snackBarContainerComponent=ju,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:e,action:t},r.announcementMessage===e&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){const n=r.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Du,useValue:t}]}),i=new vl(this.snackBarContainerComponent,t.viewContainerRef,n),s=e.attach(i);return s.instance.snackBarConfig=t,s.instance}_attach(e,t){const n=Object.assign(Object.assign(Object.assign({},new Du),this._defaultConfig),t),i=this._createOverlay(n),s=this._attachSnackBarContainer(i,n),o=new Fu(s,i);if(e instanceof r.Rgc){const t=new _l(e,null,{$implicit:n.data,snackBarRef:o});o.instance=s.attachTemplatePortal(t)}else{const t=this._createInjector(n,o),r=new vl(e,void 0,t),i=s.attachComponentPortal(r);o.instance=i.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(gl(i.detachments())).subscribe(e=>{const t=i.overlayElement.classList;e.matches?t.add(this.handsetCssClass):t.remove(this.handsetCssClass)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration))}_createOverlay(e){const t=new Ql;t.direction=e.direction;let n=this._overlay.position().global();const r="rtl"===e.direction,i="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!r||"end"===e.horizontalPosition&&r,s=!i&&"center"!==e.horizontalPosition;return i?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===e.verticalPosition?n.top("0"):n.bottom("0"),t.positionStrategy=n,this._overlay.create(t)}_createInjector(e,t){return r.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Fu,useValue:t},{provide:Nu,useValue:e.data}]})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(mu),r.LFG(ya),r.LFG(r.zs3),r.LFG(ku),r.LFG(e,12),r.LFG(qu))},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e((0,r.LFG)(mu),(0,r.LFG)(ya),(0,r.LFG)(r.gxx),(0,r.LFG)(ku),(0,r.LFG)(e,12),(0,r.LFG)(qu))},token:e,providedIn:Vu}),e})(),zu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[N,Fa,pa],Fa]}),e})(),Zu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[N,Fa],Fa]}),e})(),Hu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Fa],Fa]}),e})(),$u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ua]]}),e})(),Gu=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),Ku=(()=>{class e extends Gu{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const Wu=new r.OlP("NgValueAccessor"),Qu={provide:Wu,useExisting:(0,r.Gpc)(()=>Ju),multi:!0},Yu=new r.OlP("CompositionEventMode");let Ju=(()=>{class e extends Gu{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Yu,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([Qu]),r.qOj]}),e})();const Xu=new r.OlP("NgValidators"),eh=new r.OlP("NgAsyncValidators");function th(e){return null!=e}function nh(e){const t=(0,r.QGY)(e)?(0,ye.D)(e):e;return(0,r.CqO)(t),t}function rh(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function ih(e,t){return t.map(t=>t(e))}function sh(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function oh(e){return null!=e?function(e){if(!e)return null;const t=e.filter(th);return 0==t.length?null:function(e){return rh(ih(e,t))}}(sh(e)):null}function ah(e){return null!=e?function(e){if(!e)return null;const t=e.filter(th);return 0==t.length?null:function(e){return ic(ih(e,t).map(nh)).pipe((0,xe.U)(rh))}}(sh(e)):null}function ch(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function lh(e){return e?Array.isArray(e)?e:[e]:[]}function uh(e,t){return Array.isArray(e)?e.includes(t):e===t}function hh(e,t){const n=lh(t);return lh(e).forEach(e=>{uh(n,e)||n.push(e)}),n}function dh(e,t){return lh(t).filter(t=>!uh(e,t))}let fh=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ah(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),ph=(()=>{class e extends fh{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class gh extends fh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let mh=(()=>{class e extends class{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(gh,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})();function yh(e,t){(function(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(ch(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(ch(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();vh(t._rawValidators,i),vh(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&_h(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&_h(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function vh(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function _h(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function wh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const bh="VALID",Th="INVALID",Sh="PENDING",Eh="DISABLED";function Ch(e){return(xh(e)?e.validators:e)||null}function Ih(e){return Array.isArray(e)?oh(e):e||null}function kh(e,t){return(xh(t)?t.asyncValidators:e)||null}function Ah(e){return Array.isArray(e)?ah(e):e||null}function xh(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Oh{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ih(this._rawValidators),this._composedAsyncValidatorFn=Ah(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bh}get invalid(){return this.status===Th}get pending(){return this.status==Sh}get disabled(){return this.status===Eh}get enabled(){return this.status!==Eh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ih(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ah(e)}addValidators(e){this.setValidators(hh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dh(e,this._rawAsyncValidators))}hasValidator(e){return uh(this._rawValidators,e)}hasAsyncValidator(e){return uh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Eh,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bh,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bh||this.status===Sh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Eh:bh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sh,this._hasOwnPendingAsyncValidator=!0;const t=nh(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(e=>{r=r instanceof Rh?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof Nh&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Eh:this.errors?Th:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sh)?Sh:this._anyControlsHaveStatus(Th)?Th:bh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ph extends Oh{constructor(e=null,t,n){super(Ch(t),kh(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Rh extends Oh{constructor(e,t,n){super(Ch(t),kh(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Ph?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Nh extends Oh{constructor(e,t,n){super(Ch(t),kh(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Ph?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Dh={provide:gh,useExisting:(0,r.Gpc)(()=>Fh)},Lh=(()=>Promise.resolve(null))();let Fh=(()=>{class e extends gh{constructor(e,t,n,i){super(),this.control=new Ph,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===Ju?n=e:function(e){return Object.getPrototypeOf(e.constructor)===Ku}(e)?r=e:i=e}),i||r||n||null}(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(e,t){return[...t.path,e]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Lh.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Lh.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ph,9),r.Y36(Xu,10),r.Y36(eh,10),r.Y36(Wu,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([Dh]),r.qOj,r.TTD]}),e})(),Mh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),Uh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Mh]]}),e})(),jh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Uh]}),e})(),Vh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Va],imports:[[$u,zu,Fa],$u,zu]}),e})(),qh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Xo,nc,rc,nl,bu,Tu,Ou,Vu,zu,Zu,Vh,Hu]}),e})();var Bh=n(7824),zh=n(7513);function Zh(e,t){return(0,tt.m)(t)?Ge(()=>e,t):Ge(()=>e)}var Hh=n(4119),$h=n(1048),Gh=n(8939);n(2329);var Kh=n(8239),Wh=n(8026),Qh=n(3910),Yh=n(3854),Jh=n(5422);const Xh=new Map,ed={activated:!1,tokenObservers:[]},td={initialized:!1,enabled:!1};function nd(e){return Xh.get(e)||ed}function rd(e,t){Xh.set(e,t)}function id(){return td}class sd{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Kh.Z)(function*(){t.stop();try{t.pending=new Yh.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new Yh.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const od=new Yh.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ad(e){if(!nd(e).activated)throw od.create("use-before-activation",{appName:e.name})}function cd(e,t){return ld.apply(this,arguments)}function ld(){return(ld=(0,Kh.Z)(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=yield fetch(e,s)}catch(h){throw od.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw od.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw od.create("fetch-parse-error",{originalErrorMessage:h.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw od.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function ud(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const hd="firebase-app-check-store";let dd=null;function fd(){return dd||(dd=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(od.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(hd,{keyPath:"compositeKey"})}}}catch(n){t(od.create("storage-open",{originalErrorMessage:n.message}))}}),dd)}function pd(){return(pd=(0,Kh.Z)(function*(e,t){const n=(yield fd()).transaction(hd,"readwrite"),r=n.objectStore(hd).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(od.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const gd=new Jh.Yd("@firebase/app-check");function md(e,t){return(0,Yh.hl)()?function(e,t){return function(e,t){return pd.apply(this,arguments)}(function(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(e=>{gd.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function yd(){return id().enabled}function vd(){return _d.apply(this,arguments)}function _d(){return(_d=(0,Kh.Z)(function*(){const e=id();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wd={error:"UNKNOWN_ERROR"};function bd(e){return Yh.US.encodeString(JSON.stringify(e),!1)}function Td(e){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,Kh.Z)(function*(e,t=!1){const n=e.app;ad(n);const r=nd(n);let i,s=r.token;if(!s){const e=yield r.cachedTokenPromise;e&&kd(e)&&(s=e)}if(!t&&s&&kd(s))return{token:s.token};let o,a=!1;if(yd()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cd(ud(n,yield vd()),e.platformLoggerProvider).then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0);const t=yield r.exchangeTokenPromise;return yield md(n,t),rd(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0),s=yield r.exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?gd.warn(c.message):gd.error(c),i=c}return s?(o={token:s.token},rd(n,Object.assign(Object.assign({},r),{token:s})),yield md(n,s)):o=Ad(i),a&&Id(n,o),o})).apply(this,arguments)}function Ed(e,t){const n=nd(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),rd(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Cd(e){const{app:t}=e,n=nd(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new sd((0,Kh.Z)(function*(){let n;if(n=nd(t).token?yield Td(e,!0):yield Td(e),n.error)throw n.error}),()=>!0,()=>{const e=nd(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e),rd(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Id(e,t){const n=nd(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function kd(e){return e.expireTimeMillis-Date.now()>0}function Ad(e){return{token:bd(wd),error:e}}class xd{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=nd(this.app);for(const t of e)Ed(this.app,t.next);return Promise.resolve()}}const Od="app-check-internal";(0,Wh._registerComponent)(new Qh.wA("app-check",e=>function(e,t){return new xd(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Od).initialize()})),(0,Wh._registerComponent)(new Qh.wA(Od,e=>function(e){return{getToken:t=>Td(e,t),addTokenListener:t=>function(e,t,n,r){const{app:i}=e,s=nd(i),o={next:n,error:r,type:t};if(rd(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&kd(s.token)){const t=s.token;Promise.resolve().then(()=>{n({token:t.token}),Cd(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Cd(e))}(e,"INTERNAL",t),removeTokenListener:t=>Ed(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wh.registerVersion)("@firebase/app-check","0.5.3");class Pd{constructor(){return(0,$h.vb)("app-check")}}"undefined"!=typeof window&&window,n(7841);const Rd=new r.OlP("angularfire2.auth.use-emulator"),Nd=new r.OlP("angularfire2.auth.settings"),Dd=new r.OlP("angularfire2.auth.tenant-id"),Ld=new r.OlP("angularfire2.auth.langugage-code"),Fd=new r.OlP("angularfire2.auth.use-device-language"),Md=new r.OlP("angularfire.auth.persistence"),Ud=(e,t,n,r,i,s,o,a)=>(0,Gh.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const c=t.runOutsideAngular(()=>e.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))c.settings[e]=t;return a&&c.setPersistence(a),c},[n,r,i,s,o,a]);let jd=(()=>{class e{constructor(e,t,r,i,s,o,a,c,l,u,h,d){const f=new we.x,p=_e(void 0).pipe((0,zh.Q)(s.outsideAngular),Ge(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,7696)))),(0,xe.U)(()=>(0,Gh.on)(e,i,t)),(0,xe.U)(e=>Ud(e,i,o,c,l,u,a,h)),Ml({bufferSize:1,refCount:!1}));if(D(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=_e(null);else{p.pipe(at()).subscribe();const e=p.pipe(Ge(e=>e.getRedirectResult().then(e=>e,()=>null)),$h.iC,Ml({bufferSize:1,refCount:!1})),t=p.pipe(Ge(e=>new Te.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=p.pipe(Ge(e=>new Te.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(Zh(t),(0,Hh.R)(s.outsideAngular),(0,zh.Q)(s.insideAngular)),this.user=e.pipe(Zh(n),(0,Hh.R)(s.outsideAngular),(0,zh.Q)(s.insideAngular)),this.idToken=this.user.pipe(Ge(e=>e?(0,ye.D)(e.getIdToken()):_e(null))),this.idTokenResult=this.user.pipe(Ge(e=>e?(0,ye.D)(e.getIdTokenResult()):_e(null))),this.credential=(0,rl.T)(e,f,this.authState.pipe(Je(e=>!e))).pipe((0,xe.U)(e=>(null==e?void 0:e.user)?e:null),(0,Hh.R)(s.outsideAngular),(0,zh.Q)(s.insideAngular))}return(0,Gh.pX)(this,p,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>f.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Gh.Dh),r.LFG(Gh.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG($h.HU),r.LFG(Rd,8),r.LFG(Nd,8),r.LFG(Dd,8),r.LFG(Ld,8),r.LFG(Fd,8),r.LFG(Md,8),r.LFG(Pd,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();const Vd=(0,xe.U)(e=>!!e);let qd=(()=>{class e{constructor(e,t){this.router=e,this.auth=t,this.canActivate=(e,t)=>{const n=e.data.authGuardPipe||(()=>Vd);return this.auth.user.pipe((0,Ke.q)(1),n(e,t),(0,xe.U)(e=>"boolean"==typeof e?e:Array.isArray(e)?this.router.createUrlTree(e):this.router.parseUrl(e)))}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(qr),r.LFG(jd))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),Bd=(()=>{class e{constructor(){this.islogIn=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();n(7696);var zd,Zd=n(3394),Hd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$d={},Gd=Gd||{},Kd=Hd||self;function Wd(){}function Qd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Yd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Jd="closure_uid_"+(1e9*Math.random()>>>0),Xd=0;function ef(e,t,n){return e.call.apply(e.bind,arguments)}function tf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function nf(e,t,n){return(nf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ef:tf).apply(null,arguments)}function rf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function sf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function of(){this.s=this.s,this.o=this.o}var af={};of.prototype.s=!1,of.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Jd)&&e[Jd]||(e[Jd]=++Xd)}(this);delete af[e]}},of.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},lf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function uf(e){return Array.prototype.concat.apply([],arguments)}function hf(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function df(e){return/^[\s\xa0]*$/.test(e)}var ff,pf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function gf(e,t){return-1!=e.indexOf(t)}function mf(e,t){return e<t?-1:e>t?1:0}e:{var yf=Kd.navigator;if(yf){var vf=yf.userAgent;if(vf){ff=vf;break e}}ff=""}function _f(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function wf(e){const t={};for(const n in e)t[n]=e[n];return t}var bf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tf(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<bf.length;t++)n=bf[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Sf(e){return Sf[" "](e),e}Sf[" "]=Wd;var Ef,Cf,If=gf(ff,"Opera"),kf=gf(ff,"Trident")||gf(ff,"MSIE"),Af=gf(ff,"Edge"),xf=Af||kf,Of=gf(ff,"Gecko")&&!(gf(ff.toLowerCase(),"webkit")&&!gf(ff,"Edge"))&&!(gf(ff,"Trident")||gf(ff,"MSIE"))&&!gf(ff,"Edge"),Pf=gf(ff.toLowerCase(),"webkit")&&!gf(ff,"Edge");function Rf(){var e=Kd.document;return e?e.documentMode:void 0}e:{var Nf="",Df=(Cf=ff,Of?/rv:([^\);]+)(\)|;)/.exec(Cf):Af?/Edge\/([\d\.]+)/.exec(Cf):kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Cf):Pf?/WebKit\/(\S+)/.exec(Cf):If?/(?:Version)[ \/]?(\S+)/.exec(Cf):void 0);if(Df&&(Nf=Df?Df[1]:""),kf){var Lf=Rf();if(null!=Lf&&Lf>parseFloat(Nf)){Ef=String(Lf);break e}}Ef=Nf}var Ff={};function Mf(){return e=Ff,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=pf(String(Ef)).split("."),n=pf("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=mf(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||mf(0==i[2].length,0==s[2].length)||mf(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}var Uf=Kd.document&&kf&&(Rf()||parseInt(Ef,10))||void 0,jf=function(){if(!Kd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Kd.addEventListener("test",Wd,t),Kd.removeEventListener("test",Wd,t)}catch(n){}return e}();function Vf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function qf(e,t){if(Vf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Of){e:{try{Sf(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Bf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qf.Z.h.call(this)}}Vf.prototype.h=function(){this.defaultPrevented=!0},sf(qf,Vf);var Bf={2:"touch",3:"pen",4:"mouse"};qf.prototype.h=function(){qf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var zf="closure_listenable_"+(1e6*Math.random()|0),Zf=0;function Hf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Zf,this.ca=this.fa=!1}function $f(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Gf(e){this.src=e,this.g={},this.h=0}function Kf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=cf(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&($f(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Wf(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Gf.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Wf(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Hf(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Qf="closure_lm_"+(1e6*Math.random()|0),Yf={};function Jf(e,t,n,r,i){if(r&&r.once)return ep(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Jf(e,t[s],n,r,i);return null}return n=ap(n),e&&e[zf]?e.N(t,n,Yd(r)?!!r.capture:!!r,i):Xf(e,t,n,!1,r,i)}function Xf(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Yd(i)?!!i.capture:!!i,a=sp(e);if(a||(e[Qf]=a=new Gf(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=ip;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)jf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(rp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ep(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ep(e,t[s],n,r,i);return null}return n=ap(n),e&&e[zf]?e.O(t,n,Yd(r)?!!r.capture:!!r,i):Xf(e,t,n,!0,r,i)}function tp(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)tp(e,t[s],n,r,i);else r=Yd(r)?!!r.capture:!!r,n=ap(n),e&&e[zf]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Wf(s=e.g[t],n,r,i))&&($f(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=sp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wf(t,n,r,i)),(n=-1<e?t[e]:null)&&np(n))}function np(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[zf])Kf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sp(t))?(Kf(n,e),0==n.h&&(n.src=null,t[Qf]=null)):$f(e)}}}function rp(e){return e in Yf?Yf[e]:Yf[e]="on"+e}function ip(e,t){if(e.ca)e=!0;else{t=new qf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&np(e),e=n.call(r,t)}return e}function sp(e){return(e=e[Qf])instanceof Gf?e:null}var op="__closure_events_fn_"+(1e9*Math.random()>>>0);function ap(e){return"function"==typeof e?e:(e[op]||(e[op]=function(t){return e.handleEvent(t)}),e[op])}function cp(){of.call(this),this.i=new Gf(this),this.P=this,this.I=null}function lp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Vf(t,e);else if(t instanceof Vf)t.target=t.target||e;else{var i=t;Tf(t=new Vf(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=up(o,r,!0,t)&&i}if(i=up(o=t.g=e,r,!0,t)&&i,i=up(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=up(o=t.g=n[s],r,!1,t)&&i}function up(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&Kf(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}sf(cp,of),cp.prototype[zf]=!0,cp.prototype.removeEventListener=function(e,t,n,r){tp(this,e,t,n,r)},cp.prototype.M=function(){if(cp.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$f(n[r]);delete t.g[e],t.h--}}this.I=null},cp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},cp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var hp=Kd.JSON.stringify;function dp(){var e=_p;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fp,pp=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new gp,e=>e.reset());class gp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mp(e){Kd.setTimeout(()=>{throw e},0)}function yp(e,t){fp||function(){var e=Kd.Promise.resolve(void 0);fp=function(){e.then(wp)}}(),vp||(fp(),vp=!0),_p.add(e,t)}var vp=!1,_p=new class{constructor(){this.h=this.g=null}add(e,t){const n=pp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function wp(){for(var e;e=dp();){try{e.h.call(e.g)}catch(n){mp(n)}var t=pp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vp=!1}function bp(e,t){cp.call(this),this.h=e||1,this.g=t||Kd,this.j=nf(this.kb,this),this.l=Date.now()}function Tp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Sp(e,t,n){if("function"==typeof e)n&&(e=nf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=nf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Kd.setTimeout(e,t||0)}function Ep(e){e.g=Sp(()=>{e.g=null,e.i&&(e.i=!1,Ep(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}sf(bp,cp),(zd=bp.prototype).da=!1,zd.S=null,zd.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),lp(this,"tick"),this.da&&(Tp(this),this.start()))}},zd.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zd.M=function(){bp.Z.M.call(this),Tp(this),delete this.g};class Cp extends of{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ep(this)}M(){super.M(),this.g&&(Kd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ip(e){of.call(this),this.h=e,this.g={}}sf(Ip,of);var kp=[];function Ap(e,t,n,r){Array.isArray(n)||(n&&(kp[0]=n.toString()),n=kp);for(var i=0;i<n.length;i++){var s=Jf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function xp(e){_f(e.g,function(e,t){this.g.hasOwnProperty(t)&&np(e)},e),e.g={}}function Op(){this.g=!0}function Pp(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return hp(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Ip.prototype.M=function(){Ip.Z.M.call(this),xp(this)},Ip.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Op.prototype.Aa=function(){this.g=!1},Op.prototype.info=function(){};var Rp={},Np=null;function Dp(){return Np=Np||new cp}function Lp(e){Vf.call(this,Rp.Ma,e)}function Fp(e){const t=Dp();lp(t,new Lp(t,e))}function Mp(e,t){Vf.call(this,Rp.STAT_EVENT,e),this.stat=t}function Up(e){const t=Dp();lp(t,new Mp(t,e))}function jp(e,t){Vf.call(this,Rp.Na,e),this.size=t}function Vp(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Kd.setTimeout(function(){e()},t)}Rp.Ma="serverreachability",sf(Lp,Vf),Rp.STAT_EVENT="statevent",sf(Mp,Vf),Rp.Na="timingevent",sf(jp,Vf);var qp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Bp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zp(){}function Zp(){}zp.prototype.h=null;var Hp,$p={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gp(){Vf.call(this,"d")}function Kp(){Vf.call(this,"c")}function Wp(){}function Qp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ip(this),this.P=Jp,this.W=new bp(e=xf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Yp}function Yp(){this.i=null,this.g="",this.h=!1}sf(Gp,Vf),sf(Kp,Vf),sf(Wp,zp),Wp.prototype.g=function(){return new XMLHttpRequest},Wp.prototype.i=function(){return{}},Hp=new Wp;var Jp=45e3,Xp={},eg={};function tg(e,t,n){e.K=1,e.v=Eg(vg(t)),e.s=n,e.U=!0,ng(e,null)}function ng(e,t){e.F=Date.now(),og(e),e.A=vg(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Mg(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Yp,e.g=Mm(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Cp(nf(e.Ia,e,e.g),e.O)),Ap(e.V,e.g,"readystatechange",e.gb),t=e.H?wf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Fp(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function rg(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function ig(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=sg(e,n),r==eg){4==t&&(e.o=4,Up(14),i=!1),Pp(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xp){e.o=4,Up(15),Pp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Pp(e.j,e.m,r,null),hg(e,r)}rg(e)&&r!=eg&&r!=Xp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Up(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),xm(t),t.L=!0,Up(11))):(Pp(e.j,e.m,n,"[Invalid Chunked Response]"),ug(e),lg(e))}function sg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?eg:(n=Number(t.substring(n,r)),isNaN(n)?Xp:(r+=1)+n>t.length?eg:(t=t.substr(r,n),e.C=r+n,t))}function og(e){e.Y=Date.now()+e.P,ag(e,e.P)}function ag(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Vp(nf(e.eb,e),t)}function cg(e){e.B&&(Kd.clearTimeout(e.B),e.B=null)}function lg(e){0==e.l.G||e.I||Rm(e.l,e)}function ug(e){cg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Tp(e.W),xp(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function hg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||zg(n.i,e)))if(n.I=e.N,!e.J&&zg(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Vp(nf(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<e.F))break e;Pm(n),wm(n)}Am(n),Up(18)}if(1>=Bg(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else Dm(n,11)}else if((e.J||n.g==e)&&Pm(n),!df(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const t=l[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=l[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(gf(e,"spdy")||gf(e,"quic")||gf(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Zg(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Sg(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=Fm(r,r.H?r.la:null,r.W),o.J){Hg(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(cg(a),og(a)),r.g=o}else km(r);0<n.l.length&&Sm(n)}else"stop"!=l[0]&&"close"!=l[0]||Dm(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Dm(n,7):_m(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}Fp(4)}catch(l){}}function dg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Qd(e)||"string"==typeof e)lf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Qd(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Qd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function fg(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fg)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function pg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];gg(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)gg(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function gg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(zd=Qp.prototype).setTimeout=function(e){this.P=e},zd.gb=function(e){e=e.target;const t=this.L;t&&3==pm(e)?t.l():this.Ia(e)},zd.Ia=function(e){try{if(e==this.g)e:{const u=pm(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||xf||this.g&&(this.h.h||this.g.ga()||gm(this.g)))){this.I||4!=u||7==t||Fp(8==t||0>=h?3:2),cg(this);var n=this.g.ba();this.N=n;t:if(rg(this)){var r=gm(this.g);e="";var i=r.length,s=4==pm(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ug(this),lg(this);var o="";break t}this.h.i=new Kd.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!df(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Up(12),ug(this),lg(this);break e}Pp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hg(this,n)}this.U?(ig(this,u,o),xf&&this.i&&3==u&&(Ap(this.V,this.W,"tick",this.fb),this.W.start())):(Pp(this.j,this.m,o,null),hg(this,o)),4==u&&ug(this),this.i&&!this.I&&(4==u?Rm(this.l,this):(this.i=!1,og(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Up(12)):(this.o=0,Up(13)),ug(this),lg(this)}}}catch(u){}},zd.fb=function(){if(this.g){var e=pm(this.g),t=this.g.ga();this.C<t.length&&(cg(this),ig(this,e,t),this.i&&4!=e&&og(this))}},zd.cancel=function(){this.I=!0,ug(this)},zd.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Fp(3),Up(17)),ug(this),this.o=2,lg(this)):ag(this,this.Y-e)},(zd=fg.prototype).R=function(){pg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},zd.T=function(){return pg(this),this.g.concat()},zd.get=function(e,t){return gg(this.h,e)?this.h[e]:t},zd.set=function(e,t){gg(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},zd.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var mg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yg(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof yg){this.g=void 0!==t?t:e.g,_g(this,e.j),this.s=e.s,wg(this,e.i),bg(this,e.m),this.l=e.l,t=e.h;var n=new Ng;n.i=t.i,t.g&&(n.g=new fg(t.g),n.h=t.h),Tg(this,n),this.o=e.o}else e&&(n=String(e).match(mg))?(this.g=!!t,_g(this,n[1]||"",!0),this.s=Cg(n[2]||""),wg(this,n[3]||"",!0),bg(this,n[4]),this.l=Cg(n[5]||"",!0),Tg(this,n[6]||"",!0),this.o=Cg(n[7]||"")):(this.g=!!t,this.h=new Ng(null,this.g))}function vg(e){return new yg(e)}function _g(e,t,n){e.j=n?Cg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wg(e,t,n){e.i=n?Cg(t,!0):t}function bg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Tg(e,t,n){t instanceof Ng?(e.h=t,function(e,t){t&&!e.j&&(Dg(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Lg(this,t),Mg(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Ig(t,Pg)),e.h=new Ng(t,e.g))}function Sg(e,t,n){e.h.set(t,n)}function Eg(e){return Sg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ig(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,kg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ig(t,Ag,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ig(t,Ag,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ig(n,"/"==n.charAt(0)?Og:xg,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ig(n,Rg)),e.join("")};var Ag=/[#\/\?@]/g,xg=/[#\?:]/g,Og=/[#\?]/g,Pg=/[#\?@]/g,Rg=/#/g;function Ng(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dg(e){e.g||(e.g=new fg,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Lg(e,t){Dg(e),t=Ug(e,t),gg(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,gg((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&pg(e)))}function Fg(e,t){return Dg(e),t=Ug(e,t),gg(e.g.h,t)}function Mg(e,t,n){Lg(e,t),0<n.length&&(e.i=null,e.g.set(Ug(e,t),hf(n)),e.h+=n.length)}function Ug(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jg(e){this.l=e||Vg,e=Kd.PerformanceNavigationTiming?0<(e=Kd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Kd.g&&Kd.g.Ea&&Kd.g.Ea()&&Kd.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(zd=Ng.prototype).add=function(e,t){Dg(this),this.i=null,e=Ug(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},zd.forEach=function(e,t){Dg(this),this.g.forEach(function(n,r){lf(n,function(n){e.call(t,n,r,this)},this)},this)},zd.T=function(){Dg(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},zd.R=function(e){Dg(this);var t=[];if("string"==typeof e)Fg(this,e)&&(t=uf(t,this.g.get(Ug(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=uf(t,e[n])}return t},zd.set=function(e,t){return Dg(this),this.i=null,Fg(this,e=Ug(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},zd.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},zd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Vg=10;function qg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Bg(e){return e.h?1:e.g?e.g.size:0}function zg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Zg(e,t){e.g?e.g.add(t):e.h=t}function Hg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $g(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return hf(e.i)}function Gg(){}function Kg(){this.g=new Gg}function Wg(e,t,n){const r=n||"";try{dg(e,function(e,n){let i=e;Yd(e)&&(i=hp(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Yg(e){this.l=e.$b||null,this.j=e.ib||!1}function Jg(e,t){cp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Xg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jg.prototype.cancel=function(){if(this.i=$g(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Gg.prototype.stringify=function(e){return Kd.JSON.stringify(e,void 0)},Gg.prototype.parse=function(e){return Kd.JSON.parse(e,void 0)},sf(Yg,zp),Yg.prototype.g=function(){return new Jg(this.l,this.j)},Yg.prototype.i=function(e){return function(){return e}}({}),sf(Jg,cp);var Xg=0;function em(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function tm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nm(e)}function nm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(zd=Jg.prototype).open=function(e,t){if(this.readyState!=Xg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,nm(this)},zd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Kd).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},zd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tm(this)),this.readyState=Xg},zd.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nm(this)),this.g&&(this.readyState=3,nm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Kd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;em(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},zd.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tm(this):nm(this),3==this.readyState&&em(this)}},zd.Ua=function(e){this.g&&(this.response=this.responseText=e,tm(this))},zd.Ta=function(e){this.g&&(this.response=e,tm(this))},zd.ha=function(){this.g&&tm(this)},zd.setRequestHeader=function(e,t){this.v.append(e,t)},zd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},zd.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Jg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rm=Kd.JSON.parse;function im(e){cp.call(this),this.headers=new fg,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sm,this.K=this.L=!1}sf(im,cp);var sm="",om=/^https?$/i,am=["POST","PUT"];function cm(e){return"content-type"==e.toLowerCase()}function lm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,um(e),dm(e)}function um(e){e.D||(e.D=!0,lp(e,"complete"),lp(e,"error"))}function hm(e){if(e.h&&void 0!==Gd&&(!e.C[1]||4!=pm(e)||2!=e.ba()))if(e.v&&4==pm(e))Sp(e.Fa,0,e);else if(lp(e,"readystatechange"),4==pm(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var i=String(e.H).match(mg)[1]||null;if(!i&&Kd.self&&Kd.self.location){var s=Kd.self.location.protocol;i=s.substr(0,s.length-1)}r=!om.test(i?i.toLowerCase():"")}n=r}if(n)lp(e,"complete"),lp(e,"success");else{e.m=6;try{var o=2<pm(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",um(e)}}finally{dm(e)}}}function dm(e,t){if(e.g){fm(e);const r=e.g,i=e.C[0]?Wd:null;e.g=null,e.C=null,t||lp(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function fm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Kd.clearTimeout(e.A),e.A=null)}function pm(e){return e.g?e.g.readyState:0}function gm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case sm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function mm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return _f(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Sg(e,t,n))}function ym(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vm(e){this.za=0,this.l=[],this.h=new Op,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ym("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ym("baseRetryDelayMs",5e3,e),this.$a=ym("retryDelaySeedMs",1e4,e),this.Ya=ym("forwardChannelMaxRetries",2,e),this.ra=ym("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new jg(e&&e.concurrentRequestLimit),this.Ca=new Kg,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function _m(e){if(bm(e),3==e.G){var t=e.V++,n=vg(e.F);Sg(n,"SID",e.J),Sg(n,"RID",t),Sg(n,"TYPE","terminate"),Cm(e,n),(t=new Qp(e,e.h,t,void 0)).K=2,t.v=Eg(vg(n)),n=!1,Kd.navigator&&Kd.navigator.sendBeacon&&(n=Kd.navigator.sendBeacon(t.v.toString(),"")),!n&&Kd.Image&&((new Image).src=t.v,n=!0),n||(t.g=Mm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),og(t)}Lm(e)}function wm(e){e.g&&(xm(e),e.g.cancel(),e.g=null)}function bm(e){wm(e),e.u&&(Kd.clearTimeout(e.u),e.u=null),Pm(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Kd.clearTimeout(e.m),e.m=null)}function Tm(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Sm(e)}function Sm(e){qg(e.i)||e.m||(e.m=!0,yp(e.Ha,e),e.C=0)}function Em(e,t){var n;n=t?t.m:e.V++;const r=vg(e.F);Sg(r,"SID",e.J),Sg(r,"RID",n),Sg(r,"AID",e.U),Cm(e,r),e.o&&e.s&&mm(r,e.o,e.s),n=new Qp(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Im(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Zg(e.i,n),tg(n,r,t)}function Cm(e,t){e.j&&dg({},function(e,n){Sg(t,n,e)})}function Im(e,t,n){n=Math.min(e.l.length,n);var r=e.j?nf(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const c=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),o=!1;else try{Wg(c,e,"req"+n+"_")}catch(s){r&&r(c)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function km(e){e.g||e.u||(e.Y=1,yp(e.Ga,e),e.A=0)}function Am(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Vp(nf(e.Ga,e),Nm(e,e.A)),e.A++,0))}function xm(e){null!=e.B&&(Kd.clearTimeout(e.B),e.B=null)}function Om(e){e.g=new Qp(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=vg(e.oa);Sg(t,"RID","rpc"),Sg(t,"SID",e.J),Sg(t,"CI",e.N?"0":"1"),Sg(t,"AID",e.U),Cm(e,t),Sg(t,"TYPE","xmlhttp"),e.o&&e.s&&mm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Eg(vg(t)),n.s=null,n.U=!0,ng(n,e)}function Pm(e){null!=e.v&&(Kd.clearTimeout(e.v),e.v=null)}function Rm(e,t){var n=null;if(e.g==t){Pm(e),xm(e),e.g=null;var r=2}else{if(!zg(e.i,t))return;n=t.D,Hg(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;lp(r=Dp(),new jp(r,n,t,i)),Sm(e)}else km(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Bg(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Vp(nf(e.Ha,e,t),Nm(e,e.C)),e.C++,0)))}(e,t)||2==r&&Am(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Dm(e,5);break;case 4:Dm(e,10);break;case 3:Dm(e,6);break;default:Dm(e,2)}}function Nm(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Dm(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=nf(e.jb,e);n||(n=new yg("//www.google.com/images/cleardot.gif"),Kd.location&&"http"==Kd.location.protocol||_g(n,"https"),Eg(n)),function(e,t){const n=new Op;if(Kd.Image){const r=new Image;r.onload=rf(Qg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rf(Qg,n,r,"TestLoadImage: error",!1,t),r.onabort=rf(Qg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rf(Qg,n,r,"TestLoadImage: timeout",!1,t),Kd.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Up(2);e.G=0,e.j&&e.j.va(t),Lm(e),bm(e)}function Lm(e){e.G=0,e.I=-1,e.j&&((0!=$g(e.i).length||0!=e.l.length)&&(e.i.i.length=0,hf(e.l),e.l.length=0),e.j.ua())}function Fm(e,t,n){let r=function(e){return e instanceof yg?vg(e):new yg(e,void 0)}(n);if(""!=r.i)t&&wg(r,t+"."+r.i),bg(r,r.m);else{const e=Kd.location;r=function(e,t,n,r){var i=new yg(null,void 0);return e&&_g(i,e),t&&wg(i,t),n&&bg(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&_f(e.aa,function(e,t){Sg(r,t,e)}),n=e.sa,(t=e.D)&&n&&Sg(r,t,n),Sg(r,"VER",e.ma),Cm(e,r),r}function Mm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new im(n&&e.Ba&&!e.qa?new Yg({ib:!0}):e.qa)).L=e.H,t}function Um(){}function jm(){if(kf&&!(10<=Number(Uf)))throw Error("Environmental error: no available transport.")}function Vm(e,t){cp.call(this),this.g=new vm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!df(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!df(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new zm(this)}function qm(e){Gp.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bm(){Kp.call(this),this.status=1}function zm(e){this.g=e}(zd=im.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hp.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Hp),this.g.onreadystatechange=nf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void lm(this,s)}e=n||"";const i=new fg(this.headers);r&&dg(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=cm;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Kd.FormData&&e instanceof Kd.FormData,!(0<=cf(am,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fm(this),0<this.B&&((this.K=function(e){return kf&&Mf()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nf(this.pa,this)):this.A=Sp(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){lm(this,s)}},zd.pa=function(){void 0!==Gd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lp(this,"timeout"),this.abort(8))},zd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,lp(this,"complete"),lp(this,"abort"),dm(this))},zd.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dm(this,!0)),im.Z.M.call(this)},zd.Fa=function(){this.s||(this.F||this.v||this.l?hm(this):this.cb())},zd.cb=function(){hm(this)},zd.ba=function(){try{return 2<pm(this)?this.g.status:-1}catch(Cf){return-1}},zd.ga=function(){try{return this.g?this.g.responseText:""}catch(Cf){return""}},zd.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rm(t)}},zd.Da=function(){return this.m},zd.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(zd=vm.prototype).ma=8,zd.G=1,zd.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},zd.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Qp(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=wf(s),Tf(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Im(this,i,t),Sg(n=vg(this.F),"RID",e),Sg(n,"CVER",22),this.D&&Sg(n,"X-HTTP-Session-Id",this.D),Cm(this,n),this.o&&s&&mm(n,this.o,s),Zg(this.i,i),this.Ra&&Sg(n,"TYPE","init"),this.ja?(Sg(n,"$req",t),Sg(n,"SID","null"),i.$=!0,tg(i,n,null)):tg(i,n,t),this.G=2}}else 3==this.G&&(e?Em(this,e):0==this.l.length||qg(this.i)||Em(this))},zd.Ga=function(){if(this.u=null,Om(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Vp(nf(this.bb,this),e)}},zd.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Up(10),wm(this),Om(this))},zd.ab=function(){null!=this.v&&(this.v=null,wm(this),Am(this),Up(19))},zd.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Up(2)):(this.h.info("Failed to ping google.com"),Up(1))},(zd=Um.prototype).xa=function(){},zd.wa=function(){},zd.va=function(){},zd.ua=function(){},zd.Oa=function(){},jm.prototype.g=function(e,t){return new Vm(e,t)},sf(Vm,cp),Vm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),yp(nf(e.hb,e,t))),Up(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Fm(e,null,e.W),Sm(e)},Vm.prototype.close=function(){_m(this.g)},Vm.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Tm(this.g,t)}else this.v?((t={}).__data__=hp(e),Tm(this.g,t)):Tm(this.g,e)},Vm.prototype.M=function(){this.g.j=null,delete this.j,_m(this.g),delete this.g,Vm.Z.M.call(this)},sf(qm,Gp),sf(Bm,Kp),sf(zm,Um),zm.prototype.xa=function(){lp(this.g,"a")},zm.prototype.wa=function(e){lp(this.g,new qm(e))},zm.prototype.va=function(e){lp(this.g,new Bm(e))},zm.prototype.ua=function(){lp(this.g,"b")},jm.prototype.createWebChannel=jm.prototype.g,Vm.prototype.send=Vm.prototype.u,Vm.prototype.open=Vm.prototype.m,Vm.prototype.close=Vm.prototype.close,qp.NO_ERROR=0,qp.TIMEOUT=8,qp.HTTP_ERROR=6,Bp.COMPLETE="complete",Zp.EventType=$p,$p.OPEN="a",$p.CLOSE="b",$p.ERROR="c",$p.MESSAGE="d",cp.prototype.listen=cp.prototype.N,im.prototype.listenOnce=im.prototype.O,im.prototype.getLastError=im.prototype.La,im.prototype.getLastErrorCode=im.prototype.Da,im.prototype.getStatus=im.prototype.ba,im.prototype.getResponseJson=im.prototype.Qa,im.prototype.getResponseText=im.prototype.ga,im.prototype.send=im.prototype.ea;var Zm=$d.createWebChannelTransport=function(){return new jm},Hm=$d.getStatEventTarget=function(){return Dp()},$m=$d.ErrorCode=qp,Gm=$d.EventType=Bp,Km=$d.Event=Rp,Wm=$d.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qm=$d.FetchXmlHttpFactory=Yg,Ym=$d.WebChannel=Zp,Jm=$d.XhrIo=im;const Xm="@firebase/firestore";class ey{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ey.UNAUTHENTICATED=new ey(null),ey.GOOGLE_CREDENTIALS=new ey("google-credentials-uid"),ey.FIRST_PARTY=new ey("first-party-uid"),ey.MOCK_USER=new ey("mock-user");let ty="9.6.3";const ny=new Jh.Yd("@firebase/firestore");function ry(){return ny.logLevel}function iy(e,...t){if(ny.logLevel<=Jh.in.DEBUG){const n=t.map(ay);ny.debug(`Firestore (${ty}): ${e}`,...n)}}function sy(e,...t){if(ny.logLevel<=Jh.in.ERROR){const n=t.map(ay);ny.error(`Firestore (${ty}): ${e}`,...n)}}function oy(e,...t){if(ny.logLevel<=Jh.in.WARN){const n=t.map(ay);ny.warn(`Firestore (${ty}): ${e}`,...n)}}function ay(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function cy(e="Unexpected state"){const t=`FIRESTORE (${ty}) INTERNAL ASSERTION FAILED: `+e;throw sy(t),new Error(t)}function ly(e,t){e||cy()}function uy(e,t){return e}const hy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dy extends Yh.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fy{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class py{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ey.UNAUTHENTICATED))}shutdown(){}}class my{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yy{constructor(e){this.t=e,this.currentUser=ey.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new fy;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fy,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,Kh.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{iy("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(iy("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fy)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(iy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ly("string"==typeof t.accessToken),new py(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ly(null===e||"string"==typeof e),new ey(e)}}class vy{constructor(e,t,n){this.type="FirstParty",this.user=ey.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class _y{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new vy(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ey.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class by{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable(()=>{return null!=(e=n).error&&iy("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token);var e})};const n=e=>{iy("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):iy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ly("string"==typeof e.token),new wy(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ty{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Sy(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Ty.I=-1;class Ey{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Sy(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Cy(e,t){return e<t?-1:e>t?1:0}function Iy(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function ky(e){return e+"\0"}class Ay{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new dy(hy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new dy(hy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new dy(hy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dy(hy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ay.fromMillis(Date.now())}static fromDate(e){return Ay.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ay(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cy(this.nanoseconds,e.nanoseconds):Cy(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xy{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xy(e)}static min(){return new xy(new Ay(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Oy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Py(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ry(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ny{constructor(e,t,n){void 0===t?t=0:t>e.length&&cy(),void 0===n?n=e.length-t:n>e.length-t&&cy(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ny.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ny?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dy extends Ny{construct(e,t,n){return new Dy(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new dy(hy.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Dy(t)}static emptyPath(){return new Dy([])}}const Ly=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fy extends Ny{construct(e,t,n){return new Fy(e,t,n)}static isValidIdentifier(e){return Ly.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fy.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fy(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new dy(hy.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new dy(hy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new dy(hy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new dy(hy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fy(t)}static emptyPath(){return new Fy([])}}class My{constructor(e){this.fields=e,e.sort(Fy.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Iy(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Uy{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Uy(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Uy(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cy(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Uy.EMPTY_BYTE_STRING=new Uy("");const jy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vy(e){if(ly(!!e),"string"==typeof e){let t=0;const n=jy.exec(e);if(ly(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qy(e.seconds),nanos:qy(e.nanos)}}function qy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function By(e){return"string"==typeof e?Uy.fromBase64String(e):Uy.fromUint8Array(e)}function zy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zy(e){const t=e.mapValue.fields.__previous_value__;return zy(t)?Zy(t):t}function Hy(e){const t=Vy(e.mapValue.fields.__local_write_time__.timestampValue);return new Ay(t.seconds,t.nanos)}function $y(e){return null==e}function Gy(e){return 0===e&&1/e==-1/0}function Ky(e){return"number"==typeof e&&Number.isInteger(e)&&!Gy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Wy{constructor(e){this.path=e}static fromPath(e){return new Wy(Dy.fromString(e))}static fromName(e){return new Wy(Dy.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Dy.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dy.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wy(new Dy(e.slice()))}}function Qy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zy(e)?4:10:cy()}function Yy(e,t){if(e===t)return!0;const n=Qy(e);if(n!==Qy(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hy(e).isEqual(Hy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Vy(e.timestampValue),r=Vy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,By(e.bytesValue).isEqual(By(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qy(e.geoPointValue.latitude)===qy(t.geoPointValue.latitude)&&qy(e.geoPointValue.longitude)===qy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qy(e.integerValue)===qy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=qy(e.doubleValue),r=qy(t.doubleValue);return n===r?Gy(n)===Gy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Iy(e.arrayValue.values||[],t.arrayValue.values||[],Yy);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Oy(n)!==Oy(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yy(n[i],r[i])))return!1;return!0}(e,t);default:return cy()}var r}function Jy(e,t){return void 0!==(e.values||[]).find(e=>Yy(e,t))}function Xy(e,t){if(e===t)return 0;const n=Qy(e),r=Qy(t);if(n!==r)return Cy(n,r);switch(n){case 0:return 0;case 1:return Cy(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=qy(e.integerValue||e.doubleValue),r=qy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ev(e.timestampValue,t.timestampValue);case 4:return ev(Hy(e),Hy(t));case 5:return Cy(e.stringValue,t.stringValue);case 6:return function(e,t){const n=By(e),r=By(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Cy(n[i],r[i]);if(0!==e)return e}return Cy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cy(qy(e.latitude),qy(t.latitude));return 0!==n?n:Cy(qy(e.longitude),qy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Xy(n[i],r[i]);if(e)return e}return Cy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Cy(r[o],s[o]);if(0!==e)return e;const t=Xy(n[r[o]],i[s[o]]);if(0!==t)return t}return Cy(r.length,s.length)}(e.mapValue,t.mapValue);default:throw cy()}}function ev(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cy(e,t);const n=Vy(e),r=Vy(t),i=Cy(n.seconds,r.seconds);return 0!==i?i:Cy(n.nanos,r.nanos)}function tv(e){return nv(e)}function nv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Vy(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?By(e.bytesValue).toBase64():"referenceValue"in e?Wy.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=nv(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${nv(e.fields[i])}`;return n+"}"}(e.mapValue):cy();var t}function rv(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function iv(e){return!!e&&"integerValue"in e}function sv(e){return!!e&&"arrayValue"in e}function ov(e){return!!e&&"nullValue"in e}function av(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cv(e){return!!e&&"mapValue"in e}function lv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Py(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=lv(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=lv(e.arrayValue.values[n]);return t}return Object.assign({},e)}class uv{constructor(e){this.value=e}static empty(){return new uv({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!cv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lv(t)}setAll(e){let t=Fy.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=lv(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());cv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yy(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];cv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Py(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new uv(lv(this.value))}}function hv(e){const t=[];return Py(e.fields,(e,n)=>{const r=new Fy([e]);if(cv(n)){const e=hv(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new My(t)}class dv{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new dv(e,0,xy.min(),uv.empty(),0)}static newFoundDocument(e,t,n){return new dv(e,1,t,n,0)}static newNoDocument(e,t){return new dv(e,2,t,uv.empty(),0)}static newUnknownDocument(e,t){return new dv(e,3,t,uv.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=uv.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=uv.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dv&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dv(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fv{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.R=null}}function pv(e,t=null,n=[],r=[],i=null,s=null,o=null){return new fv(e,t,n,r,i,s,o)}function gv(e){const t=uy(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+tv(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),$y(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Av(t.startAt)),t.endAt&&(e+="|ub:",e+=Av(t.endAt)),t.R=e}return t.R}function mv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Ov(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Yy(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Rv(e.startAt,t.startAt)&&Rv(e.endAt,t.endAt)}function yv(e){return Wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class vv extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new _v(e,t,n):"array-contains"===t?new Sv(e,n):"in"===t?new Ev(e,n):"not-in"===t?new Cv(e,n):"array-contains-any"===t?new Iv(e,n):new vv(e,t,n)}static P(e,t,n){return"in"===t?new wv(e,n):new bv(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Xy(t,this.value)):null!==t&&Qy(this.value)===Qy(t)&&this.v(Xy(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cy()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _v extends vv{constructor(e,t,n){super(e,t,n),this.key=Wy.fromName(n.referenceValue)}matches(e){const t=Wy.comparator(e.key,this.key);return this.v(t)}}class wv extends vv{constructor(e,t){super(e,"in",t),this.keys=Tv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bv extends vv{constructor(e,t){super(e,"not-in",t),this.keys=Tv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Wy.fromName(e.referenceValue))}class Sv extends vv{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sv(t)&&Jy(t.arrayValue,this.value)}}class Ev extends vv{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jy(this.value.arrayValue,t)}}class Cv extends vv{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jy(this.value.arrayValue,t)}}class Iv extends vv{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Jy(this.value.arrayValue,e))}}class kv{constructor(e,t){this.position=e,this.before=t}}function Av(e){return`${e.before?"b":"a"}:${e.position.map(e=>tv(e)).join(",")}`}class xv{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ov(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Pv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Wy.comparator(Wy.fromName(o.referenceValue),n.key):Xy(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Rv(e,t){if(null===e)return null===t;if(null===t||e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yy(e.position[n],t.position[n]))return!1;return!0}class Nv{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.S=null,this.D=null}}function Dv(e,t,n,r,i,s,o,a){return new Nv(e,t,n,r,i,s,o,a)}function Lv(e){return new Nv(e)}function Fv(e){return!$y(e.limit)&&"F"===e.limitType}function Mv(e){return!$y(e.limit)&&"L"===e.limitType}function Uv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jv(e){for(const t of e.filters)if(t.V())return t.field;return null}function Vv(e){return null!==e.collectionGroup}function qv(e){const t=uy(e);if(null===t.S){t.S=[];const e=jv(t),n=Uv(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new xv(e)),t.S.push(new xv(Fy.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new xv(Fy.keyField(),e))}}}return t.S}function Bv(e){const t=uy(e);if(!t.D)if("F"===t.limitType)t.D=pv(t.path,t.collectionGroup,qv(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of qv(t))e.push(new xv(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new kv(t.endAt.position,!t.endAt.before):null,r=t.startAt?new kv(t.startAt.position,!t.startAt.before):null;t.D=pv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function zv(e,t,n){return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zv(e,t){return mv(Bv(e),Bv(t))&&e.limitType===t.limitType}function Hv(e){return`${gv(Bv(e))}|lt:${e.limitType}`}function $v(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${tv(t.value)}`;var t}).join(", ")}]`),$y(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: "+Av(e.startAt)),e.endAt&&(t+=", endAt: "+Av(e.endAt)),`Target(${t})`}(Bv(e))}; limitType=${e.limitType})`}function Gv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!Pv(n.startAt,qv(n),r)||n.endAt&&Pv(n.endAt,qv(n),r)));var n,r}function Kv(e){return(t,n)=>{let r=!1;for(const i of qv(e)){const e=Wv(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Wv(e,t,n){const r=e.field.isKeyField()?Wy.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xy(r,i):cy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cy()}}function Qv(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gy(t)?"-0":t}}function Yv(e){return{integerValue:""+e}}function Jv(e,t){return Ky(t)?Yv(t):Qv(e,t)}class Xv{constructor(){this._=void 0}}function e_(e,t,n){return e instanceof r_?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof i_?s_(e,t):e instanceof o_?a_(e,t):function(e,t){const n=n_(e,t),r=l_(n)+l_(e.N);return iv(n)&&iv(e.N)?Yv(r):Qv(e.k,r)}(e,t)}function t_(e,t,n){return e instanceof i_?s_(e,t):e instanceof o_?a_(e,t):n}function n_(e,t){return e instanceof c_?iv(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}class r_ extends Xv{}class i_ extends Xv{constructor(e){super(),this.elements=e}}function s_(e,t){const n=u_(t);for(const r of e.elements)n.some(e=>Yy(e,r))||n.push(r);return{arrayValue:{values:n}}}class o_ extends Xv{constructor(e){super(),this.elements=e}}function a_(e,t){let n=u_(t);for(const r of e.elements)n=n.filter(e=>!Yy(e,r));return{arrayValue:{values:n}}}class c_ extends Xv{constructor(e,t){super(),this.k=e,this.N=t}}function l_(e){return qy(e.integerValue||e.doubleValue)}function u_(e){return sv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class h_{constructor(e,t){this.field=e,this.transform=t}}class d_{constructor(e,t){this.version=e,this.transformResults=t}}class f_{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new f_}static exists(e){return new f_(void 0,e)}static updateTime(e){return new f_(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function p_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class g_{}function m_(e,t,n){e instanceof b_?function(e,t,n){const r=e.value.clone(),i=E_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof T_?function(e,t,n){if(!p_(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=E_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(S_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function y_(e,t,n){var r;e instanceof b_?function(e,t,n){if(!p_(e.precondition,t))return;const r=e.value.clone(),i=C_(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(w_(t),r).setHasLocalMutations()}(e,t,n):e instanceof T_?function(e,t,n){if(!p_(e.precondition,t))return;const r=C_(e.fieldTransforms,n,t),i=t.data;i.setAll(S_(e)),i.setAll(r),t.convertToFoundDocument(w_(t),i).setHasLocalMutations()}(e,t,n):p_(e.precondition,r=t)&&r.convertToNoDocument(xy.min())}function v_(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=n_(r.transform,e||null);null!=i&&(null==n&&(n=uv.empty()),n.set(r.field,i))}return n||null}function __(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&Iy(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(n=e.transform)instanceof i_&&r instanceof i_||n instanceof o_&&r instanceof o_?Iy(n.elements,r.elements,Yy):n instanceof c_&&r instanceof c_?Yy(n.N,r.N):n instanceof r_&&r instanceof r_);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function w_(e){return e.isFoundDocument()?e.version:xy.min()}class b_ extends g_{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class T_ extends g_{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function S_(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function E_(e,t,n){const r=new Map;ly(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,t_(o,a,n[i]))}return r}function C_(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,e_(e,s,t))}return r}class I_ extends g_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class k_ extends g_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class A_{constructor(e){this.count=e}}var x_,O_;function P_(e){switch(e){default:return cy();case hy.CANCELLED:case hy.UNKNOWN:case hy.DEADLINE_EXCEEDED:case hy.RESOURCE_EXHAUSTED:case hy.INTERNAL:case hy.UNAVAILABLE:case hy.UNAUTHENTICATED:return!1;case hy.INVALID_ARGUMENT:case hy.NOT_FOUND:case hy.ALREADY_EXISTS:case hy.PERMISSION_DENIED:case hy.FAILED_PRECONDITION:case hy.ABORTED:case hy.OUT_OF_RANGE:case hy.UNIMPLEMENTED:case hy.DATA_LOSS:return!0}}function R_(e){if(void 0===e)return sy("GRPC error has no .code"),hy.UNKNOWN;switch(e){case x_.OK:return hy.OK;case x_.CANCELLED:return hy.CANCELLED;case x_.UNKNOWN:return hy.UNKNOWN;case x_.DEADLINE_EXCEEDED:return hy.DEADLINE_EXCEEDED;case x_.RESOURCE_EXHAUSTED:return hy.RESOURCE_EXHAUSTED;case x_.INTERNAL:return hy.INTERNAL;case x_.UNAVAILABLE:return hy.UNAVAILABLE;case x_.UNAUTHENTICATED:return hy.UNAUTHENTICATED;case x_.INVALID_ARGUMENT:return hy.INVALID_ARGUMENT;case x_.NOT_FOUND:return hy.NOT_FOUND;case x_.ALREADY_EXISTS:return hy.ALREADY_EXISTS;case x_.PERMISSION_DENIED:return hy.PERMISSION_DENIED;case x_.FAILED_PRECONDITION:return hy.FAILED_PRECONDITION;case x_.ABORTED:return hy.ABORTED;case x_.OUT_OF_RANGE:return hy.OUT_OF_RANGE;case x_.UNIMPLEMENTED:return hy.UNIMPLEMENTED;case x_.DATA_LOSS:return hy.DATA_LOSS;default:return cy()}}(O_=x_||(x_={}))[O_.OK=0]="OK",O_[O_.CANCELLED=1]="CANCELLED",O_[O_.UNKNOWN=2]="UNKNOWN",O_[O_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",O_[O_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",O_[O_.NOT_FOUND=5]="NOT_FOUND",O_[O_.ALREADY_EXISTS=6]="ALREADY_EXISTS",O_[O_.PERMISSION_DENIED=7]="PERMISSION_DENIED",O_[O_.UNAUTHENTICATED=16]="UNAUTHENTICATED",O_[O_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",O_[O_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",O_[O_.ABORTED=10]="ABORTED",O_[O_.OUT_OF_RANGE=11]="OUT_OF_RANGE",O_[O_.UNIMPLEMENTED=12]="UNIMPLEMENTED",O_[O_.INTERNAL=13]="INTERNAL",O_[O_.UNAVAILABLE=14]="UNAVAILABLE",O_[O_.DATA_LOSS=15]="DATA_LOSS";class N_{constructor(e,t){this.comparator=e,this.root=t||L_.EMPTY}insert(e,t){return new N_(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,L_.BLACK,null,null))}remove(e){return new N_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,L_.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new D_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new D_(this.root,e,this.comparator,!1)}getReverseIterator(){return new D_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new D_(this.root,e,this.comparator,!0)}}class D_{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class L_{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:L_.RED,this.left=null!=r?r:L_.EMPTY,this.right=null!=i?i:L_.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new L_(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return L_.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return L_.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,L_.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,L_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw cy();const e=this.left.check();if(e!==this.right.check())throw cy();return e+(this.isRed()?0:1)}}L_.EMPTY=null,L_.RED=!0,L_.BLACK=!1,L_.EMPTY=new class{constructor(){this.size=0}get key(){throw cy()}get value(){throw cy()}get color(){throw cy()}get left(){throw cy()}get right(){throw cy()}copy(e,t,n,r,i){return this}insert(e,t,n){return new L_(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class F_{constructor(e){this.comparator=e,this.data=new N_(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(e){return new M_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof F_)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new F_(this.comparator);return t.data=e,t}}class M_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const U_=new N_(Wy.comparator);function j_(){return U_}const V_=new N_(Wy.comparator);function q_(){return V_}const B_=new N_(Wy.comparator);function z_(){return B_}const Z_=new F_(Wy.comparator);function H_(...e){let t=Z_;for(const n of e)t=t.add(n);return t}const $_=new F_(Cy);function G_(){return $_}class K_{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,W_.createSynthesizedTargetChangeForCurrentChange(e,t)),new K_(xy.min(),n,G_(),j_(),H_())}}class W_{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new W_(Uy.EMPTY_BYTE_STRING,t,H_(),H_(),H_())}}class Q_{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.O=r}}class Y_{constructor(e,t){this.targetId=e,this.M=t}}class J_{constructor(e,t,n=Uy.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class X_{constructor(){this.F=0,this.L=nw(),this.B=Uy.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=H_(),t=H_(),n=H_();return this.L.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cy()}}),new W_(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=nw()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class ew{constructor(e){this.et=e,this.nt=new Map,this.st=j_(),this.it=tw(),this.rt=new F_(Cy)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:cy()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((e,n)=>{this.lt(n)&&t(n)})}dt(e){const t=e.targetId,n=e.M.count,r=this.wt(t);if(r){const e=r.target;if(yv(e))if(0===n){const n=new Wy(e.path);this.at(t,n,dv.newNoDocument(n,xy.min()))}else ly(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((n,r)=>{const i=this.wt(r);if(i){if(n.current&&yv(i.target)){const t=new Wy(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.at(r,t,dv.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}});let n=H_();this.it.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new K_(e,t,this.rt,this.st,n);return this.st=j_(),this.it=tw(),this.rt=new F_(Cy),r}ct(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new X_,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new F_(Cy),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||iy("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new X_),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function tw(){return new N_(Wy.comparator)}function nw(){return new N_(Wy.comparator)}const rw={asc:"ASCENDING",desc:"DESCENDING"},iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sw{constructor(e,t){this.databaseId=e,this.C=t}}function ow(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aw(e,t){return e.C?t.toBase64():t.toUint8Array()}function cw(e,t){return ow(e,t.toTimestamp())}function lw(e){return ly(!!e),xy.fromTimestamp(function(e){const t=Vy(e);return new Ay(t.seconds,t.nanos)}(e))}function uw(e,t){return(n=e,new Dy(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function hw(e){const t=Dy.fromString(e);return ly(Lw(t)),t}function dw(e,t){return uw(e.databaseId,t.path)}function fw(e,t){const n=hw(t);if(n.get(1)!==e.databaseId.projectId)throw new dy(hy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dy(hy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wy(yw(n))}function pw(e,t){return uw(e.databaseId,t)}function gw(e){const t=hw(e);return 4===t.length?Dy.emptyPath():yw(t)}function mw(e){return new Dy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yw(e){return ly(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vw(e,t,n){return{name:dw(e,t),fields:n.value.mapValue.fields}}function _w(e,t,n){const r=fw(e,t.name),i=lw(t.updateTime),s=new uv({mapValue:{fields:t.fields}}),o=dv.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ww(e,t){let n;if(t instanceof b_)n={update:vw(e,t.key,t.value)};else if(t instanceof I_)n={delete:dw(e,t.key)};else if(t instanceof T_)n={update:vw(e,t.key,t.data),updateMask:Dw(t.fieldMask)};else{if(!(t instanceof k_))return cy();n={verify:dw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof r_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof i_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof o_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof c_)return{fieldPath:t.field.canonicalString(),increment:n.N};throw cy()}(0,e))),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:cw(e,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:cy()),n;var r}function bw(e,t){const n=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?f_.updateTime(lw(i.updateTime)):void 0!==i.exists?f_.exists(i.exists):f_.none():f_.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(ly("REQUEST_TIME"===t.setToServerValue),n=new r_):"appendMissingElements"in t?n=new i_(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new o_(t.removeAllFromArray.values||[]):"increment"in t?n=new c_(e,t.increment):cy();const r=Fy.fromServerFormat(t.fieldPath);return new h_(r,n)}(e,t)):[];var i;if(t.update){const i=fw(e,t.update.name),s=new uv({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=new My((t.updateMask.fieldPaths||[]).map(e=>Fy.fromServerFormat(e)));return new T_(i,s,e,n,r)}return new b_(i,s,n,r)}if(t.delete){const r=fw(e,t.delete);return new I_(r,n)}if(t.verify){const r=fw(e,t.verify);return new k_(r,n)}return cy()}function Tw(e,t){return{documents:[pw(e,t.path)]}}function Sw(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=pw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=pw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(av(e.value))return{unaryFilter:{field:Ow(e.field),op:"IS_NAN"}};if(ov(e.value))return{unaryFilter:{field:Ow(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(av(e.value))return{unaryFilter:{field:Ow(e.field),op:"IS_NOT_NAN"}};if(ov(e.value))return{unaryFilter:{field:Ow(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ow(e.field),op:xw(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>{return{field:Ow((t=e).field),direction:Aw(t.dir)};var t})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(a=t.limit,e.C||$y(a)?a:{value:a});var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Iw(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Iw(t.endAt)),n}function Ew(e){let t=gw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ly(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Cw(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>{return new xv(Pw((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,$y(t)?null:t}(n.limit));let c=null;n.startAt&&(c=kw(n.startAt));let l=null;return n.endAt&&(l=kw(n.endAt)),Dv(t,i,o,s,a,"F",c,l)}function Cw(e){return e?void 0!==e.unaryFilter?[Nw(e)]:void 0!==e.fieldFilter?[Rw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>Cw(e)).reduce((e,t)=>e.concat(t)):cy():[]}function Iw(e){return{before:e.before,values:e.position}}function kw(e){return new kv(e.values||[],!!e.before)}function Aw(e){return rw[e]}function xw(e){return iw[e]}function Ow(e){return{fieldPath:e.canonicalString()}}function Pw(e){return Fy.fromServerFormat(e.fieldPath)}function Rw(e){return vv.create(Pw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cy()}}(e.fieldFilter.op),e.fieldFilter.value)}function Nw(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pw(e.unaryFilter.field);return vv.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Pw(e.unaryFilter.field);return vv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pw(e.unaryFilter.field);return vv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pw(e.unaryFilter.field);return vv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cy()}}function Dw(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Lw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Fw(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Uw(t)),t=Mw(e.get(n),t);return Uw(t)}function Mw(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Uw(e){return e+"\x01\x01"}function jw(e){const t=e.length;if(ly(t>=2),2===t)return ly("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Dy.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&cy(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:cy()}s=t+2}return new Dy(r)}class Vw{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class qw{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}qw.store="owner",qw.key="owner";class Bw{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Bw.store="mutationQueues",Bw.keyPath="userId";class zw{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}zw.store="mutations",zw.keyPath="batchId",zw.userMutationsIndex="userMutationsIndex",zw.userMutationsKeyPath=["userId","batchId"];class Zw{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Fw(t)]}static key(e,t,n){return[e,Fw(t),n]}}Zw.store="documentMutations",Zw.PLACEHOLDER=new Zw;class Hw{constructor(e,t){this.path=e,this.readTime=t}}class $w{constructor(e,t){this.path=e,this.version=t}}class Gw{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Gw.store="remoteDocuments",Gw.readTimeIndex="readTimeIndex",Gw.readTimeIndexPath="readTime",Gw.collectionReadTimeIndex="collectionReadTimeIndex",Gw.collectionReadTimeIndexPath=["parentPath","readTime"];class Kw{constructor(e){this.byteSize=e}}Kw.store="remoteDocumentGlobal",Kw.key="remoteDocumentGlobalKey";class Ww{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Ww.store="targets",Ww.keyPath="targetId",Ww.queryTargetsIndexName="queryTargetsIndex",Ww.queryTargetsKeyPath=["canonicalId","targetId"];class Qw{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Qw.store="targetDocuments",Qw.keyPath=["targetId","path"],Qw.documentTargetsIndex="documentTargetsIndex",Qw.documentTargetsKeyPath=["path","targetId"];class Yw{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Yw.key="targetGlobalKey",Yw.store="targetGlobal";class Jw{constructor(e,t){this.collectionId=e,this.parent=t}}Jw.store="collectionParents",Jw.keyPath=["collectionId","parent"];class Xw{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Xw.store="clientMetadata",Xw.keyPath="clientId";class eb{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}eb.store="bundles",eb.keyPath="bundleId";class tb{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}tb.store="namedQueries",tb.keyPath="name";const nb=[Bw.store,zw.store,Zw.store,Gw.store,Ww.store,qw.store,Yw.store,Qw.store,Xw.store,Kw.store,Jw.store,eb.store,tb.store],rb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ib{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class sb{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&cy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new sb((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof sb?t:sb.resolve(t)}catch(t){return sb.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):sb.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):sb.reject(t)}static resolve(e){return new sb((t,n)=>{t(e)})}static reject(e){return new sb((t,n)=>{n(e)})}static waitFor(e){return new sb((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=sb.resolve(!1);for(const n of e)t=t.next(e=>e?sb.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class ob{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new fy,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new lb(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=pb(t.target.error);this.It.reject(new lb(e,n))}}static open(e,t,n,r){try{return new ob(t,e.transaction(r,n))}catch(i){throw new lb(t,i)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(iy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new hb(t)}}class ab{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===ab.bt((0,Yh.z$)())&&sy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return iy("SimpleDb","Removing database:",e),db(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Yh.hl)())return!1;if(ab.vt())return!0;const e=(0,Yh.z$)(),t=ab.bt(e),n=0<t&&t<10,r=ab.Vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Ct(e){var t=this;return(0,Kh.Z)(function*(){return t.db||(iy("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new lb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new dy(hy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new dy(hy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new lb(e,n))},i.onupgradeneeded=e=>{iy("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.Rt.Nt(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{iy("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=e=>t.kt(e)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,Kh.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Ct(e);const t=ob.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),sb.reject(e))).toPromise();return o.catch(()=>{}),yield t.At,o}catch(a){const e="FirebaseError"!==a.name&&o<3;if(iy("SimpleDb","Transaction failed with error:",a.message,"Retrying:",e),i.close(),!e)return Promise.reject(a)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cb{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return db(this.$t.delete())}}class lb extends dy{constructor(e,t){super(hy.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ub(e){return"IndexedDbTransactionError"===e.name}class hb{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(iy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(iy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),db(n)}add(e){return iy("SimpleDb","ADD",this.store.name,e,e),db(this.store.add(e))}get(e){return db(this.store.get(e)).next(t=>(void 0===t&&(t=null),iy("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return iy("SimpleDb","DELETE",this.store.name,e),db(this.store.delete(e))}count(){return iy("SimpleDb","COUNT",this.store.name),db(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(e,t)=>{r.push(t)}).next(()=>r)}qt(e,t){iy("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const r=this.cursor(n);return this.Ut(r,(e,t,n)=>n.delete())}jt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new sb((n,r)=>{t.onerror=e=>{const t=pb(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Ut(e,t){const n=[];return new sb((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new cb(i),o=t(i.primaryKey,i.value,s);if(o instanceof sb){const e=o.catch(e=>(s.done(),sb.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>sb.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function db(e){return new sb((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=pb(e.target.error);n(t)}})}let fb=!1;function pb(e){const t=ab.bt((0,Yh.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new dy("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fb||(fb=!0,setTimeout(()=>{throw e},0)),e}}return e}class gb extends ib{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function mb(e,t){const n=uy(e);return ab.Dt(n.Wt,t)}class yb{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&m_(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&y_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&y_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(xy.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),H_())}isEqual(e){return this.batchId===e.batchId&&Iy(this.mutations,e.mutations,(e,t)=>__(e,t))&&Iy(this.baseMutations,e.baseMutations,(e,t)=>__(e,t))}}class vb{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ly(e.mutations.length===n.length);let r=z_();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new vb(e,t,n,r)}}class _b{constructor(e,t,n,r,i=xy.min(),s=xy.min(),o=Uy.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new _b(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _b(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _b(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class wb{constructor(e){this.Gt=e}}function bb(e,t){if(t.document)return _w(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Wy.fromSegments(t.noDocument.path),n=Ib(t.noDocument.readTime),r=dv.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Wy.fromSegments(t.unknownDocument.path),n=Ib(t.unknownDocument.version);return dv.newUnknownDocument(e,n)}return cy()}function Tb(e,t,n){const r=Sb(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n={name:dw(s=e.Gt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:ow(s,o.version.toTimestamp())};return new Gw(null,null,n,t.hasCommittedMutations,r,i)}var s,o;if(t.isNoDocument()){const e=t.key.path.toArray(),n=Cb(t.version),s=t.hasCommittedMutations;return new Gw(null,new Hw(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Cb(t.version);return new Gw(new $w(e,n),null,null,!0,r,i)}return cy()}function Sb(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Eb(e){const t=new Ay(e[0],e[1]);return xy.fromTimestamp(t)}function Cb(e){const t=e.toTimestamp();return new Vw(t.seconds,t.nanoseconds)}function Ib(e){const t=new Ay(e.seconds,e.nanoseconds);return xy.fromTimestamp(t)}function kb(e,t){const n=(t.baseMutations||[]).map(t=>bw(e.Gt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>bw(e.Gt,t)),i=Ay.fromMillis(t.localWriteTimeMs);return new yb(t.batchId,i,n,r)}function Ab(e){const t=Ib(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ib(e.lastLimboFreeSnapshotVersion):xy.min();let r;var i;return void 0!==e.query.documents?(ly(1===(i=e.query).documents.length),r=Bv(Lv(gw(i.documents[0])))):r=Bv(Ew(e.query)),new _b(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Uy.fromBase64String(e.resumeToken))}function xb(e,t){const n=Cb(t.snapshotVersion),r=Cb(t.lastLimboFreeSnapshotVersion);let i;i=yv(t.target)?Tw(e.Gt,t.target):Sw(e.Gt,t.target);const s=t.resumeToken.toBase64();return new Ww(t.targetId,gv(t.target),n,s,t.sequenceNumber,r,i)}function Ob(e){const t=Ew({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zv(t,t.limit,"L"):t}class Pb{getBundleMetadata(e,t){return Rb(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Ib(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Rb(e).put({bundleId:(n=t).id,createTime:Cb(lw(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Nb(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Ob(t.bundledQuery),readTime:Ib(t.readTime)};var t})}saveNamedQuery(e,t){return Nb(e).put({name:(n=t).name,readTime:Cb(lw(n.readTime)),bundledQuery:n.bundledQuery});var n}}function Rb(e){return mb(e,eb.store)}function Nb(e){return mb(e,tb.store)}class Db{constructor(){this.zt=new Lb}addToCollectionParentIndex(e,t){return this.zt.add(t),sb.resolve()}getCollectionParents(e,t){return sb.resolve(this.zt.getEntries(t))}}class Lb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new F_(Dy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new F_(Dy.comparator)).toArray()}}class Fb{constructor(){this.Ht=new Lb}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const i={collectionId:n,parent:Fw(r)};return Mb(e).put(i)}return sb.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ky(t),""],!1,!0);return Mb(e).Bt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(jw(r.parent))}return n})}}function Mb(e){return mb(e,Jw.store)}const Ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jb{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new jb(e,jb.DEFAULT_COLLECTION_PERCENTILE,jb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Vb(e,t,n){const r=e.store(zw.store),i=e.store(Zw.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.jt({range:o},(e,t,n)=>(a++,n.delete()));s.push(c.next(()=>{ly(1===a)}));const l=[];for(const u of n.mutations){const e=Zw.key(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return sb.waitFor(s).next(()=>l)}function qb(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cy();t=e.noDocument}return JSON.stringify(t).length}jb.DEFAULT_COLLECTION_PERCENTILE=10,jb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jb.DEFAULT=new jb(41943040,jb.DEFAULT_COLLECTION_PERCENTILE,jb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jb.DISABLED=new jb(-1,0,0);class Bb{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){ly(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Bb(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zb(e).jt({index:zw.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Hb(e),s=Zb(e);return s.add({}).next(o=>{ly("number"==typeof o);const a=new yb(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>ww(e.Gt,t)),i=n.mutations.map(t=>ww(e.Gt,t));return new zw(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.k,this.userId,a),l=[];let u=new F_((e,t)=>Cy(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Zw.key(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,Zw.PLACEHOLDER))}return u.forEach(t=>{l.push(this.Jt.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Yt[o]=a.keys()}),sb.waitFor(l).next(()=>a)})}lookupMutationBatch(e,t){return Zb(e).get(t).next(e=>e?(ly(e.userId===this.userId),kb(this.k,e)):null)}Zt(e,t){return this.Yt[t]?sb.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Zb(e).jt({index:zw.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(ly(t.batchId>=n),i=kb(this.k,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Zb(e).jt({index:zw.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zb(e).Bt(zw.userMutationsIndex,t).next(e=>e.map(e=>kb(this.k,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Zw.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Hb(e).jt({range:r},(n,r,s)=>{const[o,a,c]=n,l=jw(a);if(o===this.userId&&t.path.isEqual(l))return Zb(e).get(c).next(e=>{if(!e)throw cy();ly(e.userId===this.userId),i.push(kb(this.k,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new F_(Cy);const r=[];return t.forEach(t=>{const i=Zw.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Hb(e).jt({range:s},(e,r,i)=>{const[s,o,a]=e,c=jw(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()});r.push(o)}),sb.waitFor(r).next(()=>this.te(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Zw.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new F_(Cy);return Hb(e).jt({range:s},(e,t,i)=>{const[s,a,c]=e,l=jw(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()}).next(()=>this.te(e,o))}te(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Zb(e).get(t).next(e=>{if(null===e)throw cy();ly(e.userId===this.userId),n.push(kb(this.k,e))}))}),sb.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Vb(e.Wt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),sb.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return sb.resolve();const n=IDBKeyRange.lowerBound(Zw.prefixForUser(this.userId)),r=[];return Hb(e).jt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=jw(e[1]);r.push(t)}else n.done()}).next(()=>{ly(0===r.length)})})}containsKey(e,t){return zb(e,this.userId,t)}ne(e){return $b(e).get(this.userId).next(e=>e||new Bw(this.userId,-1,""))}}function zb(e,t,n){const r=Zw.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Hb(e).jt({range:s,Kt:!0},(e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function Zb(e){return mb(e,zw.store)}function Hb(e){return mb(e,Zw.store)}function $b(e){return mb(e,Bw.store)}class Gb{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Gb(0)}static re(){return new Gb(-1)}}class Kb{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const n=new Gb(t.highestTargetId);return t.highestTargetId=n.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(e=>xy.fromTimestamp(new Ay(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.oe(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ce(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(n=>(n.targetCount+=1,this.ue(t,n),this.ce(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wb(e).delete(t.targetId)).next(()=>this.oe(e)).next(t=>(ly(t.targetCount>0),t.targetCount-=1,this.ce(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Wb(e).jt((s,o)=>{const a=Ab(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>sb.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Wb(e).jt((e,n)=>{const r=Ab(n);t(r)})}oe(e){return Qb(e).get(Yw.key).next(e=>(ly(null!==e),e))}ce(e,t){return Qb(e).put(Yw.key,t)}ae(e,t){return Wb(e).put(xb(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next(e=>e.targetCount)}getTargetData(e,t){const n=gv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Wb(e).jt({range:r,index:Ww.queryTargetsIndexName},(e,n,r)=>{const s=Ab(n);mv(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=Yb(e);return t.forEach(t=>{const s=Fw(t.path);r.push(i.put(new Qw(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),sb.waitFor(r)}removeMatchingKeys(e,t,n){const r=Yb(e);return sb.forEach(t,t=>{const i=Fw(t.path);return sb.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Yb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Yb(e);let i=H_();return r.jt({range:n,Kt:!0},(e,t,n)=>{const r=jw(e[1]),s=new Wy(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Fw(t.path),r=IDBKeyRange.bound([n],[ky(n)],!1,!0);let i=0;return Yb(e).jt({index:Qw.documentTargetsIndex,Kt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Et(e,t){return Wb(e).get(t).next(e=>e?Ab(e):null)}}function Wb(e){return mb(e,Ww.store)}function Qb(e){return mb(e,Yw.store)}function Yb(e){return mb(e,Qw.store)}function Jb(e){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,Kh.Z)(function*(e){if(e.code!==hy.FAILED_PRECONDITION||e.message!==rb)throw e;iy("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function eT([e,t],[n,r]){const i=Cy(e,n);return 0===i?Cy(t,r):i}class tT{constructor(e){this.he=e,this.buffer=new F_(eT),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();eT(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nT{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const n=this.we?3e5:6e4;iy("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Kh.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(n){ub(n)?iy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Jb(n)}yield t.me(e)}))}}class rT{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return sb.resolve(Ty.I);const n=new tT(t);return this.ge.forEachTarget(e,e=>n.de(e.sequenceNumber)).next(()=>this.ge.pe(e,e=>n.de(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(iy("LruGarbageCollector","Garbage collection skipped; disabled"),sb.resolve(Ub)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(iy("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ub):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,r,i,s,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(iy("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),ry()<=Jh.in.DEBUG&&iy("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${r} in `+(o-s)+`ms\n\tRemoved ${i} targets in `+(a-o)+`ms\n\tRemoved ${e} documents in `+(c-a)+`ms\nTotal Duration: ${c-l}ms`),sb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class iT{constructor(e,t){this.db=e,this.garbageCollector=new rT(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.pe(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(e,n)=>t(n))}addReference(e,t,n){return sT(e,n)}removeReference(e,t,n){return sT(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return sT(e,t)}Ae(e,t){return function(e,t){let n=!1;return $b(e).Qt(r=>zb(e,r,t).next(e=>(e&&(n=!0),sb.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ie(e,(s,o)=>{if(o<=t){const t=this.Ae(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),Yb(e).delete([0,Fw(s.path)])))});r.push(t)}}).next(()=>sb.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return sT(e,t)}Ie(e,t){const n=Yb(e);let r,i=Ty.I;return n.jt({index:Qw.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Ty.I&&t(new Wy(jw(r)),i),i=o,r=s):i=Ty.I}).next(()=>{i!==Ty.I&&t(new Wy(jw(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sT(e,t){return Yb(e).put((n=e.currentSequenceNumber,new Qw(0,Fw(t.path),n)));var n}class oT{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Py(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Ry(this.inner)}}class aT{constructor(){this.changes=new oT(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:xy.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:dv.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?sb.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cT{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return hT(e).put(dT(t),n)}removeEntry(e,t){const n=hT(e),r=dT(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Re(e,n)))}getEntry(e,t){return hT(e).get(dT(t)).next(e=>this.be(t,e))}Pe(e,t){return hT(e).get(dT(t)).next(e=>({document:this.be(t,e),size:qb(e)}))}getEntries(e,t){let n=j_();return this.ve(e,t,(e,t)=>{const r=this.be(e,t);n=n.insert(e,r)}).next(()=>n)}Ve(e,t){let n=j_(),r=new N_(Wy.comparator);return this.ve(e,t,(e,t)=>{const i=this.be(e,t);n=n.insert(e,i),r=r.insert(e,qb(t))}).next(()=>({documents:n,Se:r}))}ve(e,t,n){if(t.isEmpty())return sb.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return hT(e).jt({range:r},(e,t,r)=>{const o=Wy.fromSegments(e);for(;s&&Wy.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Lt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=j_();const i=t.path.length+1,s={};if(n.isEqual(xy.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Sb(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Gw.collectionReadTimeIndex}return hT(e).jt(s,(e,n,s)=>{if(e.length!==i)return;const o=bb(this.k,n);t.path.isPrefixOf(o.key.path)?Gv(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new lT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return uT(e).get(Kw.key).next(e=>(ly(!!e),e))}Re(e,t){return uT(e).put(Kw.key,t)}be(e,t){if(t){const e=bb(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(xy.min()))return e}return dv.newInvalidDocument(e)}}class lT extends aT{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new oT(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new F_((e,t)=>Cy(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.Ce.get(i);if(s.document.isValidDocument()){const a=Tb(this.De.k,s.document,this.getReadTime(i));r=r.add(i.path.popLast()),n+=qb(a)-o,t.push(this.De.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Tb(this.De.k,dv.newNoDocument(i,xy.min()),this.getReadTime(i));t.push(this.De.addEntry(e,i,n))}else t.push(this.De.removeEntry(e,i))}),r.forEach(n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))}),t.push(this.De.updateMetadata(e,n)),sb.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(e=>(this.Ce.set(t,e.size),e.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:e,Se:t})=>(t.forEach((e,t)=>{this.Ce.set(e,t)}),e))}}function uT(e){return mb(e,Kw.store)}function hT(e){return mb(e,Gw.store)}function dT(e){return e.path.toArray()}class fT{constructor(e){this.k=e}Nt(e,t,n,r){ly(n<r&&n>=0&&r<=11);const i=new ob("createOrUpgrade",t);var s;n<1&&r>=1&&(e.createObjectStore(qw.store),(s=e).createObjectStore(Bw.store,{keyPath:Bw.keyPath}),s.createObjectStore(zw.store,{keyPath:zw.keyPath,autoIncrement:!0}).createIndex(zw.userMutationsIndex,zw.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Zw.store),pT(e),function(e){e.createObjectStore(Gw.store)}(e));let o=sb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Qw.store),e.deleteObjectStore(Ww.store),e.deleteObjectStore(Yw.store)}(e),pT(e)),o=o.next(()=>function(e){const t=e.store(Yw.store),n=new Yw(0,0,xy.min().toTimestamp(),0);return t.put(Yw.key,n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store(zw.store).Bt().next(n=>{e.deleteObjectStore(zw.store),e.createObjectStore(zw.store,{keyPath:zw.keyPath,autoIncrement:!0}).createIndex(zw.userMutationsIndex,zw.userMutationsKeyPath,{unique:!0});const r=t.store(zw.store),i=n.map(e=>r.put(e));return sb.waitFor(i)})}(e,i))),o=o.next(()=>{!function(e){e.createObjectStore(Xw.store,{keyPath:Xw.keyPath})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.Ne(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore(Kw.store)}(e),this.ke(i)))),n<7&&r>=7&&(o=o.next(()=>this.xe(i))),n<8&&r>=8&&(o=o.next(()=>this.$e(e,i))),n<9&&r>=9&&(o=o.next(()=>{(function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})(e),function(e){const t=e.objectStore(Gw.store);t.createIndex(Gw.readTimeIndex,Gw.readTimeIndexPath,{unique:!1}),t.createIndex(Gw.collectionReadTimeIndex,Gw.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(o=o.next(()=>this.Oe(i))),n<11&&r>=11&&(o=o.next(()=>{(function(e){e.createObjectStore(eb.store,{keyPath:eb.keyPath})})(e),function(e){e.createObjectStore(tb.store,{keyPath:tb.keyPath})}(e)})),o}ke(e){let t=0;return e.store(Gw.store).jt((e,n)=>{t+=qb(n)}).next(()=>{const n=new Kw(t);return e.store(Kw.store).put(Kw.key,n)})}Ne(e){const t=e.store(Bw.store),n=e.store(zw.store);return t.Bt().next(t=>sb.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(zw.userMutationsIndex,r).next(n=>sb.forEach(n,n=>{ly(n.userId===t.userId);const r=kb(this.k,n);return Vb(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Qw.store),n=e.store(Gw.store);return e.store(Yw.store).get(Yw.key).next(e=>{const r=[];return n.jt((n,i)=>{const s=new Dy(n),o=[0,Fw(s)];r.push(t.get(o).next(n=>n?sb.resolve():t.put(new Qw(0,Fw(s),e.highestListenSequenceNumber))))}).next(()=>sb.waitFor(r))})}$e(e,t){e.createObjectStore(Jw.store,{keyPath:Jw.keyPath});const n=t.store(Jw.store),r=new Lb,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Fw(r)})}};return t.store(Gw.store).jt({Kt:!0},(e,t)=>{const n=new Dy(e);return i(n.popLast())}).next(()=>t.store(Zw.store).jt({Kt:!0},([e,t,n],r)=>{const s=jw(t);return i(s.popLast())}))}Oe(e){const t=e.store(Ww.store);return t.jt((e,n)=>{const r=Ab(n),i=xb(this.k,r);return t.put(i)})}}function pT(e){e.createObjectStore(Qw.store,{keyPath:Qw.keyPath}).createIndex(Qw.documentTargetsIndex,Qw.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ww.store,{keyPath:Ww.keyPath}).createIndex(Ww.queryTargetsIndexName,Ww.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Yw.store)}const gT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mT{constructor(e,t,n,r,i,s,o,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Me=i,this.window=s,this.document=o,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!mT.Pt())throw new dy(hy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iT(this,r),this.Ge=t+"main",this.k=new wb(a),this.ze=new ab(this.Ge,11,new fT(this.k)),this.He=new Kb(this.referenceDelegate,this.k),this.Jt=new Fb,this.Je=new cT(this.k,this.Jt),this.Ye=new Pb,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&sy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dy(hy.FAILED_PRECONDITION,gT);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Ty(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var n=(0,Kh.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,Kh.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,Kh.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vT(e).put(new Xw(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(e=>{e||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(ub(e))return iy("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return iy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return yT(e).get(qw.key).next(e=>sb.resolve(this.un(e)))}hn(e){return vT(e).delete(this.clientId)}ln(){var e=this;return(0,Kh.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=mb(t,Xw.store);return n.Bt().next(t=>{const r=e.dn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return sb.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Xe)for(const n of t)e.Xe.removeItem(e.wn(n.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?sb.resolve(!0):yT(e).get(qw.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new dy(hy.FAILED_PRECONDITION,gT);return!1}}return!(!this.networkEnabled||!this.inForeground)||vT(e).Bt().next(e=>void 0===this.dn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&iy("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,Kh.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[qw.store,Xw.store],t=>{const n=new gb(t,Ty.I);return e.cn(n).next(()=>e.hn(n))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>vT(e).Bt().next(e=>this.dn(e,18e5).map(e=>e.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Bb.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){let r;return iy("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",nb,i=>(r=new gb(i,this.Be?this.Be.next():Ty.I),"readwrite-primary"===t?this.rn(r).next(e=>!!e||this.on(r)).next(t=>{if(!t)throw sy(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new dy(hy.FAILED_PRECONDITION,rb);return n(r)}).next(e=>this.an(r).next(()=>e)):this.En(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}En(e){return yT(e).get(qw.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new dy(hy.FAILED_PRECONDITION,gT)})}an(e){const t=new qw(this.clientId,this.allowTabSynchronization,Date.now());return yT(e).put(qw.key,t)}static Pt(){return ab.Pt()}cn(e){const t=yT(e);return t.get(qw.key).next(e=>this.un(e)?(iy("IndexedDbPersistence","Releasing primary lease."),t.delete(qw.key)):sb.resolve())}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(sy(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Yh.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return iy("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return sy("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){sy("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yT(e){return mb(e,qw.store)}function vT(e){return mb(e,Xw.store)}function _T(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class wT{constructor(e,t){this.progress=e,this.In=t}}class bT{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.bn(e,t,n))}bn(e,t,n){return this.Je.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}Pn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}vn(e,t){return this.Je.getEntries(e,t).next(t=>this.Vn(e,t).next(()=>t))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.Pn(t,e))}getDocumentsMatchingQuery(e,t,n){return Wy.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(e,t.path):Vv(t)?this.Dn(e,t,n):this.Cn(e,t,n);var r}Sn(e,t){return this.Rn(e,new Wy(t)).next(e=>{let t=q_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Dn(e,t,n){const r=t.collectionGroup;let i=q_();return this.Jt.getCollectionParents(e,r).next(s=>sb.forEach(s,s=>{const o=(a=t,c=s.child(r),new Nv(c,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));var a,c;return this.Cn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Nn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=dv.newInvalidDocument(n),r=r.insert(n,i)),y_(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{Gv(t,n)||(r=r.remove(e))}),r))}Nn(e,t,n){let r=H_();for(const s of t)for(const e of s.mutations)e instanceof T_&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.Je.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class TT{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=H_(),r=H_();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new TT(e,t.fromCache,n,r)}}class ST{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,n,r){return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(xy.min())?this.Fn(e,t):this.Mn.vn(e,r).next(i=>{const s=this.Ln(t,i);return(Fv(t)||Mv(t))&&this.Bn(t.limitType,s,r,n)?this.Fn(e,t):(ry()<=Jh.in.DEBUG&&iy("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),$v(t)),this.Mn.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))});var i}Ln(e,t){let n=new F_(Kv(e));return t.forEach((t,r)=>{Gv(e,r)&&(n=n.add(r))}),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return ry()<=Jh.in.DEBUG&&iy("QueryEngine","Using full collection scan to execute query:",$v(t)),this.Mn.getDocumentsMatchingQuery(e,t,xy.min())}}class ET{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new N_(Cy),this.Kn=new oT(e=>gv(e),mv),this.jn=xy.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new bT(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function CT(e,t,n,r){return new ET(e,t,n,r)}function IT(e,t){return kT.apply(this,arguments)}function kT(){return(kT=(0,Kh.Z)(function*(e,t){const n=uy(e);let r=n.An,i=n.Wn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.An.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new bT(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=H_();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.vn(e,o).next(e=>({Gn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.An=r,n.Wn=i,n.Un.On(n.Wn),s})).apply(this,arguments)}function AT(e,t){const n=uy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=sb.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);ly(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.An.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.An.performConsistencyCheck(e)).next(()=>n.Wn.vn(e,r))})}function xT(e){const t=uy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function OT(e,t){const n=uy(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const o=[];t.targetChanges.forEach((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.He.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.He.addMatchingKeys(e,s.addedDocuments,a)));let l=c.withSequenceNumber(e.currentSequenceNumber);var u,h,d;t.targetMismatches.has(a)?l=l.withResumeToken(Uy.EMPTY_BYTE_STRING,xy.min()).withLastLimboFreeSnapshotVersion(xy.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),h=l,d=s,(0===(u=c).resumeToken.approximateByteSize()||h.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size>0)&&o.push(n.He.updateTargetData(e,l))});let a=j_();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(PT(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(xy.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next(t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return sb.waitFor(o).next(()=>s.apply(e)).next(()=>n.Wn.Vn(e,a)).next(()=>a)}).then(e=>(n.qn=i,e))}function PT(e,t,n,r,i){let s=H_();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=j_();return n.forEach((n,o)=>{const a=e.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(xy.min())?(t.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,c),s=s.insert(n,o)):iy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function RT(e,t){const n=uy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)))}function NT(e,t){const n=uy(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.He.getTargetData(e,t).next(i=>i?(r=i,sb.resolve(r)):n.He.allocateTargetId(e).next(i=>(r=new _b(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e})}function DT(e,t,n){return LT.apply(this,arguments)}function LT(){return(LT=(0,Kh.Z)(function*(e,t,n){const r=uy(e),i=r.qn.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(o){if(!ub(o))throw o;iy("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)})).apply(this,arguments)}function FT(e,t,n){const r=uy(e);let i=xy.min(),s=H_();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=uy(e),i=r.Kn.get(n);return void 0!==i?sb.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Bv(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:xy.min(),n?s:H_())).next(e=>({documents:e,zn:s})))}function MT(e,t){const n=uy(e),r=uy(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function UT(e){const t=uy(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=uy(e);let i=j_(),s=Sb(n);const o=hT(t),a=IDBKeyRange.lowerBound(s,!0);return o.jt({index:Gw.readTimeIndex,range:a},(e,t)=>{const n=bb(r.k,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({In:i,readTime:Eb(s)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:n})=>(t.jn=n,e))}function jT(){return(jT=(0,Kh.Z)(function*(e){const t=uy(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=hT(e);let n=xy.min();return t.jt({index:Gw.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=Eb(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.jn=e})})).apply(this,arguments)}function VT(){return(VT=(0,Kh.Z)(function*(e,t,n,r){const i=uy(e);let s=H_(),o=j_(),a=z_();for(const h of n){const e=t.Hn(h.metadata.name);h.document&&(s=s.add(e)),o=o.insert(e,t.Jn(h)),a=a.insert(e,t.Yn(h.metadata.readTime))}const c=i.Qn.newChangeBuffer({trackRemovals:!0}),l=yield NT(i,(u=r,Bv(Lv(Dy.fromString(`__bundle__/docs/${u}`)))));var u;return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>PT(e,c,o,xy.min(),a).next(t=>(c.apply(e),t)).next(t=>i.He.removeMatchingKeysForTargetId(e,l.targetId).next(()=>i.He.addMatchingKeys(e,s,l.targetId)).next(()=>i.Wn.Vn(e,t)).next(()=>t)))})).apply(this,arguments)}function qT(e,t){return BT.apply(this,arguments)}function BT(){return(BT=(0,Kh.Z)(function*(e,t,n=H_()){const r=yield NT(e,Bv(Ob(t.bundledQuery))),i=uy(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=lw(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ye.saveNamedQuery(e,t);const o=r.withResumeToken(Uy.EMPTY_BYTE_STRING,s);return i.qn=i.qn.insert(o.targetId,o),i.He.updateTargetData(e,o).next(()=>i.He.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.He.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ye.saveNamedQuery(e,t))})})).apply(this,arguments)}class zT{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return sb.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:lw(n.createTime)}),sb.resolve()}getNamedQuery(e,t){return sb.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(n=t).name,query:Ob(n.bundledQuery),readTime:lw(n.readTime)}),sb.resolve();var n}}class ZT{constructor(){this.ts=new F_(HT.es),this.ns=new F_(HT.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new HT(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.os(new HT(e,t))}cs(e,t){e.forEach(e=>this.removeReference(e,t))}us(e){const t=new Wy(new Dy([])),n=new HT(t,e),r=new HT(t,e+1),i=[];return this.ns.forEachInRange([n,r],e=>{this.os(e),i.push(e.key)}),i}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Wy(new Dy([])),n=new HT(t,e),r=new HT(t,e+1);let i=H_();return this.ns.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new HT(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class HT{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Wy.comparator(e.key,t.key)||Cy(e.fs,t.fs)}static ss(e,t){return Cy(e.fs,t.fs)||Wy.comparator(e.key,t.key)}}class $T{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new F_(HT.es)}checkEmpty(e){return sb.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++;const s=new yb(i,t,n,r);this.An.push(s);for(const o of r)this.ws=this.ws.add(new HT(o.key,i)),this.Jt.addToCollectionParentIndex(e,o.key.path.popLast());return sb.resolve(s)}lookupMutationBatch(e,t){return sb.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=this.gs(t+1),r=n<0?0:n;return sb.resolve(this.An.length>r?this.An[r]:null)}getHighestUnacknowledgedBatchId(){return sb.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return sb.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new HT(t,0),r=new HT(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],e=>{const t=this._s(e.fs);i.push(t)}),sb.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new F_(Cy);return t.forEach(e=>{const t=new HT(e,0),r=new HT(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],e=>{n=n.add(e.fs)})}),sb.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Wy.isDocumentKey(i)||(i=i.child(""));const s=new HT(new Wy(i),0);let o=new F_(Cy);return this.ws.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)},s),sb.resolve(this.ys(o))}ys(e){const t=[];return e.forEach(e=>{const n=this._s(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ly(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return sb.forEach(t.mutations,r=>{const i=new HT(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ws=n})}ee(e){}containsKey(e,t){const n=new HT(t,0),r=this.ws.firstAfterOrEqual(n);return sb.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return sb.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class GT{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new N_(Wy.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-s,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return sb.resolve(n?n.document.mutableCopy():dv.newInvalidDocument(t))}getEntries(e,t){let n=j_();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():dv.newInvalidDocument(e))}),sb.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=j_();const i=new Wy(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Gv(t,i)&&(r=r.insert(i.key,i.mutableCopy()))}return sb.resolve(r)}Es(e,t){return sb.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new KT(this)}getSize(e){return sb.resolve(this.size)}}class KT extends aT{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)}),sb.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class WT{constructor(e){this.persistence=e,this.Is=new oT(e=>gv(e),mv),this.lastRemoteSnapshotVersion=xy.min(),this.highestTargetId=0,this.As=0,this.Rs=new ZT,this.targetCount=0,this.bs=Gb.ie()}forEachTarget(e,t){return this.Is.forEach((e,n)=>t(n)),sb.resolve()}getLastRemoteSnapshotVersion(e){return sb.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return sb.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),sb.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),sb.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Gb(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,sb.resolve()}updateTargetData(e,t){return this.ae(t),sb.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,sb.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Is.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),sb.waitFor(i).next(()=>r)}getTargetCount(e){return sb.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return sb.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),sb.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),sb.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),sb.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return sb.resolve(n)}containsKey(e,t){return sb.resolve(this.Rs.containsKey(t))}}class QT{constructor(e,t){this.Ps={},this.Be=new Ty(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new WT(this),this.Jt=new Db,this.Je=new GT(this.Jt,e=>this.referenceDelegate.vs(e)),this.k=new wb(t),this.Ye=new zT(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new $T(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){iy("MemoryPersistence","Starting transaction:",e);const r=new YT(this.Be.next());return this.referenceDelegate.Vs(),n(r).next(e=>this.referenceDelegate.Ss(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ds(e,t){return sb.or(Object.values(this.Ps).map(n=>()=>n.containsKey(e,t)))}}class YT extends ib{constructor(e){super(),this.currentSequenceNumber=e}}class JT{constructor(e){this.persistence=e,this.Cs=new ZT,this.Ns=null}static ks(e){return new JT(e)}get xs(){if(this.Ns)return this.Ns;throw cy()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),sb.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),sb.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),sb.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sb.forEach(this.xs,n=>{const r=Wy.fromPath(n);return this.$s(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return sb.or([()=>sb.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function XT(e,t){return`firestore_clients_${e}_${t}`}function eS(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function tS(e,t){return`firestore_targets_${e}_${t}`}class nS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Os(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new dy(r.error.code,r.error.message))),s?new nS(e,t,r.state,i):(sy("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Os(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new dy(n.error.code,n.error.message))),i?new rS(e,n.state,r):(sy("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=G_();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Ky(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new iS(e,i):(sy("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sS{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sS(t.clientId,t.onlineState):(sy("SharedClientState",`Failed to parse online state: ${e}`),null)}}class oS{constructor(){this.activeTargetIds=G_()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aS{constructor(e,t,n,r,i){this.window=e,this.Me=t,this.persistenceKey=n,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new N_(Cy),this.started=!1,this.js=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=XT(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new oS),this.Gs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Kh.Z)(function*(){const t=yield e.syncEngine.Tn();for(const r of t){if(r===e.Bs)continue;const t=e.getItem(XT(e.persistenceKey,r));if(t){const n=iS.Os(r,t);n&&(e.Ks=e.Ks.insert(n.clientId,n))}}e.Xs();const n=e.storage.getItem(e.Js);if(n){const t=e.Zs(n);t&&e.ti(t)}for(const r of e.js)e.qs(r);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(tS(this.persistenceKey,e));if(n){const r=rS.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tS(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.si(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return iy("SharedClientState","READ",e,t),t}setItem(e,t){iy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){iy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const n=e;if(n.storageArea===this.storage){if(iy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void sy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,Kh.Z)(function*(){if(t.started){if(null!==n.key)if(t.Gs.test(n.key)){if(null==n.newValue){const e=t.ai(n.key);return t.ui(e,null)}{const e=t.hi(n.key,n.newValue);if(e)return t.ui(e.clientId,e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.li(n.key,n.newValue);if(e)return t.fi(e)}}else if(t.Hs.test(n.key)){if(null!==n.newValue){const e=t.di(n.key,n.newValue);if(e)return t.wi(e)}}else if(n.key===t.Js){if(null!==n.newValue){const e=t.Zs(n.newValue);if(e)return t.ti(e)}}else if(n.key===t.Ws){const e=function(e){let t=Ty.I;if(null!=e)try{const n=JSON.parse(e);ly("number"==typeof n),t=n}catch(n){sy("SharedClientState","Failed to read sequence number from WebStorage",n)}return t}(n.newValue);e!==Ty.I&&t.sequenceNumberHandler(e)}else if(n.key===t.Ys)return t.syncEngine._i()}else t.js.push(n)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,n){const r=new nS(this.currentUser,e,t,n),i=eS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}si(e){const t=eS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,n){const r=tS(this.persistenceKey,e),i=new rS(e,t,n);this.setItem(r,i.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ai(e);return iS.Os(n,t)}li(e,t){const n=this.zs.exec(e),r=Number(n[1]);return nS.Os(new ey(void 0!==n[2]?n[2]:null),r,t)}di(e,t){const n=this.Hs.exec(e),r=Number(n[1]);return rS.Os(r,t)}Zs(e){return sS.Os(e)}fi(e){var t=this;return(0,Kh.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);iy("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),i=this.ei(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.yi(s,o).then(()=>{this.Ks=n})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=G_();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class cS{constructor(){this.pi=new oS,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new oS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class lS{Ei(e){}shutdown(){}}class uS{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){iy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){iy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class dS{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class fS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const s=this.Ui(e,t);iy("RestConnection","Sending: ",s,n);const o={};return this.qi(o,r,i),this.Ki(e,s,o,n).then(e=>(iy("RestConnection","Received: ",e),e),t=>{throw oy("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t})}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ty,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Ui(e,t){return`${this.Fi}/v1/${t}:${hS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise((i,s)=>{const o=new Jm;o.listenOnce(Gm.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case $m.NO_ERROR:const t=o.getResponseJson();iy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case $m.TIMEOUT:iy("Connection",'RPC "'+e+'" timed out'),s(new dy(hy.DEADLINE_EXCEEDED,"Request time out"));break;case $m.HTTP_ERROR:const n=o.getStatus();if(iy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(hy).indexOf(t)>=0?t:hy.UNKNOWN}(e.status);s(new dy(t,e.message))}else s(new dy(hy.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new dy(hy.UNAVAILABLE,"Connection failed."));break;default:cy()}}finally{iy("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}Qi(e,t,n){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Zm(),s=Hm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Qm({})),this.qi(o.initMessageHeaders,t,n),(0,Yh.uI)()||(0,Yh.b$)()||(0,Yh.d)()||(0,Yh.w1)()||(0,Yh.Mn)()||(0,Yh.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");iy("Connection","Creating WebChannel: "+a,o);const c=i.createWebChannel(a,o);let l=!1,u=!1;const h=new dS({Vi:e=>{u?iy("Connection","Not sending because WebChannel is closed:",e):(l||(iy("Connection","Opening WebChannel transport."),c.open(),l=!0),iy("Connection","WebChannel sending:",e),c.send(e))},Si:()=>c.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return d(c,Ym.EventType.OPEN,()=>{u||iy("Connection","WebChannel transport opened.")}),d(c,Ym.EventType.CLOSE,()=>{u||(u=!0,iy("Connection","WebChannel transport closed"),h.Oi())}),d(c,Ym.EventType.ERROR,e=>{u||(u=!0,oy("Connection","WebChannel transport errored:",e),h.Oi(new dy(hy.UNAVAILABLE,"The operation could not be completed")))}),d(c,Ym.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];ly(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){iy("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=x_[e];if(void 0!==t)return R_(t)}(e),n=i.message;void 0===t&&(t=hy.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,h.Oi(new dy(t,n)),c.close()}else iy("Connection","WebChannel received:",n),h.Mi(n)}}),d(s,Km.STAT_EVENT,e=>{e.stat===Wm.PROXY?iy("Connection","Detected buffering proxy"):e.stat===Wm.NOPROXY&&iy("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function pS(){return"undefined"!=typeof window?window:null}function gS(){return"undefined"!=typeof document?document:null}function mS(e){return new sw(e,!0)}class yS{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Me=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&iy("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class vS{constructor(e,t,n,r,i,s,o,a){this.Me=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new yS(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,Kh.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,Kh.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var n=this;return(0,Kh.Z)(function*(){n.yr(),n.pr(),n.ur.cancel(),n.rr++,4!==e?n.ur.reset():t&&t.code===hy.RESOURCE_EXHAUSTED?(sy(t.toString()),sy("Using maximum backoff delay to prevent overloading the backend."),n.ur.Xi()):t&&t.code===hy.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Tr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.rr===t&&this.Ir(e,n)},t=>{e(()=>{const e=new dy(hy.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)})})}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{n(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(e=>{n(()=>this.Ar(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}dr(){var e=this;this.state=5,this.ur.Zi((0,Kh.Z)(function*(){e.state=0,e.start()}))}Ar(e){return iy("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(iy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _S extends vS{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:cy(),s=t.targetChange.targetIds||[],o=function(e,t){return e.C?(ly(void 0===t||"string"==typeof t),Uy.fromBase64String(t||"")):(ly(void 0===t||t instanceof Uint8Array),Uy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(e){const t=void 0===e.code?hy.UNKNOWN:R_(e.code);return new dy(t,e.message||"")}(a);n=new J_(i,s,o,c||null)}else if("documentChange"in t){const r=t.documentChange,i=fw(e,r.document.name),s=lw(r.document.updateTime),o=new uv({mapValue:{fields:r.document.fields}}),a=dv.newFoundDocument(i,s,o);n=new Q_(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=fw(e,r.document),s=r.readTime?lw(r.readTime):xy.min(),o=dv.newNoDocument(i,s);n=new Q_([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=fw(e,r.document);n=new Q_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return cy();{const e=t.filter,r=new A_(e.count||0);n=new Y_(e.targetId,r)}}var r;return n}(this.k,e),n=function(e){if(!("targetChange"in e))return xy.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?xy.min():t.readTime?lw(t.readTime):xy.min()}(e);return this.listener.br(t,n)}Pr(e){const t={};t.database=mw(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=yv(r)?{documents:Tw(e,r)}:{query:Sw(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=aw(e,t.resumeToken):t.snapshotVersion.compareTo(xy.min())>0&&(n.readTime=ow(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=mw(this.k),t.removeTarget=e,this.gr(t)}}class wS extends vS{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(ly(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(ly(void 0!==t),e.map(e=>function(e,t){let n=lw(e.updateTime?e.updateTime:t);return n.isEqual(xy.min())&&(n=lw(t)),new d_(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=lw(e.commitTime);return this.listener.Cr(n,t)}return ly(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=mw(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ww(this.k,e))};this.gr(t)}}class bS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Or(){if(this.$r)throw new dy(hy.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.ir.Bi(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===hy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new dy(hy.UNKNOWN,e.toString())})}ji(e,t,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.ir.ji(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===hy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new dy(hy.UNKNOWN,e.toString())})}terminate(){this.$r=!0}}class TS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(sy(t),this.Lr=!1):iy("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class SS{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei(e=>{n.enqueueAndForget((0,Kh.Z)(function*(){var e;DS(s)&&(iy("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,Kh.Z)(function*(e){const t=uy(e);t.Gr.add(4),yield IS(t),t.Jr.set("Unknown"),t.Gr.delete(4),yield ES(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Jr=new TS(n,r)}}function ES(e){return CS.apply(this,arguments)}function CS(){return(CS=(0,Kh.Z)(function*(e){if(DS(e))for(const t of e.zr)yield t(!0)})).apply(this,arguments)}function IS(e){return kS.apply(this,arguments)}function kS(){return(kS=(0,Kh.Z)(function*(e){for(const t of e.zr)yield t(!1)})).apply(this,arguments)}function AS(e,t){const n=uy(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),NS(n)?RS(n):aE(n).lr()&&OS(n,t))}function xS(e,t){const n=uy(e),r=aE(n);n.Wr.delete(t),r.lr()&&PS(n,t),0===n.Wr.size&&(r.lr()?r._r():DS(n)&&n.Jr.set("Unknown"))}function OS(e,t){e.Yr.X(t.targetId),aE(e).Pr(t)}function PS(e,t){e.Yr.X(t),aE(e).vr(t)}function RS(e){e.Yr=new ew({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),aE(e).start(),e.Jr.Br()}function NS(e){return DS(e)&&!aE(e).hr()&&e.Wr.size>0}function DS(e){return 0===uy(e).Gr.size}function LS(e){e.Yr=void 0}function FS(e){return MS.apply(this,arguments)}function MS(){return(MS=(0,Kh.Z)(function*(e){e.Wr.forEach((t,n)=>{OS(e,t)})})).apply(this,arguments)}function US(e,t){return jS.apply(this,arguments)}function jS(){return(jS=(0,Kh.Z)(function*(e,t){LS(e),NS(e)?(e.Jr.Kr(t),RS(e)):e.Jr.set("Unknown")})).apply(this,arguments)}function VS(e,t,n){return qS.apply(this,arguments)}function qS(){return(qS=(0,Kh.Z)(function*(e,t,n){if(e.Jr.set("Online"),t instanceof J_&&2===t.state&&t.cause)try{yield(r=(0,Kh.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(r){iy("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield BS(e,r)}else if(t instanceof Q_?e.Yr.ot(t):t instanceof Y_?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(xy.min()))try{const t=yield xT(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(Uy.EMPTY_BYTE_STRING,n.snapshotVersion)),PS(e,t);const r=new _b(n.target,t,1,n.sequenceNumber);OS(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(r){iy("RemoteStore","Failed to raise snapshot:",r),yield BS(e,r)}var r})).apply(this,arguments)}function BS(e,t,n){return zS.apply(this,arguments)}function zS(){return(zS=(0,Kh.Z)(function*(e,t,n){if(!ub(t))throw t;e.Gr.add(1),yield IS(e),e.Jr.set("Offline"),n||(n=()=>xT(e.localStore)),e.asyncQueue.enqueueRetryable((0,Kh.Z)(function*(){iy("RemoteStore","Retrying IndexedDB access"),yield n(),e.Gr.delete(1),yield ES(e)}))})).apply(this,arguments)}function ZS(e,t){return t().catch(n=>BS(e,n,t))}function HS(e){return $S.apply(this,arguments)}function $S(){return($S=(0,Kh.Z)(function*(e){const t=uy(e),n=cE(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;GS(t);)try{const e=yield RT(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,KS(t,e)}catch(i){yield BS(t,i)}WS(t)&&QS(t)})).apply(this,arguments)}function GS(e){return DS(e)&&e.Qr.length<10}function KS(e,t){e.Qr.push(t);const n=cE(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function WS(e){return DS(e)&&!cE(e).hr()&&e.Qr.length>0}function QS(e){cE(e).start()}function YS(e){return JS.apply(this,arguments)}function JS(){return(JS=(0,Kh.Z)(function*(e){cE(e).kr()})).apply(this,arguments)}function XS(e){return eE.apply(this,arguments)}function eE(){return(eE=(0,Kh.Z)(function*(e){const t=cE(e);for(const n of e.Qr)t.Dr(n.mutations)})).apply(this,arguments)}function tE(e,t,n){return nE.apply(this,arguments)}function nE(){return(nE=(0,Kh.Z)(function*(e,t,n){const r=e.Qr.shift(),i=vb.from(r,t,n);yield ZS(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield HS(e)})).apply(this,arguments)}function rE(e,t){return iE.apply(this,arguments)}function iE(){return(iE=(0,Kh.Z)(function*(e,t){var n;t&&cE(e).Sr&&(yield(n=(0,Kh.Z)(function*(e,t){if(P_(n=t.code)&&n!==hy.ABORTED){const n=e.Qr.shift();cE(e).wr(),yield ZS(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield HS(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),WS(e)&&QS(e)})).apply(this,arguments)}function sE(e,t){return oE.apply(this,arguments)}function oE(){return(oE=(0,Kh.Z)(function*(e,t){const n=uy(e);t?(n.Gr.delete(2),yield ES(n)):t||(n.Gr.add(2),yield IS(n),n.Jr.set("Unknown"))})).apply(this,arguments)}function aE(e){return e.Xr||(e.Xr=function(e,t,n){const r=uy(e);return r.Or(),new _S(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:FS.bind(null,e),Ni:US.bind(null,e),br:VS.bind(null,e)}),e.zr.push(function(){var t=(0,Kh.Z)(function*(t){t?(e.Xr.wr(),NS(e)?RS(e):e.Jr.set("Unknown")):(yield e.Xr.stop(),LS(e))});return function(e){return t.apply(this,arguments)}}())),e.Xr}function cE(e){return e.Zr||(e.Zr=function(e,t,n){const r=uy(e);return r.Or(),new wS(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:YS.bind(null,e),Ni:rE.bind(null,e),Nr:XS.bind(null,e),Cr:tE.bind(null,e)}),e.zr.push(function(){var t=(0,Kh.Z)(function*(t){t?(e.Zr.wr(),yield HS(e)):(yield e.Zr.stop(),e.Qr.length>0&&(iy("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),e.Zr}class lE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new lE(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dy(hy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uE(e,t){if(sy("AsyncQueue",`${t}: ${e}`),ub(e))return new dy(hy.UNAVAILABLE,`${t}: ${e}`);throw e}class hE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Wy.comparator(t.key,n.key):(e,t)=>Wy.comparator(e.key,t.key),this.keyedMap=q_(),this.sortedSet=new N_(this.comparator)}static emptySet(e){return new hE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hE)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new hE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class dE{constructor(){this.eo=new N_(Wy.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):cy():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,n)=>{e.push(n)}),e}}class fE{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new fE(e,t,hE.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class pE{constructor(){this.so=void 0,this.listeners=[]}}class gE{constructor(){this.queries=new oT(e=>Hv(e),Zv),this.onlineState="Unknown",this.io=new Set}}function mE(e,t){return yE.apply(this,arguments)}function yE(){return(yE=(0,Kh.Z)(function*(e,t){const n=uy(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new pE),i)try{s.so=yield n.onListen(r)}catch(o){const e=uE(o,`Initialization of query '${$v(t.query)}' failed`);return void t.onError(e)}n.queries.set(r,s),s.listeners.push(t),t.ro(n.onlineState),s.so&&t.oo(s.so)&&TE(n)})).apply(this,arguments)}function vE(e,t){return _E.apply(this,arguments)}function _E(){return(_E=(0,Kh.Z)(function*(e,t){const n=uy(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function wE(e,t){const n=uy(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.oo(i)&&(r=!0);e.so=i}}r&&TE(n)}function bE(e,t,n){const r=uy(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function TE(e){e.io.forEach(e=>{e.next()})}class SE{constructor(e,t,n){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new fE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=fE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class EE{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class CE{constructor(e){this.k=e}Hn(e){return fw(this.k,e)}Jn(e){return e.metadata.exists?_w(this.k,e.document,!1):dv.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return lw(e)}}class IE{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=kE(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new CE(this.k);for(const r of e)if(r.metadata.queries){const e=n.Hn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||H_()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,Kh.Z)(function*(){const t=yield function(e,t,n,r){return VT.apply(this,arguments)}(e.localStore,new CE(e.k),e.documents,e.mo.id),n=e.po(e.documents);for(const r of e.queries)yield qT(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new wT(Object.assign({},e.progress),t)})()}}function kE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class AE{constructor(e){this.key=e}}class xE{constructor(e){this.key=e}}class OE{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=H_(),this.mutatedKeys=H_(),this.Ao=Kv(e),this.Ro=new hE(this.Ao)}get bo(){return this.To}Po(e,t){const n=t?t.vo:new dE,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Fv(this.query)&&r.size===this.query.limit?r.last():null,c=Mv(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const l=r.get(e),u=Gv(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Vo(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ao(u,a)>0||c&&this.Ao(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),Fv(this.query)||Mv(this.query))for(;s.size>this.query.limit;){const e=Fv(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:s,vo:n,Bn:o,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cy()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc)),this.So(n);const s=t?this.Do():[],o=0===this.Io.size&&this.current?1:0,a=o!==this.Eo;return this.Eo=o,0!==i.length||a?{snapshot:new fE(this.query,e.Ro,r,i,e.mutatedKeys,0===o,a,!1),Co:s}:{Co:s}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new dE,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(e=>this.To=this.To.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=H_(),this.Ro.forEach(e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))});const t=[];return e.forEach(e=>{this.Io.has(e)||t.push(new xE(e))}),this.Io.forEach(n=>{e.has(n)||t.push(new AE(n))}),t}ko(e){this.To=e.zn,this.Io=H_();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return fE.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class PE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class RE{constructor(e){this.key=e,this.$o=!1}}class NE{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Oo={},this.Mo=new oT(e=>Hv(e),Zv),this.Fo=new Map,this.Lo=new Set,this.Bo=new N_(Wy.comparator),this.Uo=new Map,this.qo=new ZT,this.Ko={},this.jo=new Map,this.Qo=Gb.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function DE(e,t){return LE.apply(this,arguments)}function LE(){return(LE=(0,Kh.Z)(function*(e,t){const n=EC(e);let r,i;const s=n.Mo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=yield NT(n.localStore,Bv(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield FE(n,t,r,"current"===s),n.isPrimaryClient&&AS(n.remoteStore,e)}return i})).apply(this,arguments)}function FE(e,t,n,r){return ME.apply(this,arguments)}function ME(){return(ME=(0,Kh.Z)(function*(e,t,n,r){e.Go=(t,n,r)=>{return(i=(0,Kh.Z)(function*(e,t,n,r){let i=t.view.Po(n);i.Bn&&(i=yield FT(e.localStore,t.query,!1).then(({documents:e})=>t.view.Po(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return tC(e,t.targetId,o.Co),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield FT(e.localStore,t,!0),s=new OE(t,i.zn),o=s.Po(i.documents),a=W_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=s.applyChanges(o,e.isPrimaryClient,a);tC(e,n,c.Co);const l=new PE(t,n,s);return e.Mo.set(t,l),e.Fo.has(n)?e.Fo.get(n).push(t):e.Fo.set(n,[t]),c.snapshot})).apply(this,arguments)}function UE(e,t){return jE.apply(this,arguments)}function jE(){return(jE=(0,Kh.Z)(function*(e,t){const n=uy(e),r=n.Mo.get(t),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(e=>!Zv(e,t))),void n.Mo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield DT(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),xS(n.remoteStore,r.targetId),XE(n,r.targetId)}).catch(Jb))):(XE(n,r.targetId),yield DT(n.localStore,r.targetId,!0))})).apply(this,arguments)}function VE(){return(VE=(0,Kh.Z)(function*(e,t,n){const r=CC(e);try{const e=yield function(e,t){const n=uy(e),r=Ay.now(),i=t.reduce((e,t)=>e.add(t.key),H_());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Wn.vn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=v_(e,s.get(e.key));null!=t&&o.push(new T_(e.key,t,hv(t.value.mapValue),f_.exists(!0)))}return n.An.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new N_(Cy)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),yield iC(r,e.changes),yield HS(r.remoteStore)}catch(i){const e=uE(i,"Failed to persist write");n.reject(e)}})).apply(this,arguments)}function qE(e,t){return BE.apply(this,arguments)}function BE(){return(BE=(0,Kh.Z)(function*(e,t){const n=uy(e);try{const e=yield OT(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Uo.get(t);r&&(ly(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?ly(r.$o):e.removedDocuments.size>0&&(ly(r.$o),r.$o=!1))}),yield iC(n,e,t)}catch(r){yield Jb(r)}})).apply(this,arguments)}function zE(e,t,n){const r=uy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Mo.forEach((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=uy(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.ro(t)&&(r=!0)}),r&&TE(n)}(r.eventManager,t),e.length&&r.Oo.br(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ZE(e,t,n){return HE.apply(this,arguments)}function HE(){return(HE=(0,Kh.Z)(function*(e,t,n){const r=uy(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),s=i&&i.key;if(s){let e=new N_(Wy.comparator);e=e.insert(s,dv.newNoDocument(s,xy.min()));const n=H_().add(s),i=new K_(xy.min(),new Map,new F_(Cy),e,n);yield qE(r,i),r.Bo=r.Bo.remove(s),r.Uo.delete(t),rC(r)}else yield DT(r.localStore,t,!1).then(()=>XE(r,t,n)).catch(Jb)})).apply(this,arguments)}function $E(e,t){return GE.apply(this,arguments)}function GE(){return(GE=(0,Kh.Z)(function*(e,t){const n=uy(e),r=t.batch.batchId;try{const e=yield AT(n.localStore,t);JE(n,r,null),YE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield iC(n,e)}catch(i){yield Jb(i)}})).apply(this,arguments)}function KE(e,t,n){return WE.apply(this,arguments)}function WE(){return(WE=(0,Kh.Z)(function*(e,t,n){const r=uy(e);try{const e=yield function(e,t){const n=uy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.An.lookupMutationBatch(e,t).next(t=>(ly(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t))).next(()=>n.An.performConsistencyCheck(e)).next(()=>n.Wn.vn(e,r))})}(r.localStore,t);JE(r,t,n),YE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield iC(r,e)}catch(i){yield Jb(i)}})).apply(this,arguments)}function QE(){return(QE=(0,Kh.Z)(function*(e,t){const n=uy(e);DS(n.remoteStore)||iy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=uy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.An.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.jo.get(e)||[];r.push(t),n.jo.set(e,r)}catch(r){const e=uE(r,"Initialization of waitForPendingWrites() operation failed");t.reject(e)}})).apply(this,arguments)}function YE(e,t){(e.jo.get(t)||[]).forEach(e=>{e.resolve()}),e.jo.delete(t)}function JE(e,t,n){const r=uy(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function XE(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fo.get(t))e.Mo.delete(r),n&&e.Oo.zo(r,n);e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach(t=>{e.qo.containsKey(t)||eC(e,t)})}function eC(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(xS(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),rC(e))}function tC(e,t,n){for(const r of n)r instanceof AE?(e.qo.addReference(r.key,t),nC(e,r)):r instanceof xE?(iy("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||eC(e,r.key)):cy()}function nC(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(iy("SyncEngine","New document in limbo: "+n),e.Lo.add(r),rC(e))}function rC(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new Wy(Dy.fromString(t)),r=e.Qo.next();e.Uo.set(r,new RE(n)),e.Bo=e.Bo.insert(n,r),AS(e.remoteStore,new _b(Bv(Lv(n.path)),r,2,Ty.I))}}function iC(e,t,n){return sC.apply(this,arguments)}function sC(){return(sC=(0,Kh.Z)(function*(e,t,n){const r=uy(e),i=[],s=[],o=[];var a;r.Mo.isEmpty()||(r.Mo.forEach((e,a)=>{o.push(r.Go(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=TT.$n(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.Oo.br(i),yield(a=(0,Kh.Z)(function*(e,t){const n=uy(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>sb.forEach(t,t=>sb.forEach(t.kn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>sb.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!ub(r))throw r;iy("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.qn.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.qn=n.qn.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function oC(e,t){return aC.apply(this,arguments)}function aC(){return(aC=(0,Kh.Z)(function*(e,t){const n=uy(e);if(!n.currentUser.isEqual(t)){iy("SyncEngine","User change. New user:",t.toKey());const e=yield IT(n.localStore,t);n.currentUser=t,(r=n).jo.forEach(e=>{e.forEach(e=>{e.reject(new dy(hy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.jo.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield iC(n,e.Gn)}var r})).apply(this,arguments)}function cC(e,t){const n=uy(e),r=n.Uo.get(t);if(r&&r.$o)return H_().add(r.key);{let e=H_();const r=n.Fo.get(t);if(!r)return e;for(const t of r){const r=n.Mo.get(t);e=e.unionWith(r.view.bo)}return e}}function lC(e,t){return uC.apply(this,arguments)}function uC(){return(uC=(0,Kh.Z)(function*(e,t){const n=uy(e),r=yield FT(n.localStore,t.query,!0),i=t.view.ko(r);return n.isPrimaryClient&&tC(n,t.targetId,i.Co),i})).apply(this,arguments)}function hC(e){return dC.apply(this,arguments)}function dC(){return(dC=(0,Kh.Z)(function*(e){const t=uy(e);return UT(t.localStore).then(e=>iC(t,e))})).apply(this,arguments)}function fC(e,t,n,r){return pC.apply(this,arguments)}function pC(){return(pC=(0,Kh.Z)(function*(e,t,n,r){const i=uy(e),s=yield function(e,t){const n=uy(e),r=uy(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Zt(e,t).next(t=>t?n.Wn.vn(e,t):sb.resolve(null)))}(i.localStore,t);var o;null!==s?("pending"===n?yield HS(i.remoteStore):"acknowledged"===n||"rejected"===n?(JE(i,t,r||null),YE(i,t),o=t,uy(uy(i.localStore).An).ee(o)):cy(),yield iC(i,s)):iy("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function gC(){return(gC=(0,Kh.Z)(function*(e,t){const n=uy(e);if(EC(n),CC(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield mC(n,e.toArray());n.Wo=!0,yield sE(n.remoteStore,!0);for(const r of t)AS(n.remoteStore,r)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Fo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(XE(n,i),DT(n.localStore,i,!0))),xS(n.remoteStore,i)}),yield t,yield mC(n,e),function(e){const t=uy(e);t.Uo.forEach((e,n)=>{xS(t.remoteStore,n)}),t.qo.hs(),t.Uo=new Map,t.Bo=new N_(Wy.comparator)}(n),n.Wo=!1,yield sE(n.remoteStore,!1)}})).apply(this,arguments)}function mC(e,t,n){return yC.apply(this,arguments)}function yC(){return(yC=(0,Kh.Z)(function*(e,t,n){const r=uy(e),i=[],s=[];for(const o of t){let e;const t=r.Fo.get(o);if(t&&0!==t.length){e=yield NT(r.localStore,Bv(t[0]));for(const e of t){const t=r.Mo.get(e),n=yield lC(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield MT(r.localStore,o);e=yield NT(r.localStore,t),yield FE(r,vC(t),o,!1)}i.push(e)}return r.Oo.br(s),i})).apply(this,arguments)}function vC(e){return Dv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function _C(e){const t=uy(e);return uy(uy(t.localStore).persistence).Tn()}function wC(e,t,n,r){return bC.apply(this,arguments)}function bC(){return(bC=(0,Kh.Z)(function*(e,t,n,r){const i=uy(e);if(i.Wo)iy("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(t))switch(n){case"current":case"not-current":{const e=yield UT(i.localStore),r=K_.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield iC(i,e,r);break}case"rejected":yield DT(i.localStore,t,!0),XE(i,t,r);break;default:cy()}})).apply(this,arguments)}function TC(e,t,n){return SC.apply(this,arguments)}function SC(){return(SC=(0,Kh.Z)(function*(e,t,n){const r=EC(e);if(r.Wo){for(const e of t){if(r.Fo.has(e)){iy("SyncEngine","Adding an already active target "+e);continue}const t=yield MT(r.localStore,e),n=yield NT(r.localStore,t);yield FE(r,vC(t),n.targetId,!1),AS(r.remoteStore,n)}for(const e of n)r.Fo.has(e)&&(yield DT(r.localStore,e,!1).then(()=>{xS(r.remoteStore,e),XE(r,e)}).catch(Jb))}})).apply(this,arguments)}function EC(e){const t=uy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZE.bind(null,t),t.Oo.br=wE.bind(null,t.eventManager),t.Oo.zo=bE.bind(null,t.eventManager),t}function CC(e){const t=uy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$E.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KE.bind(null,t),t}class IC{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Kh.Z)(function*(){t.k=mS(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return CT(this.persistence,new ST,e.initialUser,this.k)}Yo(e){return new QT(JT.ks,this.k)}Jo(e){return new cS}terminate(){var e=this;return(0,Kh.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kC extends IC{constructor(e,t,n){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,Kh.Z)(function*(){yield t().call(n,e),yield function(e){return jT.apply(this,arguments)}(n.localStore),yield n.tc.initialize(n,e),yield CC(n.tc.syncEngine),yield HS(n.tc.remoteStore),yield n.persistence.sn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Zo(e){return CT(this.persistence,new ST,e.initialUser,this.k)}Xo(e){return new nT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=_T(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jb.withCacheSize(this.cacheSizeBytes):jb.DEFAULT;return new mT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,pS(),gS(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new cS}}class AC extends kC{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,Kh.Z)(function*(){yield t().call(n,e);const r=n.tc.syncEngine;n.sharedClientState instanceof aS&&(n.sharedClientState.syncEngine={mi:fC.bind(null,r),gi:wC.bind(null,r),yi:TC.bind(null,r),Tn:_C.bind(null,r),_i:hC.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.sn(function(){var e=(0,Kh.Z)(function*(e){yield function(e,t){return gC.apply(this,arguments)}(n.tc.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Jo(e){const t=pS();if(!aS.Pt(t))throw new dy(hy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=_T(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class xC{initialize(e,t){var n=this;return(0,Kh.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>zE(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=oC.bind(null,n.syncEngine),yield sE(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gE}createDatastore(e){const t=mS(e.databaseInfo.databaseId),n=new fS(e.databaseInfo);return new bS(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>zE(this.syncEngine,e,0),s=uS.Pt()?new uS:new lS,new SS(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new NE(e,t,n,r,i,s);return o&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Kh.Z)(function*(e){const t=uy(e);iy("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),yield IS(t),t.Hr.shutdown(),t.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function OC(e,t=10240){let n=0;return{read:()=>(0,Kh.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,Kh.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class PC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class RC{constructor(e,t){this.sc=e,this.k=t,this.metadata=new fy,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,Kh.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,Kh.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,Kh.Z)(function*(){const t=yield e.oc();if(null===t)return null;const n=e.ic.decode(t),r=Number(n);isNaN(r)&&e.cc(`length string (${n}) is not valid number`);const i=yield e.ac(r);return new EE(JSON.parse(i),t.length+r)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,Kh.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}ac(e){var t=this;return(0,Kh.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const n=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,Kh.Z)(function*(){const t=yield e.sc.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class NC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Kh.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new dy(hy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,Kh.Z)(function*(e,t){const n=uy(e),r=mw(n.k)+"/documents",i={documents:t.map(e=>dw(n.k,e))},s=yield n.ji("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){ly(!!t.found);const n=fw(e,t.found.name),r=lw(t.found.updateTime),i=new uv({mapValue:{fields:t.found.fields}});return dv.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ly(!!t.missing),ly(!!t.readTime);const n=fw(e,t.missing),r=lw(t.readTime);return dv.newNoDocument(n,r)}(e,t):cy()}(n.k,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());ly(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new I_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Kh.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=Wy.fromPath(n);e.mutations.push(new k_(r,e.precondition(r)))}),yield(n=(0,Kh.Z)(function*(e,t){const n=uy(e),r=mw(n.k)+"/documents",i={writes:t.map(e=>ww(n.k,e))};yield n.Bi("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cy();t=xy.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new dy(hy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?f_.updateTime(t):f_.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xy.min()))throw new dy(hy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return f_.updateTime(t)}return f_.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class DC{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.lc=5,this.ur=new yS(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,Kh.Z)(function*(){const t=new NC(e.datastore),n=e.dc(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.wc(t)}))}).catch(t=>{e.wc(t)})}))}dc(e){try{const t=this.updateFunction(e);return!$y(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!P_(t)}return!1}}class LC{constructor(e,t,n,r){var i=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ey.UNAUTHENTICATED,this.clientId=Ey.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var e=(0,Kh.Z)(function*(e){iy("FirestoreClient","Received user=",e.uid),yield i.authCredentialListener(e),i.user=e});return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(n,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,Kh.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dy(hy.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Kh.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const e=uE(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function FC(e,t){return MC.apply(this,arguments)}function MC(){return(MC=(0,Kh.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),iy("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,Kh.Z)(function*(e){r.isEqual(e)||(yield IT(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function UC(e,t){return jC.apply(this,arguments)}function jC(){return(jC=(0,Kh.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield VC(e);iy("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,Kh.Z)(function*(e,t){const n=uy(e);n.asyncQueue.verifyOperationInProgress(),iy("RemoteStore","RemoteStore received new credentials");const r=DS(n);n.Gr.add(3),yield IS(n),r&&n.Jr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),yield ES(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function VC(e){return qC.apply(this,arguments)}function qC(){return(qC=(0,Kh.Z)(function*(e){return e.offlineComponents||(iy("FirestoreClient","Using default OfflineComponentProvider"),yield FC(e,new IC)),e.offlineComponents})).apply(this,arguments)}function BC(e){return zC.apply(this,arguments)}function zC(){return(zC=(0,Kh.Z)(function*(e){return e.onlineComponents||(iy("FirestoreClient","Using default OnlineComponentProvider"),yield UC(e,new xC)),e.onlineComponents})).apply(this,arguments)}function ZC(e){return VC(e).then(e=>e.persistence)}function HC(e){return VC(e).then(e=>e.localStore)}function $C(e){return BC(e).then(e=>e.remoteStore)}function GC(e){return BC(e).then(e=>e.syncEngine)}function KC(e){return WC.apply(this,arguments)}function WC(){return(WC=(0,Kh.Z)(function*(e){const t=yield BC(e),n=t.eventManager;return n.onListen=DE.bind(null,t.syncEngine),n.onUnlisten=UE.bind(null,t.syncEngine),n})).apply(this,arguments)}function QC(e,t,n={}){const r=new fy;return e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){return function(e,t,n,r,i){const s=new PC({next:s=>{t.enqueueAndForget(()=>vE(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new dy(hy.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new dy(hy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new SE(Lv(n.path),s,{includeMetadataChanges:!0,wo:!0});return mE(e,o)}(yield KC(e),e.asyncQueue,t,n,r)})),r.promise}function YC(e,t,n={}){const r=new fy;return e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){return function(e,t,n,r,i){const s=new PC({next:n=>{t.enqueueAndForget(()=>vE(e,o)),n.fromCache&&"server"===r.source?i.reject(new dy(hy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new SE(n,s,{includeMetadataChanges:!0,wo:!0});return mE(e,o)}(yield KC(e),e.asyncQueue,t,n,r)})),r.promise}class JC{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class XC{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof XC&&e.projectId===this.projectId&&e.database===this.database}}const eI=new Map;function tI(e,t,n){if(!n)throw new dy(hy.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nI(e,t,n,r){if(!0===t&&!0===r)throw new dy(hy.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function rI(e){if(!Wy.isDocumentKey(e))throw new dy(hy.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function iI(e){if(Wy.isDocumentKey(e))throw new dy(hy.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function sI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":cy()}function oI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dy(hy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sI(e);throw new dy(hy.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function aI(e,t){if(t<=0)throw new dy(hy.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class cI{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new dy(hy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dy(hy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,nI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lI{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cI({}),this._settingsFrozen=!1,e instanceof XC?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new dy(hy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new XC(e.options.projectId)}(e))}get app(){if(!this._app)throw new dy(hy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dy(hy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new gy;switch(e.type){case"gapi":const t=e.client;return ly(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new _y(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new dy(hy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=eI.get(e);t&&(iy("ComponentProvider","Removing Datastore"),eI.delete(e),t.terminate())}(this),Promise.resolve()}}class uI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uI(this.firestore,e,this._key)}}class hI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hI(this.firestore,e,this._query)}}class dI extends hI{constructor(e,t,n){super(e,t,Lv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uI(this.firestore,null,new Wy(e))}withConverter(e){return new dI(this.firestore,e,this._path)}}function fI(e,t,...n){if(e=(0,Yh.m9)(e),tI("collection","path",t),e instanceof lI){const r=Dy.fromString(t,...n);return iI(r),new dI(e,null,r)}{if(!(e instanceof uI||e instanceof dI))throw new dy(hy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Dy.fromString(t,...n));return iI(r),new dI(e.firestore,null,r)}}function pI(e,t,...n){if(e=(0,Yh.m9)(e),1===arguments.length&&(t=Ey.A()),tI("doc","path",t),e instanceof lI){const r=Dy.fromString(t,...n);return rI(r),new uI(e,null,new Wy(r))}{if(!(e instanceof uI||e instanceof dI))throw new dy(hy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Dy.fromString(t,...n));return rI(r),new uI(e.firestore,e instanceof dI?e.converter:null,new Wy(r))}}function gI(e,t){return e=(0,Yh.m9)(e),t=(0,Yh.m9)(t),(e instanceof uI||e instanceof dI)&&(t instanceof uI||t instanceof dI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function mI(e,t){return e=(0,Yh.m9)(e),t=(0,Yh.m9)(t),e instanceof hI&&t instanceof hI&&e.firestore===t.firestore&&Zv(e._query,t._query)&&e.converter===t.converter}class yI{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new yS(this,"async_queue_retry"),this.bc=()=>{const e=gS();e&&iy("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=gS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=gS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new fy;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,Kh.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!ub(t))throw t;iy("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(e=>{throw this.Ec=e,this.Ic=!1,sy("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Ic=!1,e))));return this.mc=t,t}enqueueAfterDelay(e,t,n){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const r=lE.createAndSchedule(this,e,t,n,e=>this.Sc(e));return this.Tc.push(r),r}Pc(){this.Ec&&cy()}verifyOperationInProgress(){}Dc(){var e=this;return(0,Kh.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function vI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class _I{constructor(){this._progressObserver={},this._taskCompletionResolver=new fy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wI extends lI{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new yI,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||TI(this),this._firestoreClient.terminate()}}function bI(e){return e._firestoreClient||TI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function TI(e){var t;const n=e._freezeSettings(),r=(i=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new JC(e._databaseId,i,e._persistenceKey,(s=n).host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams));var i,s;e._firestoreClient=new LC(e._authCredentials,e._appCheckCredentials,e._queue,r)}function SI(e,t,n){const r=new fy;return e.asyncQueue.enqueue((0,Kh.Z)(function*(){try{yield FC(e,n),yield UC(e,t),r.resolve()}catch(s){if(!("FirebaseError"===(i=s).name?i.code===hy.FAILED_PRECONDITION||i.code===hy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var i})).then(()=>r.promise)}function EI(e){if(e._initialized||e._terminated)throw new dy(hy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class CI{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new dy(hy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fy(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class II{constructor(e){this._byteString=e}static fromBase64String(e){try{return new II(Uy.fromBase64String(e))}catch(t){throw new dy(hy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new II(Uy.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kI{constructor(e){this._methodName=e}}class AI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new dy(hy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new dy(hy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cy(this._lat,e._lat)||Cy(this._long,e._long)}}const xI=/^__.*__$/;class OI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new T_(e,this.data,this.fieldMask,t,this.fieldTransforms):new b_(e,this.data,t,this.fieldTransforms)}}class PI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new T_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cy()}}class NI{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new NI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}Bc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return XI(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(RI(this.$c)&&xI.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class DI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||mS(e)}Qc(e,t,n,r=!1){return new NI({$c:e,methodName:t,jc:n,path:Fy.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function LI(e){const t=e._freezeSettings(),n=mS(e._databaseId);return new DI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function FI(e,t,n,r,i,s={}){const o=e.Qc(s.merge||s.mergeFields?2:0,t,n,i);WI("Data must be an object, but it was:",o,r);const a=GI(r,o);let c,l;if(s.merge)c=new My(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=QI(t,r,n);if(!o.contains(i))throw new dy(hy.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ek(e,i)||e.push(i)}c=new My(e),l=o.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,l=o.fieldTransforms;return new OI(new uv(a),c,l)}class MI extends kI{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof MI}}function UI(e,t,n){return new NI({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class jI extends kI{_toFieldTransform(e){return new h_(e.path,new r_)}isEqual(e){return e instanceof jI}}class VI extends kI{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=UI(this,e,!0),n=this.Wc.map(e=>$I(e,t)),r=new i_(n);return new h_(e.path,r)}isEqual(e){return this===e}}class qI extends kI{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=UI(this,e,!0),n=this.Wc.map(e=>$I(e,t)),r=new o_(n);return new h_(e.path,r)}isEqual(e){return this===e}}class BI extends kI{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new c_(e.k,Jv(e.k,this.Gc));return new h_(e.path,t)}isEqual(e){return this===e}}function zI(e,t,n,r){const i=e.Qc(1,t,n);WI("Data must be an object, but it was:",i,r);const s=[],o=uv.empty();Py(r,(e,r)=>{const a=JI(t,e,n);r=(0,Yh.m9)(r);const c=i.Bc(a);if(r instanceof MI)s.push(a);else{const e=$I(r,c);null!=e&&(s.push(a),o.set(a,e))}});const a=new My(s);return new PI(o,a,i.fieldTransforms)}function ZI(e,t,n,r,i,s){const o=e.Qc(1,t,n),a=[QI(t,r,n)],c=[i];if(s.length%2!=0)throw new dy(hy.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(QI(t,s[d])),c.push(s[d+1]);const l=[],u=uv.empty();for(let d=a.length-1;d>=0;--d)if(!ek(l,a[d])){const e=a[d];let t=c[d];t=(0,Yh.m9)(t);const n=o.Bc(e);if(t instanceof MI)l.push(e);else{const r=$I(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new My(l);return new PI(u,h,o.fieldTransforms)}function HI(e,t,n,r=!1){return $I(n,e.Qc(r?4:3,t))}function $I(e,t){if(KI(e=(0,Yh.m9)(e)))return WI("Unsupported field value:",t,e),GI(e,t);if(e instanceof kI)return function(e,t){if(!RI(t.$c))throw t.qc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.qc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=$I(i,t.Uc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Yh.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jv(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ay.fromDate(e);return{timestampValue:ow(t.k,n)}}if(e instanceof Ay){const n=new Ay(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ow(t.k,n)}}if(e instanceof AI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof II)return{bytesValue:aw(t.k,e._byteString)};if(e instanceof uI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:uw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc(`Unsupported field value: ${sI(e)}`)}(e,t)}function GI(e,t){const n={};return Ry(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Py(e,(e,r)=>{const i=$I(r,t.Mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function KI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ay||e instanceof AI||e instanceof II||e instanceof uI||e instanceof kI)}function WI(e,t,n){if(!KI(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=sI(n);throw t.qc("an object"===r?e+" a custom object":e+" "+r)}var r}function QI(e,t,n){if((t=(0,Yh.m9)(t))instanceof CI)return t._internalPath;if("string"==typeof t)return JI(e,t);throw XI("Field path arguments must be of type string or ",e,!1,void 0,n)}const YI=new RegExp("[~\\*/\\[\\]]");function JI(e,t,n){if(t.search(YI)>=0)throw XI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new CI(...t.split("."))._internalPath}catch(r){throw XI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function XI(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new dy(hy.INVALID_ARGUMENT,a+e+c)}function ek(e,t){return e.some(e=>e.isEqual(t))}class tk{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new uI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nk extends tk{data(){return super.data()}}function rk(e,t){return"string"==typeof t?JI(e,t):t instanceof CI?t._internalPath:t._delegate._internalPath}class ik{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sk extends tk{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ok(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(rk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ok extends sk{data(e={}){return super.data(e)}}class ak{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ik(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ok(this._firestore,this._userDataWriter,n.key,n,new ik(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dy(hy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new ok(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ik(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ok(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ik(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ck(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ck(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cy()}}function lk(e,t){return e instanceof sk&&t instanceof sk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ak&&t instanceof ak&&e._firestore===t._firestore&&mI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function uk(e){if(Mv(e)&&0===e.explicitOrderBy.length)throw new dy(hy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hk{}function dk(e,...t){for(const n of t)e=n._apply(e);return e}class fk extends hk{constructor(e,t,n){super(),this.zc=e,this.Hc=t,this.Jc=n,this.type="where"}_apply(e){const t=LI(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new dy(hy.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){wk(o,s);const t=[];for(const n of o)t.push(_k(r,e,n));a={arrayValue:{values:t}}}else a=_k(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||wk(o,s),a=HI(n,"where",o,"in"===s||"not-in"===s);const c=vv.create(i,s,a);return function(e,t){if(t.V()){const n=jv(e);if(null!==n&&!n.isEqual(t.field))throw new dy(hy.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Uv(e);null!==r&&bk(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new dy(hy.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new hI(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Nv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class pk extends hk{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new dy(hy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new dy(hy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new xv(t,n);return function(e,t){if(null===Uv(e)){const n=jv(e);null!==n&&bk(0,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new hI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Nv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class gk extends hk{constructor(e,t,n){super(),this.type=e,this.Xc=t,this.Zc=n}_apply(e){return new hI(e.firestore,e.converter,zv(e._query,this.Xc,this.Zc))}}class mk extends hk{constructor(e,t,n){super(),this.type=e,this.ta=t,this.ea=n}_apply(e){const t=vk(e,this.type,this.ta,this.ea);return new hI(e.firestore,e.converter,(r=t,new Nv((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)));var n,r}}class yk extends hk{constructor(e,t,n){super(),this.type=e,this.ta=t,this.ea=n}_apply(e){const t=vk(e,this.type,this.ta,this.ea);return new hI(e.firestore,e.converter,(r=t,new Nv((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)));var n,r}}function vk(e,t,n,r){if(n[0]=(0,Yh.m9)(n[0]),n[0]instanceof tk)return function(e,t,n,r,i){if(!r)throw new dy(hy.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of qv(e))if(o.field.isKeyField())s.push(rv(t,r.key));else{const e=r.data.field(o.field);if(zy(e))throw new dy(hy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new dy(hy.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new kv(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=LI(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new dy(hy.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new dy(hy.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Vv(e)&&-1!==s.indexOf("/"))throw new dy(hy.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Dy.fromString(s));if(!Wy.isDocumentKey(n))throw new dy(hy.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Wy(n);a.push(rv(t,i))}else{const e=HI(n,r,s);a.push(e)}}return new kv(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function _k(e,t,n){if("string"==typeof(n=(0,Yh.m9)(n))){if(""===n)throw new dy(hy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vv(t)&&-1!==n.indexOf("/"))throw new dy(hy.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Dy.fromString(n));if(!Wy.isDocumentKey(r))throw new dy(hy.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rv(e,new Wy(r))}if(n instanceof uI)return rv(e,n._key);throw new dy(hy.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sI(n)}.`)}function wk(e,t){if(!Array.isArray(e)||0===e.length)throw new dy(hy.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new dy(hy.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function bk(e,t,n){if(!n.isEqual(t))throw new dy(hy.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Tk{convertValue(e,t="none"){switch(Qy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(By(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cy()}}convertObject(e,t){const n={};return Py(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new AI(qy(e.latitude),qy(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Zy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hy(e));default:return null}}convertTimestamp(e){const t=Vy(e);return new Ay(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Dy.fromString(e);ly(Lw(n));const r=new XC(n.get(1),n.get(3)),i=new Wy(n.popFirst(5));return r.isEqual(t)||sy(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Sk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ek extends Tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new II(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uI(this.firestore,null,t)}}class Ck{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=LI(e)}set(e,t,n){this._verifyNotCommitted();const r=Ik(e,this._firestore),i=Sk(r.converter,t,n),s=FI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,f_.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Ik(e,this._firestore);let s;return s="string"==typeof(t=(0,Yh.m9)(t))||t instanceof CI?ZI(this._dataReader,"WriteBatch.update",i._key,t,n,r):zI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,f_.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ik(e,this._firestore);return this._mutations=this._mutations.concat(new I_(t._key,f_.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dy(hy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ik(e,t){if((e=(0,Yh.m9)(e)).firestore!==t)throw new dy(hy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class kk extends Tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new II(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uI(this.firestore,null,t)}}function Ak(e,t,n){e=oI(e,uI);const r=oI(e.firestore,wI),i=Sk(e.converter,t,n);return Pk(r,[FI(LI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,f_.none())])}function xk(e,t,n,...r){e=oI(e,uI);const i=oI(e.firestore,wI),s=LI(i);let o;return o="string"==typeof(t=(0,Yh.m9)(t))||t instanceof CI?ZI(s,"updateDoc",e._key,t,n,r):zI(s,"updateDoc",e._key,t),Pk(i,[o.toMutation(e._key,f_.exists(!0))])}function Ok(e,...t){var n,r,i;e=(0,Yh.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||vI(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(vI(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,l,u;if(e instanceof uI)l=oI(e.firestore,wI),u=Lv(e._key.path),c={next:n=>{t[o]&&t[o](Rk(l,e,n))},error:t[o+1],complete:t[o+2]};else{const n=oI(e,hI);l=oI(n.firestore,wI),u=n._query;const r=new kk(l);c={next:e=>{t[o]&&t[o](new ak(l,r,n,e))},error:t[o+1],complete:t[o+2]},uk(e._query)}return function(e,t,n,r){const i=new PC(r),s=new SE(t,i,n);return e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){return mE(yield KC(e),s)})),()=>{i.nc(),e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){return vE(yield KC(e),s)}))}}(bI(l),u,a,c)}function Pk(e,t){return function(e,t){const n=new fy;return e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){return function(e,t,n){return VE.apply(this,arguments)}(yield GC(e),t,n)})),n.promise}(bI(e),t)}function Rk(e,t,n){const r=n.docs.get(t._key),i=new kk(e);return new sk(e,i,t._key,r,new ik(n.hasPendingWrites,n.fromCache),t.converter)}class Nk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=LI(e)}get(e){const t=Ik(e,this._firestore),n=new Ek(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return cy();const r=e[0];if(r.isFoundDocument())return new tk(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new tk(this._firestore,n,t._key,null,t.converter);throw cy()})}set(e,t,n){const r=Ik(e,this._firestore),i=Sk(r.converter,t,n),s=FI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=Ik(e,this._firestore);let s;return s="string"==typeof(t=(0,Yh.m9)(t))||t instanceof CI?ZI(this._dataReader,"Transaction.update",i._key,t,n,r):zI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=Ik(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ik(e,this._firestore),n=new kk(this._firestore);return super.get(e).then(e=>new sk(this._firestore,n,t._key,e._document,new ik(!1,!1),t.converter))}}function Dk(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new dy("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Lk(){if("undefined"==typeof Uint8Array)throw new dy("unimplemented","Uint8Arrays are not available in this environment.")}function Fk(){if("undefined"==typeof atob)throw new dy("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){ty=Wh.SDK_VERSION,(0,Wh._registerComponent)(new Qh.wA("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new wI(r,new yy(e.getProvider("auth-internal")),new by(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i},"PUBLIC")),(0,Wh.registerVersion)(Xm,"3.4.3",e),(0,Wh.registerVersion)(Xm,"3.4.3","esm2017")}();class Mk{constructor(e){this._delegate=e}static fromBase64String(e){return Fk(),new Mk(II.fromBase64String(e))}static fromUint8Array(e){return Lk(),new Mk(II.fromUint8Array(e))}toBase64(){return Fk(),this._delegate.toBase64()}toUint8Array(){return Lk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Uk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class jk{enableIndexedDbPersistence(e,t){return function(e,t){EI(e=oI(e,wI));const n=bI(e),r=e._freezeSettings(),i=new xC;return SI(n,i,new kC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){EI(e=oI(e,wI));const t=bI(e),n=e._freezeSettings(),r=new xC;return SI(t,r,new AC(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new dy(hy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new fy;return e._queue.enqueueAndForgetEvenWhileRestricted((0,Kh.Z)(function*(){try{yield(n=(0,Kh.Z)(function*(e){if(!ab.Pt())return Promise.resolve();const t=e+"main";yield ab.delete(t)}),function(e){return n.apply(this,arguments)})(_T(e._databaseId,e._persistenceKey)),t.resolve()}catch(n){t.reject(n)}var n})),t.promise}(e._delegate)}}class Vk{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof XC||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&oy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=oI(e,lI))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&oy("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ey.MOCK_USER;else{t=(0,Yh.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new dy(hy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ey(s)}e._authCredentials=new my(new py(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Kh.Z)(function*(){const t=yield ZC(e),n=yield $C(e);return t.setNetworkEnabled(!0),function(e){const t=uy(e);return t.Gr.delete(0),ES(t)}(n)}))}(bI(e=oI(e,wI)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Kh.Z)(function*(){const t=yield ZC(e),n=yield $C(e);return t.setNetworkEnabled(!1),(r=(0,Kh.Z)(function*(e){const t=uy(e);t.Gr.add(0),yield IS(t),t.Jr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(bI(e=oI(e,wI)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,nI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new fy;return e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){return function(e,t){return QE.apply(this,arguments)}(yield GC(e),t)})),t.promise}(bI(e=oI(e,wI)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new PC(t);return e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){return t=yield KC(e),r=n,uy(t).io.add(r),void r.next();var t,r})),()=>{n.nc(),e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){return t=yield KC(e),r=n,void uy(t).io.delete(r);var t,r}))}}(bI(e=oI(e,wI)),vI(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new dy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new eA(this,fI(this._delegate,e))}catch(t){throw $k(t,"collection()","Firestore.collection()")}}doc(e){try{return new Hk(this,pI(this._delegate,e))}catch(t){throw $k(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yk(this,function(e,t){if(e=oI(e,lI),tI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new dy(hy.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hI(e,null,(n=t,new Nv(Dy.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw $k(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new fy;return e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){const r=yield(i=e,BC(i).then(e=>e.datastore));var i;new DC(e.asyncQueue,r,t,n).run()})),n.promise}(bI(e=oI(e,wI)),n=>t(new Nk(e,n)))}(this._delegate,t=>e(new Bk(this,t)))}batch(){return bI(this._delegate),new zk(new Ck(this._delegate,e=>Pk(this._delegate,e)))}loadBundle(e){return function(e,t){const n=bI(e=oI(e,wI)),r=new _I;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,r=function(e,t){if(e instanceof Uint8Array)return OC(e,t);if(e instanceof ArrayBuffer)return OC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),new RC(r,t);var r}(n,mS(t));e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){!function(e,t,n){const r=uy(e);var i;(i=(0,Kh.Z)(function*(e,t,n){try{const i=yield t.getMetadata();if(yield function(e,t){const n=uy(e),r=lw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ye.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,i))return yield t.close(),void n._completeWith((r=i,{taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}));n._updateProgress(kE(i));const s=new IE(i,e.localStore,t.k);let o=yield t.Ho();for(;o;){const e=yield s.yo(o);e&&n._updateProgress(e),o=yield t.Ho()}const a=yield s.complete();yield iC(e,a.In,void 0),yield function(e,t){const n=uy(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ye.saveBundleMetadata(e,t))}(e.localStore,i),n._completeWith(a.progress)}catch(i){oy("SyncEngine",`Loading bundle failed with ${i}`),n._failWith(i)}var r}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield GC(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,Kh.Z)(function*(){return function(e,t){const n=uy(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ye.getNamedQuery(e,t))}(yield HC(e),t)}))}(bI(e=oI(e,wI)),t).then(t=>t?new hI(e,null,t.query):null)}(this._delegate,e).then(e=>e?new Yk(this,e):null)}}class qk extends Tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mk(new II(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Hk.forKey(t,this.firestore,null)}}class Bk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qk(e)}get(e){const t=tA(e);return this._delegate.get(t).then(e=>new Wk(this._firestore,new sk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=tA(e);return n?(Dk("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=tA(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=tA(e);return this._delegate.delete(t),this}}class zk{constructor(e){this._delegate=e}set(e,t,n){const r=tA(e);return n?(Dk("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=tA(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=tA(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Zk{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new ok(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qk(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Zk.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Zk(e,new qk(e),t),r.set(t,i)),i}}Zk.INSTANCES=new WeakMap;class Hk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qk(e)}static forPath(e,t,n){if(e.length%2!=0)throw new dy("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Hk(t,new uI(t._delegate,n,new Wy(e)))}static forKey(e,t,n){return new Hk(t,new uI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new eA(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new eA(this.firestore,fI(this._delegate,e))}catch(t){throw $k(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yh.m9)(e))instanceof uI&&gI(this._delegate,e)}set(e,t){t=Dk("DocumentReference.set",t);try{return t?Ak(this._delegate,e,t):Ak(this._delegate,e)}catch(n){throw $k(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?xk(this._delegate,e):xk(this._delegate,e,t,...n)}catch(r){throw $k(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return Pk(oI(e.firestore,wI),[new I_(e._key,f_.none())])}(this._delegate)}onSnapshot(...e){const t=Gk(e),n=Kk(e,e=>new Wk(this.firestore,new sk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Ok(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=oI(e,uI);const t=oI(e.firestore,wI),n=bI(t),r=new kk(t);return function(e,t){const n=new fy;return e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){return(r=(0,Kh.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=uy(e);return n.persistence.runTransaction("read document","readonly",e=>n.Wn.Rn(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new dy(hy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){const e=uE(r,`Failed to get document '${t} from cache`);n.reject(e)}}),function(e,t,n){return r.apply(this,arguments)})(yield HC(e),t,n);var r})),n.promise}(n,e._key).then(n=>new sk(t,r,e._key,n,new ik(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=oI(e,uI);const t=oI(e.firestore,wI);return QC(bI(t),e._key,{source:"server"}).then(n=>Rk(t,e,n))}(this._delegate):function(e){e=oI(e,uI);const t=oI(e.firestore,wI);return QC(bI(t),e._key).then(n=>Rk(t,e,n))}(this._delegate),t.then(e=>new Wk(this.firestore,new sk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Hk(this.firestore,this._delegate.withConverter(e?Zk.getInstance(this.firestore,e):null))}}function $k(e,t,n){return e.message=e.message.replace(t,n),e}function Gk(e){for(const t of e)if("object"==typeof t&&!Uk(t))return t;return{}}function Kk(e,t){var n,r;let i;return i=Uk(e[0])?e[0]:Uk(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Wk{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Hk(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return lk(this._delegate,e._delegate)}}class Qk extends Wk{data(e){const t=this._delegate.data(e);return function(e,t){e||cy()}(void 0!==t),t}}class Yk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qk(e)}where(e,t,n){try{return new Yk(this.firestore,dk(this._delegate,function(e,t,n){const r=t,i=rk("where",e);return new fk(i,r,n)}(e,t,n)))}catch(r){throw $k(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yk(this.firestore,dk(this._delegate,function(e,t="asc"){const n=t,r=rk("orderBy",e);return new pk(r,n)}(e,t)))}catch(n){throw $k(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yk(this.firestore,dk(this._delegate,function(e){return aI("limit",e),new gk("limit",e,"F")}(e)))}catch(t){throw $k(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Yk(this.firestore,dk(this._delegate,function(e){return aI("limitToLast",e),new gk("limitToLast",e,"L")}(e)))}catch(t){throw $k(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yk(this.firestore,dk(this._delegate,function(...e){return new mk("startAt",e,!0)}(...e)))}catch(t){throw $k(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yk(this.firestore,dk(this._delegate,function(...e){return new mk("startAfter",e,!1)}(...e)))}catch(t){throw $k(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yk(this.firestore,dk(this._delegate,function(...e){return new yk("endBefore",e,!0)}(...e)))}catch(t){throw $k(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yk(this.firestore,dk(this._delegate,function(...e){return new yk("endAt",e,!1)}(...e)))}catch(t){throw $k(t,"endAt()","Query.endAt()")}}isEqual(e){return mI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=oI(e,hI);const t=oI(e.firestore,wI),n=bI(t),r=new kk(t);return function(e,t){const n=new fy;return e.asyncQueue.enqueueAndForget((0,Kh.Z)(function*(){return(r=(0,Kh.Z)(function*(e,t,n){try{const r=yield FT(e,t,!0),i=new OE(t,r.zn),s=i.Po(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(r){const e=uE(r,`Failed to execute query '${t} against cache`);n.reject(e)}}),function(e,t,n){return r.apply(this,arguments)})(yield HC(e),t,n);var r})),n.promise}(n,e._query).then(n=>new ak(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=oI(e,hI);const t=oI(e.firestore,wI),n=bI(t),r=new kk(t);return YC(n,e._query,{source:"server"}).then(n=>new ak(t,r,e,n))}(this._delegate):function(e){e=oI(e,hI);const t=oI(e.firestore,wI),n=bI(t),r=new kk(t);return uk(e._query),YC(n,e._query).then(n=>new ak(t,r,e,n))}(this._delegate),t.then(e=>new Xk(this.firestore,new ak(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=Gk(e),n=Kk(e,e=>new Xk(this.firestore,new ak(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Ok(this._delegate,t,n)}withConverter(e){return new Yk(this.firestore,this._delegate.withConverter(e?Zk.getInstance(this.firestore,e):null))}}class Jk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qk(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yk(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qk(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new Jk(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Qk(this._firestore,n))})}isEqual(e){return lk(this._delegate,e._delegate)}}class eA extends Yk{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Hk(this.firestore,e):null}doc(e){try{return new Hk(this.firestore,void 0===e?pI(this._delegate):pI(this._delegate,e))}catch(t){throw $k(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=oI(e.firestore,wI),r=pI(e),i=Sk(e.converter,t);return Pk(n,[FI(LI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,f_.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Hk(this.firestore,e))}isEqual(e){return gI(this._delegate,e._delegate)}withConverter(e){return new eA(this.firestore,this._delegate.withConverter(e?Zk.getInstance(this.firestore,e):null))}}function tA(e){return oI(e,uI)}class nA{constructor(...e){this._delegate=new CI(...e)}static documentId(){return new nA(Fy.keyField().canonicalString())}isEqual(e){return(e=(0,Yh.m9)(e))instanceof CI&&this._delegate._internalPath.isEqual(e._internalPath)}}class rA{constructor(e){this._delegate=e}static serverTimestamp(){const e=new jI("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new rA(e)}static delete(){const e=new MI("deleteField");return e._methodName="FieldValue.delete",new rA(e)}static arrayUnion(...e){const t=function(...e){return new VI("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new rA(t)}static arrayRemove(...e){const t=function(...e){return new qI("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new rA(t)}static increment(e){const t=function(e){return new BI("increment",e)}(e);return t._methodName="FieldValue.increment",new rA(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const iA={Firestore:Vk,GeoPoint:AI,Timestamp:Ay,Blob:Mk,Transaction:Bk,WriteBatch:zk,DocumentReference:Hk,DocumentSnapshot:Wk,Query:Yk,QueryDocumentSnapshot:Qk,QuerySnapshot:Xk,CollectionReference:eA,FieldPath:nA,FieldValue:rA,setLogLevel:function(e){!function(e){ny.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function sA(e,t){return function(e,t=ea.z){return new Te.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function oA(e,t){return sA(e,t).pipe((0,xe.U)(e=>({payload:e,type:"query"})))}function aA(e,t){return oA(e,t).pipe(We(void 0),Dl(),(0,xe.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function cA(e,t,n){return aA(e,n).pipe(Ye((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return lA(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return lA(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return lA(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),function(e,t=Ae.y){return e=null!=e?e:Rl,(0,Ze.e)((n,r)=>{let i,s=!0;n.subscribe(new Ne.Q(r,n=>{const o=t(n);(s||!e(i,o))&&(s=!1,i=o,r.next(n))}))})}(),(0,xe.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function lA(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function uA(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}!function(e){(function(e,t){e.INTERNAL.registerComponent(new Qh.wA("firestore-compat",e=>((e,t)=>new Vk(e,t,new jk))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},iA)))})(e),e.registerVersion("@firebase/firestore-compat","0.1.12")}(Zd.Z);class hA{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=aA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,xe.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(We(void 0),Dl(),Je(([e,t])=>t.length>0||!e),(0,xe.U)(([e,t])=>t),$h.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ye((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=uA(e);return cA(this.query,t,this.afs.schedulers.outsideAngular).pipe($h.iC)}valueChanges(e={}){return oA(this.query,this.afs.schedulers.outsideAngular).pipe((0,xe.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),$h.iC)}get(e){return(0,ye.D)(this.query.get(e)).pipe($h.iC)}add(e){return this.ref.add(e)}doc(e){return new dA(this.ref.doc(e),this.afs)}}class dA{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=vA(n,t);return new hA(r,i,this.afs)}snapshotChanges(){return function(e,t){return sA(e,t).pipe(We(void 0),Dl(),(0,xe.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($h.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ye.D)(this.ref.get(e)).pipe($h.iC)}}class fA{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?aA(this.query,this.afs.schedulers.outsideAngular).pipe((0,xe.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Je(e=>e.length>0),$h.iC):aA(this.query,this.afs.schedulers.outsideAngular).pipe($h.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ye((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=uA(e);return cA(this.query,t,this.afs.schedulers.outsideAngular).pipe($h.iC)}valueChanges(e={}){return oA(this.query,this.afs.schedulers.outsideAngular).pipe((0,xe.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),$h.iC)}get(e){return(0,ye.D)(this.query.get(e)).pipe($h.iC)}}const pA=new r.OlP("angularfire2.enableFirestorePersistence"),gA=new r.OlP("angularfire2.firestore.persistenceSettings"),mA=new r.OlP("angularfire2.firestore.settings"),yA=new r.OlP("angularfire2.firestore.use-emulator");function vA(e,t=(e=>e)){return{query:t(e),ref:e}}let _A=(()=>{class e{constructor(e,t,n,r,i,s,o,a,c,l,u,h,d,f,p,g,m){this.schedulers=o;const y=(0,Gh.on)(e,s,t),v=c;l&&Ud(y,s,u,d,f,p,h,g),[this.firestore,this.persistenceEnabled$]=(0,Gh.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const e=s.runOutsideAngular(()=>y.firestore());if(r&&e.settings(r),v&&e.useEmulator(...v),n&&!D(i)){const t=()=>{try{return(0,ye.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),_e(!1)}};return[e,s.runOutsideAngular(t)]}return[e,_e(!1)]},[r,v,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=vA(n,t),s=this.schedulers.ngZone.run(()=>r);return new hA(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new fA(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new dA(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Gh.Dh),r.LFG(Gh.xv,8),r.LFG(pA,8),r.LFG(mA,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG($h.HU),r.LFG(gA,8),r.LFG(yA,8),r.LFG(jd,8),r.LFG(Rd,8),r.LFG(Nd,8),r.LFG(Dd,8),r.LFG(Ld,8),r.LFG(Fd,8),r.LFG(Md,8),r.LFG(Pd,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),wA=(()=>{class e{constructor(e){this.afs=e,this.userPostsCollection=e.collection("user-posts"),this.userPosts$=this.userPostsCollection.valueChanges({idField:"id"})}updatePost(e){return(0,ye.D)(this.afs.doc(`user-posts/${e.id}`).update({purrs:e.purrs++}))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(_A))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),bA=(()=>{class e{constructor(e,t,n){this.connectS=e,this.databaseService=t,this.snackBar=n,this.destroy$=new we.x}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Bd),r.Y36(wA),r.Y36(Bu))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-create"]],decls:5,vars:0,consts:[["mat-flat-button","","color","primary","type","button","onclick","alert('Hello world!')"],["aria-hidden","false","aria-label","Example home icon"],["alt","Create Post","src","/assets/create.png",1,"placeholder-image"]],template:function(e,t){1&e&&(r.TgZ(0,"button",0),r.TgZ(1,"mat-icon",1),r._uU(2,"cloud_upload"),r.qZA(),r._uU(3," Upload\n"),r.qZA(),r._UZ(4,"img",2))},directives:[tc,tl],styles:[".placeholder-image[_ngcontent-%COMP%]{height:1;width:1}"]}),e})(),TA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-feed"]],decls:1,vars:0,consts:[["alt","Create Post","src","/assets/feed.png",1,"placeholder-image"]],template:function(e,t){1&e&&r._UZ(0,"img",0)},styles:['body[_ngcontent-%COMP%]{margin:0;background-color:#fff;font-family:"Roboto",sans-serif;font-size:12px}h1[_ngcontent-%COMP%]{margin:0;font-size:5em;font-weight:900}h2[_ngcontent-%COMP%]{margin:0;font-size:3em;font-weight:900}h3[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:2em}p[_ngcontent-%COMP%]{margin:0;font-size:.83em}.nav-header[_ngcontent-%COMP%]{height:80px;width:100%;background-color:#000;display:flex}.nav-menu[_ngcontent-%COMP%]{min-height:80px;height:100%;width:100%;display:flex;flex-flow:row;align-items:center;justify-content:center;color:#fff;padding:0 20%}.nav-logo[_ngcontent-%COMP%]{flex-grow:55}.nav-spotifylogo[_ngcontent-%COMP%]{height:50px}.nav-item[_ngcontent-%COMP%]{flex-grow:5;font-size:1.25em;font-weight:700;text-align:center;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{color:#1ed760}.nav-divider[_ngcontent-%COMP%]{height:20px;border-right:1px solid white;flex-grow:1;font-size:1.25em;font-weight:500;text-align:center}.container[_ngcontent-%COMP%]{background-color:#2941ab;width:auto;height:937px}.container-image[_ngcontent-%COMP%]{background-image:url(https://www-growth.scdn.co/static/home/bursts.svg);background-size:170%;background-position:44% 7%;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.container-content[_ngcontent-%COMP%]{display:flex;width:1000px;justify-content:center;flex-flow:row wrap;align-items:center}.container-title[_ngcontent-%COMP%]{font-size:140px;line-height:166px;padding:0 0 40px 40px;margin-left:250px;width:800px;text-indent:-2.1em;color:#1ed760}.container-text[_ngcontent-%COMP%]{box-sizing:border-box;font-size:18px;line-height:24px;padding-bottom:40px;font-weight:500;color:#1ed760;width:900px;text-align:center}.container-button[_ngcontent-%COMP%]{border-radius:50px;background-color:#1ed760;color:#2941ab;font-weight:700;font-size:.9rem;cursor:pointer;padding:1rem 2rem}.footer[_ngcontent-%COMP%]{width:100%;background-color:#000;display:flex;flex-flow:row wrap;padding-bottom:30px}.footer-menu[_ngcontent-%COMP%]{height:300px;width:100%;display:flex;color:#fff;padding:0 20%;margin-top:80px}.footer-logo[_ngcontent-%COMP%]{width:16%;display:flex;flex-flow:column;padding:0 15px}.footer-column[_ngcontent-%COMP%]{width:16%;display:flex;flex-flow:column;padding:20px 15px 0}.footer-title[_ngcontent-%COMP%]{color:#919496;font-size:12px;font-weight:900;line-height:1.4;letter-spacing:.08em;text-transform:uppercase;margin-bottom:15px}.footer-item[_ngcontent-%COMP%]{display:inline-block;font-size:16px;font-weight:400;line-height:1.5;text-decoration:none;padding:3px 0 15px;cursor:pointer}.footer-item[_ngcontent-%COMP%]:hover{color:#1ed760}.footer-spotifylogo[_ngcontent-%COMP%]{width:80%}.footer-divider[_ngcontent-%COMP%]{padding:0 20%;width:100%;display:flex;color:#919496;justify-content:flex-end}.divider-text[_ngcontent-%COMP%]{padding-left:5px}.divider-text[_ngcontent-%COMP%]:hover{color:#1ed760}.footer-social[_ngcontent-%COMP%]{width:16%;display:flex;flex-flow:row;padding:0 15px}.social-icons[_ngcontent-%COMP%]{margin:10px 5px;display:flex;background-color:#222326;height:50px;width:50px;min-height:50px;min-width:50px;border-radius:100px;justify-content:center;align-items:center}.social-icon[_ngcontent-%COMP%]:hover{color:#1ed760;cursor:pointer}.footer-footer[_ngcontent-%COMP%]{color:#fff;padding:0 20%;width:100%;height:50px;display:flex;align-items:center}.fitem[_ngcontent-%COMP%]{color:gray;margin:0 10px}.fitem[_ngcontent-%COMP%]:hover{color:#1ed760}.fitem-end[_ngcontent-%COMP%]{text-align:right;flex-grow:50;color:#919496}@media (max-width: 1200px){.container-title[_ngcontent-%COMP%]{font-size:90px;text-indent:0em;line-height:90px;width:500px;text-align:center;padding:0 0 40px;margin:0}.container-image[_ngcontent-%COMP%]{background-image:url(https://www-growth.scdn.co/static/home/bursts-tablet.svg);background-size:153%;background-position:right 40% center;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.nav-item[_ngcontent-%COMP%]{flex-grow:5;font-size:1em;font-weight:700;text-align:center;cursor:pointer}.footer-menu[_ngcontent-%COMP%]{padding:0 2%}.footer-item[_ngcontent-%COMP%]{font-size:12px}}']}),e})(),SA=(()=>{class e{constructor(e){this.http=e,this.test="How r u?"}httpGet(e){return this.http.get(e)}httpPost(e,{}){return this.http.post(e,{name:"TestSubject"})}sendEmail(e,t){return this.http.post(e,t)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ic))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),EA=(()=>{class e{constructor(){this.isMusician=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function CA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",45),r.TgZ(1,"div",46),r.TgZ(2,"h1",47),r._uU(3," R\xe9servez des musiciens plus facilement "),r.qZA(),r.qZA(),r.TgZ(4,"div",48),r.TgZ(5,"h1",49),r._uU(6," Laissez les musiciens venir \xe0 vous "),r.qZA(),r.TgZ(7,"button",50),r.NdJ("click",function(){return r.CHM(e),r.oxw().scrollDown()}),r._uU(8," Commencer "),r.qZA(),r.qZA(),r.qZA()}}function IA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",45),r.TgZ(1,"h1",47),r._uU(2," Musician booking made easier "),r.qZA(),r.TgZ(3,"div",48),r.TgZ(4,"h1",49),r._uU(5," Let musicians come to you "),r.qZA(),r.TgZ(6,"button",50),r.NdJ("click",function(){return r.CHM(e),r.oxw().scrollDown()}),r._uU(7," Get started "),r.qZA(),r.qZA(),r.qZA()}}function kA(e,t){1&e&&(r.TgZ(0,"div",51),r.TgZ(1,"h1",52),r._uU(2," Pourquoi OpenBook? "),r.qZA(),r.TgZ(3,"div",53),r.TgZ(4,"p"),r._uU(5," La r\xe9servation de musiciens pour les \xe9v\xe9nements est complexe, "),r.qZA(),r.TgZ(6,"p"),r._uU(7," ardue et d\xe9centralis\xe9e. Nous simplifions le processus en permettant "),r.qZA(),r.TgZ(8,"p"),r._uU(9," aux h\xf4tes de publier des gigs sur notre plateforme. Nous laissons les "),r.qZA(),r.TgZ(10,"p"),r._uU(11,"musiciens venir \xe0 vous!"),r.qZA(),r.qZA(),r.qZA())}function AA(e,t){1&e&&(r.TgZ(0,"div",51),r.TgZ(1,"h1",52),r._uU(2," Why OpenBook? "),r.qZA(),r.TgZ(3,"div",53),r.TgZ(4,"p"),r._uU(5," The booking of musicians for events is complex, time-consuming "),r.qZA(),r.TgZ(6,"p"),r._uU(7," and decentralized. We simplify the process by allowing hosts to "),r.qZA(),r.TgZ(8,"p"),r._uU(9," publish gigs on our platform. We let the musicians come to you! "),r.qZA(),r.qZA(),r.qZA())}function xA(e,t){1&e&&(r.TgZ(0,"div",54),r.TgZ(1,"h1",55),r._uU(2," Une plateforme int\xe9gr\xe9e pour communiquer, r\xe9server et payer les musiciens de vos \xe9v\xe9nements "),r.qZA(),r.TgZ(3,"div",56),r.TgZ(4,"p"),r._uU(5," Communiquez, administrez vos r\xe9servations et sautez le processus de "),r.qZA(),r.TgZ(6,"p"),r._uU(7,"recherche gr\xe2ce \xe0 notre mod\xe8le de publication des gigs."),r.qZA(),r.qZA(),r.qZA())}function OA(e,t){1&e&&(r.TgZ(0,"div",54),r.TgZ(1,"h1",55),r._uU(2," An all-in-one platform to connect, book and pay artists for your events "),r.qZA(),r.TgZ(3,"div",56),r.TgZ(4,"p"),r._uU(5," Easily connect to musicians, manage your bookings and skip the "),r.qZA(),r.TgZ(6,"p"),r._uU(7,"search process through our post-a-gig model."),r.qZA(),r.qZA(),r.qZA())}function PA(e,t){1&e&&(r.TgZ(0,"h1",57),r._uU(1," Comment \xe7a fonctionne? "),r.qZA())}function RA(e,t){1&e&&(r.TgZ(0,"div",58),r.TgZ(1,"div",59),r._UZ(2,"i",60),r.TgZ(3,"p",48),r._uU(4," Publiez votre gig sur le Tableau des Gigs "),r.qZA(),r.TgZ(5,"p"),r._uU(6,"avec les d\xe9tails de votre \xe9v\xe9nement"),r.qZA(),r.qZA(),r.TgZ(7,"div",59),r._UZ(8,"i",61),r.TgZ(9,"p",48),r._uU(10,"Choisissez parmi les musiciens qui ont"),r.qZA(),r.TgZ(11,"p"),r._uU(12,"appliqu\xe9s pour votre gig"),r.qZA(),r.qZA(),r.TgZ(13,"div",62),r._UZ(14,"i",63),r.TgZ(15,"p",48),r._uU(16," Payez vos musiciens \xe0 travers la "),r.qZA(),r.TgZ(17,"p"),r._uU(18," plateforme et profitez de votre"),r.qZA(),r.TgZ(19,"p"),r._uU(20,"\xe9v\xe9nement!"),r.qZA(),r.qZA(),r.qZA())}function NA(e,t){1&e&&(r.TgZ(0,"h1",57),r._uU(1," How it works "),r.qZA())}function DA(e,t){1&e&&(r.TgZ(0,"div",58),r.TgZ(1,"div",59),r._UZ(2,"i",60),r.TgZ(3,"p",48),r._uU(4," Post a gig on the job Board with the details "),r.qZA(),r.TgZ(5,"p"),r._uU(6,"of your event"),r.qZA(),r.qZA(),r.TgZ(7,"div",59),r._UZ(8,"i",61),r.TgZ(9,"p",48),r._uU(10,"Choose from musicians who apply and"),r.qZA(),r.TgZ(11,"p"),r._uU(12,"confirm your selection"),r.qZA(),r.qZA(),r.TgZ(13,"div",59),r._UZ(14,"i",63),r.TgZ(15,"p",48),r._uU(16," Pay for your artists through our secure "),r.qZA(),r.TgZ(17,"p"),r._uU(18,"platform and enjoy your event!"),r.qZA(),r.qZA(),r.qZA())}function LA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",64),r.TgZ(1,"h1",65),r._uU(2," Fonctionnalit\xe9s des h\xf4tes "),r.qZA(),r.TgZ(3,"p",66),r._uU(4,"Les h\xf4tes peuvent"),r.qZA(),r.TgZ(5,"div",67),r.TgZ(6,"p"),r._UZ(7,"i",68),r._uU(8,"Cr\xe9er un compte personnel ou professionnel "),r.qZA(),r.TgZ(9,"p"),r._UZ(10,"i",68),r._uU(11,"Publier des gigs sur le Tableau des Gigs "),r.qZA(),r.TgZ(12,"p"),r._UZ(13,"i",68),r._uU(14,"Accepter ou rejeter les applications des musiciens "),r.qZA(),r.qZA(),r.TgZ(15,"button",29),r.NdJ("click",function(){return r.CHM(e),r.oxw().isHost()}),r._uU(16," S'inscrire comme h\xf4te "),r.qZA(),r.qZA()}}function FA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",64),r.TgZ(1,"h1",65),r._uU(2," Hosts features "),r.qZA(),r.TgZ(3,"p",66),r._uU(4,"Hosts can"),r.qZA(),r.TgZ(5,"div",67),r.TgZ(6,"p"),r._UZ(7,"i",68),r._uU(8,"Create a personal or business profile "),r.qZA(),r.TgZ(9,"p"),r._UZ(10,"i",68),r._uU(11,"Create gigs and publish them on the job board "),r.qZA(),r.TgZ(12,"p"),r._UZ(13,"i",68),r._uU(14,"Accept or reject Musician's applications "),r.qZA(),r.qZA(),r.TgZ(15,"button",29),r.NdJ("click",function(){return r.CHM(e),r.oxw().isHost()}),r._uU(16,"Register as a Host"),r.qZA(),r.qZA()}}function MA(e,t){1&e&&(r.TgZ(0,"h1",65),r._uU(1," Fonctionnalit\xe9s des musiciens "),r.qZA())}function UA(e,t){1&e&&(r.TgZ(0,"p",66),r._uU(1," Les musiciens peuvent "),r.qZA())}function jA(e,t){1&e&&(r.TgZ(0,"div",67),r.TgZ(1,"p"),r._UZ(2,"i",68),r._uU(3,"Cr\xe9er un profil personnel ou pour leur band "),r.qZA(),r.TgZ(4,"p"),r._UZ(5,"i",68),r._uU(6,"Appliquer pour des gigs "),r.qZA(),r.TgZ(7,"p"),r._UZ(8,"i",68),r._uU(9,"Suivre vos gains "),r.qZA(),r.qZA())}function VA(e,t){1&e&&(r.TgZ(0,"h1",65),r._uU(1," Musician features "),r.qZA())}function qA(e,t){1&e&&(r.TgZ(0,"p",66),r._uU(1," Musicians can "),r.qZA())}function BA(e,t){1&e&&(r.TgZ(0,"div",67),r.TgZ(1,"p"),r._UZ(2,"i",68),r._uU(3,"Create a personal or band profile "),r.qZA(),r.TgZ(4,"p"),r._UZ(5,"i",68),r._uU(6,"Apply for gigs "),r.qZA(),r.TgZ(7,"p"),r._UZ(8,"i",68),r._uU(9,"Track earnings "),r.qZA(),r.qZA())}function zA(e,t){1&e&&(r.TgZ(0,"h1",69),r._uU(1," Contactez-nous "),r.qZA())}function ZA(e,t){1&e&&(r.TgZ(0,"h1",69),r._uU(1," Sign-up to our mailing list to learn more! "),r.qZA())}function HA(e,t){1&e&&(r.TgZ(0,"h2",40),r._uU(1,"Pr\xe9nom"),r.qZA())}function $A(e,t){1&e&&(r.TgZ(0,"h2",40),r._uU(1,"First Name"),r.qZA())}function GA(e,t){1&e&&(r.TgZ(0,"h2",40),r._uU(1,"Nom"),r.qZA())}function KA(e,t){1&e&&(r.TgZ(0,"h2",40),r._uU(1,"Last Name"),r.qZA())}function WA(e,t){1&e&&(r.TgZ(0,"h2",40),r._uU(1,"Courriel*"),r.qZA())}function QA(e,t){1&e&&(r.TgZ(0,"h2",40),r._uU(1,"Email*"),r.qZA())}function YA(e,t){1&e&&(r.TgZ(0,"h2",40),r._uU(1,"T\xe9l\xe9phone"),r.qZA())}function JA(e,t){1&e&&(r.TgZ(0,"h2",40),r._uU(1,"Phone"),r.qZA())}function XA(e,t){if(1&e&&(r.TgZ(0,"p",70),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij(" ",e.getSubmitValue()," ")}}const ex=[{path:"",redirectTo:"/wip",pathMatch:"full"},{path:"feed",component:TA},{path:"create",component:bA,canActivate:[qd],data:{authGuardPipe:()=>(e=>(0,Bh.z)(Vd,(0,xe.U)(t=>t||e)))(["feed"])}},{path:"wip",component:(()=>{class e{constructor(e,t){this.httpService=e,this.wipSwitchService=t,this.isFrench=!0,this.name="",this.message="",this.phoneNumber="",this.email="",this.familyName="",this.submitMessage=""}ngOnInit(){}activateFrench(){this.isFrench=!0}deactivateFrench(){this.isFrench=!1}sendMessage(){if(this.verifyName())if(this.verifyFamilyName())if(this.verifyEmail())if(this.verifyPhoneNumber())if(this.verifyMessage())try{this.sendMail()}catch(e){this.submitMessage=this.isFrench?"Il est impossible d'envoyer un message \xe0 ce moment...":"Your message cannot be sent currently..."}else this.submitMessage=this.isFrench?"Message invalide!":"Invalid message!";else this.submitMessage=this.isFrench?"Num\xe9ro de t\xe9l\xe9phone invalide (10 chiffres)!":"Invalid phone number (10 digits)!";else this.submitMessage=this.isFrench?"Adresse courriel invalide (il faut @)!":"Invalid email (needed @)!";else this.submitMessage=this.isFrench?"Nom erron\xe9, seulement les lettres, -, (espace) et ' sont autoris\xe9s!":"Invalid family name, only letters, -, (space) and ' are authorized!";else this.submitMessage=this.isFrench?"Pr\xe9nom erron\xe9, seulement les lettres, -, (espace) et ' sont autoris\xe9s!":"Invalid first name, only letters, -, (space) and ' are authorized!";setTimeout(()=>{this.submitMessage=""},4e3)}scrollDown(){window.scroll({top:document.body.scrollHeight,left:0,behavior:"smooth"})}verifyName(){return!!/^[a-zA-Z]+[-'\s]{0,1}[a-zA-Z]+[-'\s]{0,1}[a-zA-Z]+$/.test(this.name)}verifyFamilyName(){return!!/^[a-zA-Z]+[-'\s]{0,1}[a-zA-Z]+[-'\s]{0,1}[a-zA-Z]+$/.test(this.familyName)}verifyPhoneNumber(){return!(14!==this.phoneNumber.length||!/^\(\d{3}\)\s\d{3}\-\d{4}$/.test(this.phoneNumber))}verifyEmail(){return!(this.email.search("@")<0)}verifyMessage(){return!(this.message.length<20||this.message.length>3e3)}sendMail(){let e={name:this.name+" "+this.familyName,email:this.email,message:this.message,phone:"Vous pouvez m'appeller au "+this.phoneNumber+"."};console.log("deploy send email"),this.httpService.sendEmail("https://us-central1-server-deploy-testing2.cloudfunctions.net/app/sendmail",e).subscribe(e=>{this.submitMessage=this.isFrench?"Merci de nous \xe9crire!":"Thanks to reaching out to our team!",alert(this.submitMessage)},e=>{this.submitMessage=this.isFrench?"Une erreur s'est produite...":"An error has occurred..."},()=>{})}getSubmitValue(){return this.submitMessage}isHost(){this.wipSwitchService.isMusician=!1}isMusician(){this.wipSwitchService.isMusician=!0}updatePhoneNumber(){/^\d{3}$/.test(this.phoneNumber)?this.phoneNumber="("+this.phoneNumber+") ":/^\(\d{3}\)\s\d{3}$/.test(this.phoneNumber)&&(this.phoneNumber+="-")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(SA),r.Y36(EA))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-wip"]],decls:79,vars:41,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],[1,"container"],[1,"topnav"],["src","assets/OpenBookImages/companyName.PNG","alt","logo",2,"margin-left","5%","margin-top","1%","width","222px","height","59px"],[2,"margin-right","5%",3,"ngClass","click"],[2,"margin-right","0.5%",3,"ngClass","click"],[1,"image-container"],["class","halved-container","style","text-align: center; width: 55%",4,"ngIf"],[1,"halved-container",2,"width","45%","text-align","left"],["src","assets/OpenBookImages/Img1.jpg","alt","1st Image",1,"img-spec"],[1,"h1",2,"color","#041b3b","margin-bottom","5%"],[1,"image-container",2,"margin-top","2%"],[1,"halved-container",2,"width","45%"],["src","assets/OpenBookImages/Img5.jpg","alt","2nd Image",1,"img"],["class","halved-container","style","width: 55%; position: absolute; top: -25%; left: 50%",4,"ngIf"],["class","halved-container2",4,"ngIf"],[1,"halved-container",2,"width","45%","margin-left","50%"],["src","assets/OpenBookImages/Img3.jpg","alt","3rd image",1,"img-spec-2"],["class","h3","style","margin-top: 10%; margin-bottom: -2.5%",4,"ngIf"],["class","image-container","style","margin-bottom: 6%",4,"ngIf"],["class","halved-container","style","position: absolute; top: -25%",4,"ngIf"],[1,"halved-container",2,"margin-left","50%"],["src","assets/OpenBookImages/Img2.jpg","alt","3rd Image",1,"img"],[1,"halved-container"],["src","assets/OpenBookImages/Img4.jpg","alt","4th Image",1,"img"],[1,"halved-container",2,"position","absolute","left","45%","top","-25%"],["class","h2","style","\n                    text-align: left;\n                    margin-left: 25%;\n                    color: #041b3b;\n                    margin-bottom: 5%;\n                ",4,"ngIf"],["style","margin-left: 25%; text-align: left",4,"ngIf"],["style","text-align: left; margin-left: 30%",4,"ngIf"],["routerLink","/under-development",3,"click"],["class","h2","style","\n            margin-top: 12%;\n            text-align: left;\n            margin-left: 26%;\n            margin-bottom: 2%;\n        ",4,"ngIf"],[2,"display","inline","width","100%","height","40%","margin-bottom","5%"],[2,"display","flex","width","50%","margin-left","26%","margin-top","1%"],[2,"width","50%","display","inline"],["class","info-text",4,"ngIf"],["type","\u201ctext\u201d","placeholder","e.g., Kat",3,"ngModel","ngModelChange"],["type","\u201ctext\u201d","placeholder","e.g., Jones",3,"ngModel","ngModelChange"],["type","mail","placeholder","e.g., example@mail.com",3,"ngModel","ngModelChange"],["type","tel","placeholder","e.g., 1234567890",3,"ngModel","ngModelChange","click"],[2,"display","inline","width","100%"],[1,"info-text"],["type","\u201ctext\u201d",2,"width","95%",3,"placeholder","ngModel","ngModelChange"],[1,"submit-button",3,"click"],["class","p2","style","text-align: center; margin-top: 0%; margin-bottom: 3%",4,"ngIf"],[1,"fa","fa-copyright"],[1,"halved-container",2,"text-align","center","width","55%"],[2,"margin-top","13.5%"],[1,"h1",2,"margin-left","5%"],[2,"margin-top","5%"],[1,"h2-replica",2,"margin-left","0%"],[2,"margin-top","2%",3,"click"],[1,"halved-container",2,"width","55%","position","absolute","top","-25%","left","50%"],[1,"h2",2,"text-align","left","color","#041b3b","margin-bottom","5%"],[2,"text-align","left"],[1,"halved-container2"],[1,"h2",2,"margin-left","10%","color","#041b3b","text-align","left"],[2,"margin-top","8%","text-align","center","margin-left","5%"],[1,"h3",2,"margin-top","10%","margin-bottom","-2.5%"],[1,"image-container",2,"margin-bottom","6%"],[2,"width","33.33%","text-align","center","margin-top","5%","display","inline"],[1,"fa","fa-home",2,"color","#18437b","font-size","66px"],[1,"fa","fa-refresh",2,"color","#18437b","font-size","66px"],[2,"width","33.33%","text-align","center","margin-top","5%","display","inline","margin-right","5%"],[1,"fa","fa-arrow-circle-o-right",2,"color","#18437b","font-size","66px"],[1,"halved-container",2,"position","absolute","top","-25%"],[1,"h2",2,"text-align","left","margin-left","25%","color","#041b3b","margin-bottom","5%"],[2,"margin-left","25%","text-align","left"],[2,"text-align","left","margin-left","30%"],[1,"fa","fa-circle",2,"font-size","8px","margin-right","2%"],[1,"h2",2,"margin-top","12%","text-align","left","margin-left","26%","margin-bottom","2%"],[1,"p2",2,"text-align","center","margin-top","0%","margin-bottom","3%"]],template:function(e,t){1&e&&(r._UZ(0,"link",0),r.TgZ(1,"div",1),r.TgZ(2,"header",2),r._UZ(3,"img",3),r.TgZ(4,"a",4),r.NdJ("click",function(){return t.deactivateFrench()}),r._uU(5,"Eng"),r.qZA(),r.TgZ(6,"a",5),r.NdJ("click",function(){return t.activateFrench()}),r._uU(7,"Fr"),r.qZA(),r.qZA(),r.TgZ(8,"div",6),r.YNc(9,CA,9,0,"div",7),r.YNc(10,IA,8,0,"div",7),r.TgZ(11,"div",8),r._UZ(12,"img",9),r.qZA(),r.qZA(),r.TgZ(13,"h1",10),r._uU(14),r.qZA(),r.TgZ(15,"div",11),r.TgZ(16,"div",12),r._UZ(17,"img",13),r.qZA(),r.YNc(18,kA,12,0,"div",14),r.YNc(19,AA,10,0,"div",14),r.qZA(),r.TgZ(20,"div",6),r.YNc(21,xA,8,0,"div",15),r.YNc(22,OA,8,0,"div",15),r.TgZ(23,"div",16),r._UZ(24,"img",17),r.qZA(),r.qZA(),r.YNc(25,PA,2,0,"h1",18),r.YNc(26,RA,21,0,"div",19),r.YNc(27,NA,2,0,"h1",18),r.YNc(28,DA,19,0,"div",19),r.TgZ(29,"div",11),r.YNc(30,LA,17,0,"div",20),r.YNc(31,FA,17,0,"div",20),r.TgZ(32,"div",21),r._UZ(33,"img",22),r.qZA(),r.qZA(),r.TgZ(34,"div",11),r.TgZ(35,"div",23),r._UZ(36,"img",24),r.qZA(),r.TgZ(37,"div",25),r.YNc(38,MA,2,0,"h1",26),r.YNc(39,UA,2,0,"p",27),r.YNc(40,jA,10,0,"div",28),r.YNc(41,VA,2,0,"h1",26),r.YNc(42,qA,2,0,"p",27),r.YNc(43,BA,10,0,"div",28),r.TgZ(44,"button",29),r.NdJ("click",function(){return t.isMusician()}),r._uU(45),r.qZA(),r.qZA(),r.qZA(),r.YNc(46,zA,2,0,"h1",30),r.YNc(47,ZA,2,0,"h1",30),r.TgZ(48,"div",31),r.TgZ(49,"div",32),r.TgZ(50,"div",33),r.YNc(51,HA,2,0,"h2",34),r.YNc(52,$A,2,0,"h2",34),r.TgZ(53,"input",35),r.NdJ("ngModelChange",function(e){return t.name=e}),r.qZA(),r.qZA(),r.TgZ(54,"div",33),r.YNc(55,GA,2,0,"h2",34),r.YNc(56,KA,2,0,"h2",34),r.TgZ(57,"input",36),r.NdJ("ngModelChange",function(e){return t.familyName=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(58,"div",32),r.TgZ(59,"div",33),r.YNc(60,WA,2,0,"h2",34),r.YNc(61,QA,2,0,"h2",34),r.TgZ(62,"input",37),r.NdJ("ngModelChange",function(e){return t.email=e}),r.qZA(),r.qZA(),r.TgZ(63,"div",33),r.YNc(64,YA,2,0,"h2",34),r.YNc(65,JA,2,0,"h2",34),r._uU(66),r.TgZ(67,"input",38),r.NdJ("ngModelChange",function(e){return t.phoneNumber=e})("click",function(){return t.updatePhoneNumber()}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(68,"div",32),r.TgZ(69,"div",39),r.TgZ(70,"h2",40),r._uU(71,"Message"),r.qZA(),r.TgZ(72,"input",41),r.NdJ("ngModelChange",function(e){return t.message=e}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(73,"button",42),r.NdJ("click",function(){return t.sendMessage()}),r._uU(74),r.qZA(),r.YNc(75,XA,2,1,"p",43),r.qZA(),r.TgZ(76,"footer"),r._UZ(77,"i",44),r._uU(78," 2023 by OpenBook"),r.qZA(),r.qZA()),2&e&&(r.xp6(4),r.Q6J("ngClass",t.isFrench?"not":"active"),r.xp6(2),r.Q6J("ngClass",t.isFrench?"active":"not"),r.xp6(3),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(4),r.hij(" ",t.isFrench?"Bienvenue sur OpenBook":"Welcome to OpenBook"," "),r.xp6(4),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(2),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(3),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(2),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(7),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(2),r.hij(" ",t.isFrench?"S'inscrire comme Musicien":"Register as a Musician"," "),r.xp6(1),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(4),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(1),r.Q6J("ngModel",t.name),r.xp6(2),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(1),r.Q6J("ngModel",t.familyName),r.xp6(3),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(1),r.Q6J("ngModel",t.email),r.xp6(2),r.Q6J("ngIf",t.isFrench),r.xp6(1),r.Q6J("ngIf",!t.isFrench),r.xp6(1),r.hij(" ",t.updatePhoneNumber()," "),r.xp6(1),r.Q6J("ngModel",t.phoneNumber),r.xp6(5),r.Q6J("placeholder",t.isFrench?"Tapez votre message et les d\xe9tails de votre \xe9v\xe8nement ici...":"Type your questions and the details of your event here...")("ngModel",t.message),r.xp6(2),r.hij(" ",t.isFrench?"Soumettre":"Submit"," "),r.xp6(1),r.Q6J("ngIf",""!==t.getSubmitValue()))},directives:[x,O,zr,Ju,mh,Fh],styles:['@import"https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap";@font-face{font-family:"Avenir";src:url(FontsFree-Net-Avenir-Light.3d58440667d5d20a9f02.ttf)}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:3950px;max-height:3950px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth;padding-left:3%;padding-right:3%}.topnav[_ngcontent-%COMP%]{background-color:#fdfdfd;overflow:hidden}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1.5%;float:right;color:#000;text-align:center;padding:14px 16px;text-decoration:none;font-size:16px;font-family:"Avenir",Helvetica,sans-serif;font-weight:bold;cursor:pointer}.topnav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:150%;font-size:x-large;color:#18437b;margin-left:1%;font-family:"Quicksand",sans-serif}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:gray;transition-delay:.15s}.topnav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:gray}.open-book-logo[_ngcontent-%COMP%]{margin-left:5%}.title-zone[_ngcontent-%COMP%]{width:100%;height:3%;text-align:center}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative}.halved-container[_ngcontent-%COMP%]{display:inline;width:50%;height:60%;text-align:center}.h1[_ngcontent-%COMP%]{font-size:40px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:28px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:28px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:32px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:19px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:3900px;width:100%}button[_ngcontent-%COMP%]{background-color:#041b3b;color:#fff;text-align:center;font-size:16px;border-radius:24px;padding:12px 14px;border:none;margin-top:10%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#1c65a1}.info-text[_ngcontent-%COMP%]{font-size:22px;color:#373b4d;text-align:left}input[_ngcontent-%COMP%]{border:solid 2px;color:#000;background-color:#fff;border-radius:0%;width:90%;font-style:italic;font-family:"Avenir",Helvetica,sans-serif;padding:10px}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:49%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:#000;transition-delay:.15s}.img[_ngcontent-%COMP%]{width:450px;height:450px}.img-spec[_ngcontent-%COMP%]{width:497px;height:418px}.img-spec-2[_ngcontent-%COMP%]{width:520px;height:470px}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-25%}@media only screen and (max-width: 1200px){.img[_ngcontent-%COMP%]{margin-top:25%;width:300px;height:300px}.img-spec[_ngcontent-%COMP%]{width:331px;height:276px}.img-spec-2[_ngcontent-%COMP%]{width:380px;height:278px}.h1[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:18px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:24px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:14px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:3380px;width:100%}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:3450px;max-height:3450px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:50%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;margin-bottom:5%}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-75%}}@media only screen and (max-width: 900px){.img[_ngcontent-%COMP%]{margin-top:25%;width:300px;height:300px}.img-spec[_ngcontent-%COMP%]{width:331px;height:276px}.img-spec-2[_ngcontent-%COMP%]{width:380px;height:278px}.h1[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:18px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:24px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:14px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b;max-width:40ch}.p2[_ngcontent-%COMP%]{font-size:14px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b;max-width:100%;text-align:center}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:3070px;width:100%}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:3100px;max-height:3100px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:50.5%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;margin-bottom:5%}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-75%}}@media only screen and (max-width: 700px){.img[_ngcontent-%COMP%]{margin-top:25%;width:250px;height:250px}.img-spec[_ngcontent-%COMP%]{width:305px;height:254px}.img-spec-2[_ngcontent-%COMP%]{margin-top:30%;width:342px;height:250px}.h1[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:18px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:24px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:14px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b;max-width:30ch;text-align:center}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:3550px;width:100%}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:3600px;max-height:3600px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:51%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;margin-bottom:25%;margin-top:10%}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-75%}}@media only screen and (max-width: 600px){.img[_ngcontent-%COMP%]{margin-top:25%;width:250px;height:250px}.img-spec[_ngcontent-%COMP%]{width:255px;height:212px}.img-spec-2[_ngcontent-%COMP%]{margin-top:30%;width:293px;height:214px}.h1[_ngcontent-%COMP%]{font-size:32px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:18px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:24px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:13px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b;max-width:30ch;text-align:center}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:3450px;width:100%}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:3500px;max-height:3500px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:51.5%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;margin-bottom:30%;margin-top:10%}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-75%}}@media only screen and (max-width: 500px){.img[_ngcontent-%COMP%]{margin-top:25%;width:140px;height:140px}.img-spec[_ngcontent-%COMP%]{width:143px;height:119px}.img-spec-2[_ngcontent-%COMP%]{margin-top:30%;width:164px;height:120px}.h1[_ngcontent-%COMP%]{font-size:22px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:100px}.h2[_ngcontent-%COMP%]{font-size:14px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;margin-top:250px}.h2-replica[_ngcontent-%COMP%]{font-size:14px;text-align:center;font-family:"Avenir",Helvetica,sans-serif}.h3[_ngcontent-%COMP%]{font-size:15px;color:#18437b;font-family:"Montserrat",sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-size:11px;font-family:"Avenir",Helvetica,sans-serif;color:#21000b;max-width:20ch;text-align:center}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:4925px;width:100%}.container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:4950px;max-height:4950px;overflow-x:hidden;background-color:#fdfdfd;scroll-behavior:smooth}.submit-button[_ngcontent-%COMP%]{background-color:#373b4d;color:#fff;width:52.5%;border-radius:0%;font-size:20px;text-align:center;margin-left:26%;margin-top:1%;margin-bottom:2%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.image-container[_ngcontent-%COMP%]{display:flex;width:100%;position:relative;margin-bottom:100%;margin-top:50%}.halved-container2[_ngcontent-%COMP%]{text-align:left;width:55%;position:absolute;top:-75%}.info-text[_ngcontent-%COMP%]{font-size:14px;color:#373b4d;text-align:left}button[_ngcontent-%COMP%]{background-color:#041b3b;color:#fff;text-align:center;font-size:12px;border-radius:24px;padding:12px 14px;border:none;margin-top:10%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1.5%;float:right;color:#000;text-align:center;padding:14px 16px;text-decoration:none;font-size:10px;font-family:"Avenir",Helvetica,sans-serif;font-weight:bold;cursor:pointer}.topnav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:150%;font-size:14px;color:#18437b;margin-left:1%;font-family:"Quicksand",sans-serif}}']}),e})()},{path:"under-development",component:(()=>{class e{constructor(e){this.wipSwitchService=e,this.isFrench=!0}ngOnInit(){}activateFrench(){this.isFrench=!0}deactivateFrench(){this.isFrench=!1}getIsMusician(){return this.wipSwitchService.isMusician}getIsFrench(){return this.isFrench}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(EA))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-under-construction-page"]],decls:22,vars:6,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],[1,"container"],[1,"topnav"],["src","assets/OpenBookImages/companyName.PNG","alt","logo",2,"margin-left","8%","margin-top","1%","width","222px","height","59px"],[2,"margin-right","5%",3,"ngClass","click"],[2,"margin-right","0.5%",3,"ngClass","click"],[1,"image-container"],[1,"circle"],[1,"text-container"],[1,"h2"],["routerLink","/wip"],[1,"fa","fa-copyright"]],template:function(e,t){1&e&&(r._UZ(0,"link",0),r.TgZ(1,"div",1),r.TgZ(2,"header",2),r._UZ(3,"img",3),r.TgZ(4,"a",4),r.NdJ("click",function(){return t.deactivateFrench()}),r._uU(5,"Eng"),r.qZA(),r.TgZ(6,"a",5),r.NdJ("click",function(){return t.activateFrench()}),r._uU(7,"Fr"),r.qZA(),r.qZA(),r.TgZ(8,"div",6),r._UZ(9,"div",7),r.TgZ(10,"div",8),r.TgZ(11,"h1",9),r._uU(12),r.qZA(),r.TgZ(13,"h1",9),r._uU(14),r.qZA(),r.TgZ(15,"h1",9),r._uU(16),r.qZA(),r.TgZ(17,"button",10),r._uU(18),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"footer"),r._UZ(20,"i",11),r._uU(21," 2023 by OpenBook"),r.qZA()),2&e&&(r.xp6(4),r.Q6J("ngClass",t.isFrench?"not":"active"),r.xp6(2),r.Q6J("ngClass",t.isFrench?"active":"not"),r.xp6(6),r.hij(" ",t.isFrench?"Notre site est en construction.":"Our website is under development."," "),r.xp6(2),r.hij(" ",t.isFrench?"Cette fonctionnalit\xe9 n'est pas encore disponible.":"The said functionality isn't available yet."," "),r.xp6(2),r.hij(" ",t.isFrench?t.getIsMusician()?"Pour s'enregistrer comme musicien, envoyez nous un message.":"Pour r\xe9server un musicien, envoyez-nous un message.":t.getIsMusician()?"To register as a musician, please contact us.":"To book a musician, fill out the form."," "),r.xp6(2),r.hij(" ",t.isFrench?"Retour au menu principal":"Back to main menu"," "))},directives:[x,zr],styles:['@import"https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap";@font-face{font-family:"Avenir";src:url(FontsFree-Net-Avenir-Light.3d58440667d5d20a9f02.ttf)}.container[_ngcontent-%COMP%]{height:100%;width:100%;max-height:100%;max-width:100%;overflow:hidden;display:inline;padding-left:3%;padding-right:3%}.image-container[_ngcontent-%COMP%]{background-color:#ebeaed;background-repeat:no-repeat;background-position:center center;width:100%;max-width:100%;height:50%;max-height:50%;padding-top:15%;text-align:center;overflow:hidden}.circle[_ngcontent-%COMP%]{border-radius:50%;width:70%;height:75%;background-color:#f3f2f4;position:fixed;margin-left:50%;bottom:8%;top:16%;z-index:.1}.text-container[_ngcontent-%COMP%]{position:fixed;width:50%;height:50%;max-height:50%;max-width:50%;top:40%;left:25%}.topnav[_ngcontent-%COMP%]{background-color:#fdfdfd;overflow:hidden}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1.5%;float:right;color:#000;text-align:center;padding:14px 16px;text-decoration:none;font-size:16px;font-family:"Avenir",Helvetica,sans-serif;font-weight:bold;cursor:pointer}.topnav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:150%;font-size:x-large;color:#18437b;margin-left:3.5%;font-family:"Quicksand",sans-serif}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:gray;transition-delay:.15s}.topnav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:gray}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:95%;width:100%;background-color:#fdfdfd}.h2[_ngcontent-%COMP%]{font-size:24px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;color:#000}button[_ngcontent-%COMP%]{background-color:#041b3b;color:#fff;text-align:center;font-size:16px;border-radius:24px;padding:12px 14px;border:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#1c65a1}@media only screen and (max-width: 1000px){.image-container[_ngcontent-%COMP%]{background-color:#ebeaed;background-repeat:no-repeat;background-position:center center;width:100%;max-width:100%;height:65%;max-height:65%;text-align:center;overflow:hidden}.h2[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;color:#000}.circle[_ngcontent-%COMP%]{border-radius:50%;width:70%;height:70%;background-color:#f3f2f4;position:fixed;margin-left:50%;bottom:10%;top:16%;z-index:.1}button[_ngcontent-%COMP%]{background-color:#041b3b;color:#fff;text-align:center;font-size:20px;border-radius:24px;padding:12px 14px;border:none;margin-top:15%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1.5%;float:right;color:#000;text-align:center;padding:14px 16px;text-decoration:none;font-size:16px;font-family:"Avenir",Helvetica,sans-serif;font-weight:bold;cursor:pointer}.topnav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:150%;font-size:x-large;color:#18437b;margin-left:1%;font-family:"Quicksand",sans-serif}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:96%;width:100%;background-color:#fdfdfd}.text-container[_ngcontent-%COMP%]{position:fixed;width:70%;height:50%;max-height:50%;max-width:70%;top:30%;left:15%}}@media only screen and (max-width: 500px){.image-container[_ngcontent-%COMP%]{background-color:#ebeaed;background-repeat:no-repeat;background-position:center center;width:100%;max-width:100%;height:60%;max-height:60%;text-align:center;overflow:hidden}.h2[_ngcontent-%COMP%]{font-size:12px;text-align:center;font-family:"Avenir",Helvetica,sans-serif;color:#000}.circle[_ngcontent-%COMP%]{border-radius:50%;width:60%;height:60%;background-color:#f3f2f4;position:fixed;margin-left:50%;bottom:8%;z-index:.1}button[_ngcontent-%COMP%]{background-color:#041b3b;color:#fff;text-align:center;font-size:12px;border-radius:24px;padding:12px 14px;border:none;margin-top:4%;font-family:"Avenir",Helvetica,sans-serif;cursor:pointer}.topnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:1.5%;float:right;color:#000;text-align:center;padding:14px 16px;text-decoration:none;font-size:10px;font-family:"Avenir",Helvetica,sans-serif;font-weight:bold;cursor:pointer}.topnav[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:150%;font-size:14px;color:#18437b;margin-left:1%;font-family:"Quicksand",sans-serif}footer[_ngcontent-%COMP%]{text-align:center;font-family:"Avenir",Helvetica,sans-serif;position:absolute;top:96%;width:100%;background-color:#fdfdfd}.text-container[_ngcontent-%COMP%]{position:fixed;width:70%;height:50%;max-height:50%;max-width:70%;top:20%;left:15%}}']}),e})()}];let tx=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ti.forRoot(ex,{relativeLinkResolution:"legacy"})],ti]}),e})();const nx={projectId:"openbook-1",appId:"1:813930860166:web:700b12450ff6d00fa20b07",storageBucket:"openbook-1.appspot.com",apiKey:"AIzaSyARTwBN1wSqGlfAU1kw-Qj-MBOMXIl4Gog",authDomain:"openbook-1.firebaseapp.com",messagingSenderId:"813930860166",measurementId:"G-LZ78491RM3"};let rx=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Gh.hO.initializeApp(nx)]]}),e})(),ix=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[ui]}),e.\u0275inj=r.cJS({imports:[[tx,qh,me,rx,jh,jc]]}),e})();(0,r.G48)(),pe().bootstrapModule(ix).catch(e=>console.error(e))},4762:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,a)}c((r=r.apply(e,t||[])).next())})}function s(e){return this instanceof s?(this.v=e,this):new s(e)}function o(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||c(e,t)})})}function c(e,t){try{!function(e){e.value instanceof s?Promise.resolve(e.value.v).then(l,u):h(o[0][2],e)}(i[e](t))}catch(n){h(o[0][3],n)}}function l(e){c("next",e)}function u(e){c("throw",e)}function h(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}}function a(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}n.d(t,{_T:function(){return r},mG:function(){return i},qq:function(){return s},FC:function(){return o},KL:function(){return a}})},3394:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(3854),i=n(3910),s=n(8026),o=n(5422);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),l=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=l;(0,s.registerVersion)("@firebase/app-compat","0.1.15",undefined)},8026:function(e,t,n){"use strict";n.r(t),n.d(t,{FirebaseError:function(){return o.ZR},SDK_VERSION:function(){return T},_DEFAULT_ENTRY_NAME:function(){return u},_addComponent:function(){return p},_addOrOverwriteComponent:function(){return g},_apps:function(){return d},_clearComponents:function(){return _},_components:function(){return f},_getProvider:function(){return y},_registerComponent:function(){return m},_removeServiceInstance:function(){return v},deleteApp:function(){return I},getApp:function(){return E},getApps:function(){return C},initializeApp:function(){return S},onLog:function(){return x},registerVersion:function(){return A},setLogLevel:function(){return O}});var r=n(8239),i=n(3910),s=n(5422),o=n(3854);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",l=new s.Yd("@firebase/app"),u="[DEFAULT]",h={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){l.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(f.has(t))return l.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of d.values())p(n,e);return!0}function y(e,t){return e.container.getProvider(t)}function v(e,t,n=u){y(e,t).clearInstance(n)}function _(){f.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const T="9.6.4";function S(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:u,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const c=new b(e,n,a);return d.set(r,c),c}function E(e=u){const t=d.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function C(){return Array.from(d.values())}function I(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(function*(e){const t=e.name;d.has(t)&&(d.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function A(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void l.warn(e.join(" "))}m(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function O(e){(0,s.Ub)(e)}m(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),A(c,"0.7.14",""),A(c,"0.7.14","esm2017"),A("fire-js","")},3910:function(e,t,n){"use strict";n.d(t,{wA:function(){return s},H0:function(){return c}});var r=n(8239),i=n(3854);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(n){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,r.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class c{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},5422:function(e,t,n){"use strict";n.d(t,{in:function(){return i},Yd:function(){return l},Ub:function(){return u},Am:function(){return h}});const r=[];var i=(()=>{return(e=i||(i={}))[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",i;var e})();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class l{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},8239:function(e,t,n){"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,c,"next",e)}function c(e){r(o,i,s,a,c,"throw",e)}a(void 0)})}}n.d(t,{Z:function(){return i}})}},function(e){e(e.s=2058)}]);